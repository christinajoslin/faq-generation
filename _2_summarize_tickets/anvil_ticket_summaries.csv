issuenumber,title,issue_summary,resolution
ATS-13780,AnvilGPT Access Request,User requires access to AnvilGPT UI and API for Stratolaunch hypersonics research on allocation account number cis220051,"The user has been granted access to both the AnvilGPT UI and API. For documentation on how to use the API, please refer to the following link: [https://www.rcac.purdue.edu/knowledge/anvil/anvilgpt/api](https://www.rcac.purdue.edu/knowledge/anvil/anvilgpt/api)"
ATS-9661,request for storage space on ANVIL,User requires assistance in requesting storage on the ANVIL HPC system.,"To request storage on the Purdue Anvil resource, a compute award must be made first. Once this is done, the Anvil staff will work directly with you and your storage needs. No specific steps are provided for requesting storage via the ACCESS program since ANVIL does not allocate their storage through it. For more information about ANVIL, please refer to their official website or contact the Anvil staff."
ATS-1668,"When I submit I a simulation, it give me an error like this",User encountered an error when submitting a sbatch job on Anvil due to exceeding queue limit.,"The error indicates that the user's required running time is longer than the queue limit. To resolve this issue, please visit the partitions page at https://www.rcac.purdue.edu/knowledge/anvil/run/partitions to check the limits for each queue and adjust the requested running time accordingly when submitting sbatch jobs in the future."
ATS-1793,Access to VASP in Anvil HPC,"- Postdoc requires VASP license confirmation on Anvil HPC and guidance on setting up X11 display for gnuplot usage.
   - Supervisor needs to add postdoc to the VASP license list.
   - Incorrect email address associated with postdoc's information in the VASP license list.","- For VASP, ask your supervisor (Professor Zunger) to add you into the valid VASP license and provide your email address for verification purposes. Let the support team know once verified so they can add you to the VASP groups on Anvil. - To fix the X11 display issue when using gnuplot, try using another SSH client such as ThinLinc, which is equipped with X11 and available for Anvil login. You can find more information about setting up both MobaXterm and ThinLinc in this guide: <https://www.rcac.purdue.edu/knowledge/anvil/access/login> and <https://www.rcac.purdue.edu/knowledge/anvil/access/login/thinlinc>. - To correct the email address associated with your information in the VASP license list, please notify the support team about the mistake so it can be updated accordingly."
ATS-1632,vasp,User needs to be added to vasp6 license and instructions on using the VASP software on Anvil,"The user has been added to the vasp6 group on Anvil and their membership will be ready within a few hours. To use VASP6, make sure to add 'module load hdf5' to your submit script. For more information about using VASP on Anvil, please refer to this documentation: [VASP calculations on Anvil](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp) and [Installing Applications on Anvil](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications)."
ATS-1636,Need quota increase on Anvil $SCRATCH,Requirement for a significant increase in quota for Anvil scratch space files due to large number of simulation data cubes generated by each processor.,"To address the user's requirement, you can consider increasing their Anvil scratch space quota. The current limit of 1,000k files is not sufficient for the user's workload, which amounts to about 6.2e6 files per simulation. It would be best to increase the quota to accommodate this number, or, as a temporary solution, provide them with a higher limit for the time being. Note that each file is relatively small and does not require additional storage space at this time."
ATS-1643,How to get access into new supercomputer system for benchmarking projects,User wants to test and potentially move projects to Purdue's Anvil CPU supercomputer due to concerns about Stampede3 system resources and waiting times.,"To access and run code on the Anvil supercomputer, the user should submit a Supplement for additional SUs (Stored Units). Follow these steps:
   - Log in to the ACCESS Home Page at https://allocations.access-ci.org
   - Click on ""Manage Allocations."" - Within ""Manage Allocations,"" click on ""Manage My Projects."" - Go to the List of ACCESS Allocation Requests page at https://allocations.access-ci.org/requests
   - Look for the Allocation you would like to take action on and click the ""Choose New Action"" button. - Choose the option: Supplement. - Submit a Progress Report describing how the PI's current allocation was used and summarizing any findings or results. - After submission, wait for reviewer's decision. If any questions arise along the way, submit a ticket at https://access-ci.atlassian.net/servicedesk/customer/portal/2"
ATS-1726,Anvil Filesystem issue,The user is experiencing an issue with the filesystem of Anvil where they cannot copy a file to a new-created directory in the specified path. The problem seems to be affecting directories under /anvil/projects and /anvil/scratch.,"The engineering team is working on resolving the glitches impacting the Anvil GPFS filesystem. In the meantime, several tweaks have been made to Anvil's file system to improve its performance. The user should experience normal performance at this moment. Further updates will be provided when the issue is fixed by vendors."
ATS-1758,Anvil filesystem stalls when I try to access some directories/files,"User is experiencing intermittent issues with Anvil's GPFS filesystem, specifically listing files, determining folder sizes, and using vim editor. The stalling occurs approximately 5 times during a 10-day period.","The reported issue appears to be related to the Anvil GPFS filesystem. While our engineering team is still investigating the root cause, temporary workarounds have been implemented that should improve performance at this time. Users can expect further updates once the vendors resolve the underlying problem. In the meantime, it is recommended to regularly save work and exit applications such as vim when not in use to minimize potential stalling issues. The affected folder is /anvil/scratch/x-samlobo/SARS1/01\_NPT\_equilibration."
ATS-15652,Have no permission to access PROJECT directory,Unable to access the project directory at /anvil/projects/x-mcb130189,"Re-attempt accessing the project directory at /anvil/projects/x-mcb130189 after the reported issue has been fixed by our engineer. For additional help, please refer to the following resources: [RCAC News](https://www.rcac.purdue.edu/index.php/news/7098) and [Smart Link](https://www.rcac.purdue.edu/index.php/news/7098)."
ATS-1829,Do not have access to a directory,User is unable to access project files on the HPC system using the OnDemand web interface for the 'Molecular Stethoscope' project.,"The user can try accessing the required files through a desktop session in OOD (On-Demand), or via Globus, or any other method besides the web interface due to reported issues with file access using the OnDemand web interface for this specific project. If the user continues to experience issues after trying alternate methods, they should reach out again for further assistance."
ATS-1834,Purdue Anvil Job Composer Error,The user is experiencing issues with their access to the Purdue Anvil machine's Job Composer and Shell Access. The issue started around 3pm EDT on Tuesday and has persisted despite being able to log in through the dashboard.,"The issue appears to be caused by the user's home directory being full (101% used). To resolve this, the user should remove some files from their home directory. Here's a command example on how to check the current quota and usage of the home directory: `$ myquota x-ddickson`. After identifying the excessive files, they can be removed using common Unix commands such as `rm` or `find`."
ATS-1844,Strange error: Binding more processes than CPUs,A user submitted an MD simulation job on Anvil's 'shared' queue and received an error indicating that more processes were requested than available CPUs on the specified CORE node.,"To resolve this issue, add the ""overload-allowed"" option to your submission file for the affected job. This will allow the job to run even if it requires more processes than available CPUs on a resource. Here's an example of how you can modify your submission file:

```bash
#PBS -l nodes=1:ppn=1,walltime=02:00:00
#PBS -N my_job_name
#PBS -q shared
#PBS -o output.txt
#PBS -e error.txt
#PBS -M your-email@example.com
#PBS -m abe

module load needed-modules

mpirun -np 2 my_code arguments
```

In this example, modify the submission file by adding `#PBS -o overload-allowed` before the first `#PBS` line that specifies the number of nodes and processes per node. This will enable overloading for your job:

```bash
#PBS -o overload-allowed
#PBS -l nodes=1:ppn=1,walltime=02:00:00
#PBS -N my_job_name
#PBS -q shared
#PBS -o output.txt
#PBS -e error.txt
#PBS -M your-email@example.com
#PBS -m abe

module load needed-modules

mpirun -np 2 my_code arguments
```

Once you've made these modifications, resubmit the updated job and it should run without encountering the overloading error. Use this option carefully to avoid affecting other users' jobs. For more information about resource requirements and overloading on Anvil, please refer to: https://anvil.csmdc.uiuc.edu/documentation/#resource-requirements"
ATS-6086,Need to setup Anvil S3 storage.,Requested setup of S3 storage for namespace axin-hub on Anvil for Triton server deployment; issue with provisioning new users in existing Anvil S3 storage.,"To set up S3 storage for the namespace axin-hub, execute the following command: `anvil s3 create axin-hub`. If immediate access is needed, provision keys for RCAC object storage. For problems with existing S3 storage user provisioning, wait for Sam's resolution or use the provided RCAC keys instead. The new S3 keys have been sent via filelocker."
ATS-1849,Re: ATS-1844 Strange error: Binding more processes than CPUs,Job 2247387 failed on HPC system,"To investigate the failure of job 2247387, please share the input files used for the job so that the team can reproduce the error and find potential workarounds. The shared files will help in troubleshooting and resolving the issue more efficiently."
ATS-1874,Requesting multiple high-memory node access on Anvil,The user (Brendan Christensen) is encountering an issue with submitting a high-resolution multiphase fluid dynamics simulation job on the Anvil HPC system due to a violation of accounting/QOS policy and a CPU count per node error.,"The user was asked to remove the #SBATCH --mem=1000G line from their sbatch script for the job submission. It is explained that the nodes on Anvil give just under 1 TB of memory, but this is reserved for the OS, so a specific memory request will be given based on the number of tasks requested and will be the maximum available. The user was also informed that if they encounter further problems with their program, they should not use all of their allocation to troubleshoot as it may affect other users. If the user decides to stop working on this job for a while, they can close the wide high-mem queue and request it again at a later date, subject to availability."
ATS-1882,Compiling a custom version of PETSc on Anvil,User is having trouble configuring and installing a specific version (3.4.5) of PETSc on Anvil's intel19 compilers due to an error related to the FFTW library.,"- To resolve this issue, try using the existing FFTW module available on Anvil instead of downloading it in the install_ANVIL.sh file. This might help avoid the error encountered during configuration and installation of PETSc. - Review and modify the install_ANVIL.sh script to replace the download command for FFTW with a line that loads the Anvil's FFTW module, such as `module load fftw`. - After making these changes, reattempt the installation process of PETSc using the updated script and check if the error related to FFTW still persists. If it does, consult the output file (slurm-2582935.out) for further clues on the issue and seek additional assistance as needed."
ATS-1884,out of memory when using VASP on Anvil,"The user is experiencing an Out of Memory error when running VASP on ANVIL. Despite increasing the number of nodes, the issue persists. The problem occurs after approximately 5 minutes, but the job continues to run until the allocated time ends.","The user should check their INCAR file for each tag and run a small job to see if it can run successfully. If the small jobs can run, it indicates that some setup for large jobs needs to be adjusted."
ATS-1885,Reproducible routing errors on Anvil back-end nodes,The user has reported a network connectivity issue with certain operations on Anvil back-end nodes using Infiniband and 1 to 1 NAT.,"To reproduce the problem, connect to an Anvil back-end node and run the following command:

```bash
while true; do nc -N -v retool.the-examples-book.com:443 < /dev/null ; date; sleep 0.3; done
```

The user suggests that network issues could be causing or contributing to ongoing GPFS (General Parallel File System) problems. It is recommended to verify the network configuration on affected Anvil back-end nodes and ensure they are functioning properly."
ATS-1894,Loading Needed Anvil Modules,"User is unable to compile and submit the hydrodynamical code ENZO on Anvil, despite having successfully run it on Stampede2 with specific modules loaded. The user has managed to compile the newer version of ENZO but is still having trouble submitting the job successfully.","To resolve the issue, create a Python 2 environment using conda and add it to `$PATH` and/or `$PYTHONPATH`. The user can do this by executing:

    ```
    conda create -n xxx python=2.XX
    source activate xxx
    ```

   After creating the Python 2 environment, try submitting the job again using the new submission script located at `/anvil/scratch/x-jsullivan1/EnzoRunJul17`. If the problem persists, consider submitting a new help request or continuing the discussion in an existing ticket (ATS-1960) for further assistance."
ATS-1900,Namd2 job failure,Submitted namd2 jobs on Anvil are failing due to a network issue.,"The error appears to be related to a recent network failure on the Anvil cluster at Purdue University. It has been reported that this issue was addressed yesterday. Users are advised to keep monitoring their job status, as the resolution seems to depend on the network stabilization."
ATS-1901,"When I submit I a simulation, it give me an error like this",Anvil job submission error due to incorrect allocation usage,"Update the account name in the sbatch file to include 'x-' (e.g., x-cts200043) and resubmit the job to the correct active allocation, which for this user is {{x-cts200043}}. For more information about allocations on Anvil, please refer to: https://www.rcac.purdue.edu/knowledge/anvil/run/partitions|smart-link"
ATS-1903,Didn't find a proper place to submit the final report ,"User is unable to submit a final report properly and is facing an issue where the system declines the request despite using up all ACCESS Credits and 90% of their allocation. The user suspects that their supplement material may be confusing the reviewer, as they selected the 'supplement' option instead of finding a proper place to upload the document.","To submit a final report, users should not use the 'supplement' option when it seems to confuse the reviewer. Instead, users are recommended to wait until they have used up about 90% of their Allocation and then reply to this ticket for further details on moving forward with the next ACCESS Opportunity. If users wish to move up now, they can initiate the graduation process by letting the team know. It's important to remember that SUs do not get carried over to the new allocation. For future questions or support, users can visit this site (https://access-ci.atlassian.net/servicedesk/customer/portal/2) and submit a ticket."
ATS-1930,Need Vasp5 and Vasp6 access,User needs guidance on specifying the correct allocation and filename in VASP submission script for Anvil.,"The user can use `#SBATCH -A myallocation` for the allocation and does not need to change the `#FILENAME` line. The account name (replacing 'myallocation') can be found using the `mybalance` command on Anvil. For more information about submitting jobs with SLURM, the user may refer to the documentation at [SLURM sbatch documentation](https://slurm.schedmd.com/sbatch.html)."
ATS-1960,Running Batch Job,"The user is unable to successfully run a job submission script due to an issue with accessing the parameter file and the need to initialize a conda environment (""py2"") within the slurm submission script.","To resolve this issue, follow these steps:
   - Ensure that the path to the parameter file in the `enzo_anvil.exe` command is correct and accessible from the working directory specified in the SLURM job script. - Modify your SLURM job script to load the required conda environment before running the executable:

```bash
#!/bin/sh
# ... (Your existing SLURM directives)
module load anaconda3
source activate py2  # Assuming ""py2"" is your conda environment name
./enzo_anvil.exe -r ./DD0012/data0012
```
   - Save the modified script and resubmit it using `sbatch`. - If you encounter any errors, consult this link for guidance on creating an active conda environment, installing packages to conda env, and submitting Python jobs: [RCAC Python User Guide](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/python)"
ATS-1966,Correct groups and permissions in /anvil/projects/tdm/corporate,"Request for initiating a groups and permissions correction on the various subdirectories of /anvil/projects/tdm/corporate, including setting default Access Control Lists (ACLs).","Run the following shell script to correct the group ownership and permissions of files and directories within the specified directory, set default ACLs for all subdirectories, and force 770 permissions:

```bash
#!/bin/bash
TDMBASEDIR=""/anvil/projects/tdm/corporate""
cd $TDMBASEDIR : || echo ""Unable to cd to $TDMBASEDIR""
for D in * ; do
    # Is this really a directory? If not, skip it
    if ! -d ""$D"" ; then continue fi
    # Find the group used on $D. Make sure it begins with ""x-tdm-"". Otherwise skip it
    GROUP=$(stat --format=%G $D) || continue
    if -z ""$GROUP"" -o ""$GROUP"" != ""${GROUP##x-tdm-}"" ; then continue fi
    # Fix groups of files/directories that are incorrect
    find $D ! -group $GROUP -print0 | xargs -0 -r echo chgrp -h $GROUP 2>/dev/null
    # Fix permissions of files
    find $D -type f ! -perm -0660 -print0 | xargs -0 -r echo chmod ug+rwX 2>/dev/null
    # Fix permissions of directories, including setgid bit
    find $D -type d -a ! -perm -2770 -print0 | xargs -0 -r echo chmod ug+rwX,g+s 2>/dev/null
done
# Set default ACLs on all subdirectories
find -- ""$D"" -type d -print0 \
    | xargs -0 --no-run-if-empty setfacl --set "" d:u::rwX,d:g::rwX,d:o::0"" --
```
It is recommended to schedule this script for periodic execution or implement a solution as suggested in ATS-1638 to empower users to handle these issues independently."
ATS-1973,sbatch: error: Batch job submission failed,Error submitting vasp job due to an invalid account or account/partition combination specified,"To resolve the issue, verify that you have correctly specified your account and partition in the sbatch command. The correct syntax should be as follows:

```bash
sbatch [options] -A <account> -p <partition> script.sh
```

Make sure to replace `<account>` with your account name and `<partition>` with the desired partition. If you are not sure about the account or partition, please consult the system documentation or contact your local administrator for assistance. You can also find more information in the [SLURM documentation](https://slurm.schedmd.com/documentation.html)."
ATS-2745,Basic Linux Commands Not Working,Unable to run certain Linux commands after updating .bashrc file,"Edit the ~/.bashrc file by entering /usr/bin/nano ~/.bashrc and correct the settings for the PATH variable to resolve the issue with running certain commands such as nano, emacs, clear etc."
ATS-1974,Gaussian Software on Anvil,User wants to run Gaussian jobs on Anvil but is unable to due to the absence of Gaussian license.,"To run Gaussian jobs, transfer some credits to Expanse where Gaussian is available. Ask Joan Shea (PI for MCA05S027) to submit a supplement for allocation time from Expanse. Here are the steps to submit a Supplement:
   - Login to ACCESS: <https://allocations.access-ci.org>
   - Click on ""Manage Allocations."" - Within ""Manage Allocations,"" click on ""Manage My Projects."" - Starting at the List of Allocation Request Page, go to the List of ACCESS Allocations Requests page: <https://allocations.access-ci.org/requests>
   - Look for the Allocation you would like to take action on and click the ""Choose New Action"" button. - Choose the option: Supplement. - Once we receive this and get it reviewed, you will receive a notification of the reviewer's decision."
ATS-2005,Purdue Anvil Login,User cannot login to Anvil for award MCH220017 because they are unable to use the ssh command due to not having set up their ssh keys.,"To logon to Anvil, the user should first set up their ssh keys using Open OnDemand by following this guide: [Open OnDemand User Guide](https://www.rcac.purdue.edu/knowledge/anvil/access/login/ood). Once they have done that, they can use the ssh command to log in. The user can find a guide on setting up their ssh keys here: [Anvil SSH Keys Guide](https://www.rcac.purdue.edu/knowledge/anvil/access/login/sshkeys)."
ATS-2006,sbatch: error: Invalid directive found in batch script,The user is unable to submit calculation jobs to the Anvil HPC system due to invalid directives found in their SLURM batch script.,"To resolve the issue, the user should check their SLURM batch script for any invalid directives. They can refer to an example MPI SLURM batch script here: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/mpi>

In this script, valid SLURM directives include --job-name, --output, --time, --nodes, and --ntasks. If the user used a directive that SLURM doesn't recognize, they would see the error message reported. After verifying and correcting their batch script, they should be able to submit jobs to the Anvil HPC system successfully."
ATS-2028,Anvil Directory Snapshots Question,User requested to confirm that snapshots older than 90 days will be removed from /anvil/projects space as required by their corporate partner. They also reported old snapshots dating back to December 2022.,The storage team identified the issue and has rebuilt the snapshots from August 2nd. The user is advised to check and let the support team know if there are further issues.
ATS-2031,Issue of installing BerkeleyGW on Anvil,"BerkeleyGW software jobs aren't running as expected on Anvil, leading to errors.","To resolve the issue, Rongjing should try adding `--mpi=pmi2` to the `mpirun` line in the job script. The corrected line would be:

    ```bash
    mpirun --mpi=pmi2 -np $SLURM_NTASKS $BGW/epsilon.cplx.x
    ```

   Also, Rongjing should ensure that the necessary modules are loaded before running the job script:

   ```bash
   module load intel impi intel-mkl hdf5 libszip
   ```

   And modify the `$QE` and `$BGW` variables in the script to point to the correct directories containing the QE and BerkeleyGW executables, respectively. For example:

   ```bash
   QE=/home/x-rg47749/qe-7.2/bin
   BGW=/home/x-rg47749/BerkeleyGW-3.0.1-hdf5/bin
   ```"
ATS-2044,Quantum Espresso 7.2 and EPW 5.7 installation,User needs to install Quantum Espresso 7.2 and EPW 5.7 for project work.,"To install Quantum Espresso (QE) version 7.2, the user can follow these steps:

   a. Load the required modules using the following command:
      ```
      module load gcc openmpi intel-mkl fftw
      ```

   b. Download and build QE from source. You can find the instructions here: https://www.quantum-espresso.org/downloads/installation.html

   For EPW 5.7 installation, you can follow these steps:

   a. Load the required modules using the following command:
      ```
      module load intel-mkl openmpi
      ```

   b. Download and build EPW from source. You can find the instructions here: https://www.cp2k.org/en/documentation/installation-epw/"
ATS-2051,Job perpetually in queue,Job with ID 2328278 under project dmr160063 is pending due to insufficient SUs.,"The job requiring 2 nodes for a total of 96 hours walltime, which equates to approximately 24k SUs, is pending because the balance in the associated account (dmr160063) is only ~21k SUs. To verify this information, use the command `squeue -j 2328278 -l`. To resolve the issue, either wait for available SUs or reduce the number of nodes or walltime for the job to match the available resources in the account."
ATS-2060,BLACS call causes segmentation fault,"The user's code that uses BLACS has a segmentation fault on the first call of a subroutine of the suite. The issue occurs on Anvil but not on Stampede2, and it seems to be related to MPI-related errors in parallel IO/GPFS.","To resolve this issue, follow these steps:
   - Investigate the error messages by reproducing the code execution on Anvil. - Review the user's provided makefile, flags.mk, and the relevant files (fwi_merge1a.err, fwi_merge1a.out, merge_ata_matrix_mpi_io.c) to understand the code's behavior on Anvil. - Examine any changes made to the code for the openMPI version in comparison to the IMPI version to identify potential causes of the error. - If necessary, schedule a video call with the user to aid in debugging the issue if more assistance is needed. - Keep track of progress on this ticket and follow up as needed to resolve the segmentation fault and ensure the code works correctly on Anvil."
ATS-2080,Compiling Berkeley GW on Anvil,"User is having trouble compiling BerkeleyGW on Anvil HPC system due to a non-functional arch.mk file. The user requires flags for LAPACK and ScaLAPACK, as well as the ability to compile using HDF5 if possible.","First, use the following command to obtain the necessary paths for HDF5 on Anvil:
   ```
   module spider hdf5
   module show hdf5/1.10.7
   ```
   Add these obtained paths to the arch.mk file in the appropriate sections (e.g., #HDF5DIR, #HDF5LIB). This should resolve the issue with compiling BerkeleyGW using HDF5. However, keep in mind that LAPACK and ScaLAPACK are already included in the MKL library provided in the shared arch file. Therefore, no additional steps are required for those flags. Hope this helps!"
ATS-2088,Change default Anvil project/group for x-dgc to x-cis220051,"User wants to change default $PROJECT and primary group for the x-dgc account on Anvil to The Data Mine project/group ""x-cis220051"".","The user's request has been granted, and their primary group for the x-dgc account was changed to x-cis220051 everywhere. However, it might take some time or a logout/login for the change to take effect. Keep in mind that if a user is on multiple allocations, there's no guarantee which will be set as their primary group, nor that it might not change in the future if they join a new allocation. This may cause issues with using environment variable shortcuts for multi-allocation users. Ensure that ACLs are set up correctly to avoid file access problems."
ATS-2099,Error when trying to run moderate sized job on ANVIL,"User is unable to properly allocate tasks and nodes on ANVIL HPC system for a job that requires 1024 tasks, receiving an error related to Intel MPI.","To resolve this issue, the user can either use `srun --mpi=pmi2` instead of mpirun or recompile the code using gcc/openmpi instead of intel/impi. If the user wants to run the job on more than 16 nodes, they should consider using the `wholenode` partition on Anvil with the command `--nodes=8 --ntasks=1024`. Additionally, it has been noted that Anvil currently has an old version of Intel MPI, with plans for an upgrade in the future."
ATS-2172,Create Project/Namespace on Anvil Composable,"User ""u-ikjpkfzseu"" cannot create resources on the specified API group ""management.cattle.io"" in the namespace ""c-v2cdd"". The user requires assistance to create a project and namespace for allocation CIS230147.","- Admin assistance required for project creation (Project name is not specified, assume it is based on the ticket project number CIS230147)
   - Verify that the user ""u-ikjpkfzseu"" has the necessary permissions to create resources in the namespace ""c-v2cdd""
   - Once permission issues are resolved, the user should be able to create a project and namespace within Rancher UI."
ATS-2193,"Cannot access ""OnDemand"" the Purdue Anvil GPU nor the TAMU FASTER portals.","User cannot access TAMU FASTER and Purdue Anvil GPU portals due to ""failed to map user"" error.","- For TAMU FASTER, the user was missing being added to the resource by their PI. After being added, they should be able to access the portal. - For Purdue Anvil GPU, the user's account was not yet created. The user should ask their PI to add them to the allocations on Anvil via https://allocations.access-ci.org/user\_management. After being added, they can log into Anvil Open OnDemand again."
ATS-2233,S3 storage on Anvil Composable,Configuring S3 Storage on Anvil Composable for Access Information Sharing,"To configure S3 storage on Anvil Composable and share the access information, follow these steps:

   a. First, make sure you have AWS CLI installed and configured with your credentials (access key ID and secret access key). If not, refer to the [official documentation](https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html) for installation and configuration instructions. b. Next, set up your S3 storage bucket by executing the following command in your terminal:

      ```bash
      aws s3api create-bucket --bucket <your_bucket_name> --region <your_region>
      ```

   c. After creating the bucket, grant Anvil Composable access to it using AWS Identity and Access Management (IAM). Create a new IAM user with necessary S3 permissions and attach the policy to the user. For detailed instructions, refer to the [official documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html#id_roles_create_for-user_prereqs). d. Once done, share the access and secret keys of the created IAM user with your support team for further configuration on Anvil Composable."
ATS-2271,VASP user added on anvil,"The user, Mouyang, is unable to load VASP5.4.4 through a batch submission job (slurm's sbatch command) in the allocation dmr160156.","To resolve this issue, the user should ensure that the required modules for VASP5.4.4 are loaded before submitting a batch job using the module command. For example, the following command can be used to load the required modules:

```bash
module load vasp/5.4.4
```

It is important to note that this command should be executed before running any scripts or commands related to VASP5.4.4. If the issue persists after loading the modules, check the job script for any potential errors in specifying the correct path for the vasp_std file or other necessary files. Additionally, verify that the batch job submission parameters are correctly set up to include the required resources and environment variables."
ATS-2282,Can't run jobs on Anvil using EVE230007,User is unable to submit batch jobs on Anvil due to an error related to account or partition combination.,"The user should check their current available allocations by running the command `mybalance` in the terminal while landed on Anvil. The support team has confirmed that the change in allocation has not been propagated to Anvil yet and suggests waiting for another couple of days to see if the process can be finished. If the issue persists after this time, the user may need to contact support again. Here is an example of how the command should be run:

```bash
mybalance
```"
ATS-2310,Questions regarding Matlab on Purdue Anvi GPU,User is experiencing suboptimal performance when running MATLAB on the Purdue Anvil GPU cluster for machine learning model training compared to a local machine with an RTX 3090.,"The user reports using both Matlab R2022a and R2023a versions on Anvil (Job IDs: 2582906 and 2584990) with similar results. For comparison, performance is better when training machine learning models using Python on the same cluster. The user suspects this could be due to an issue specific to MATLAB. It's recommended that the user:
   - Check for any known issues or optimizations related to their use case in the MATLAB documentation (https://www.mathworks.com/help/matlab/)
   - If necessary, reach out to MathWorks Support for further assistance (https://www.mathworks.com/support/contact_us.html)
   - To confirm that the issue isn't related to CPU cores, the user can repeat the test with different numbers of CPU cores and compare the performance. However, it is not guaranteed that this will provide any additional insights into the root cause as the issue seems to be specific to MATLAB."
ATS-2923,Reserving Nodes on Anvil,User needs a reservation of 50-60 nodes on the Anvil wholenode partition and is unsure if it's possible or how to request one. The user also wants to know if there are alternative options like using the 'shared' partition.,"To secure a node reservation, users can submit a form on Bridges2, but no similar functionality was found on Anvil. As an alternative, consider using the 'shared' partition which allows up to 1 node/per job with a maximum of 6400 cores (50 running jobs with 128 cores). Each job can run up to 96 hours. For more information about different partitions on Anvil, refer to: <https://www.rcac.purdue.edu/knowledge/anvil/run/partitions> and <https://www.rcac.purdue.edu/knowledge/anvil/run/partitions|smart-link>. The user has resolved the issue by switching to using the shared queue for now."
ATS-2328,Interactive and batch jobs hang,"User is experiencing intermittent hanging of MPI Fortran jobs on Anvil HPC system at runtime without a specific error message, leading to job termination.","The user identified the issue and made necessary changes to their setup script before recompiling the code. The resolution is not explicitly provided in this ticket response, but it appears that the issue was resolved as the user confirmed the job ran without interruption following the changes."
ATS-2361,VASP 5.4 module access,User needs access to VASP 5 module on HPC and is unable to do so because they are with MedeA. They are self-compiling VASP using Intel compilers but seek guidance on optimizing the makefile.include parameters for Anvil.,"For using VASP on Anvil, users are advised not to join Anvil VASP groups if they are with MedeA. Instead, users can compile it on their own or work with Materials Design about how to use MedeA workflow on Anvil. The user guide for VASP compilation on Anvil is available at: [https://www.rcac.purdue.edu/knowledge/anvil/software/installing\_applications/vasp](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp)

For building VASP 5.4 with different compilers, including Intel compiler, a guide is provided at: [https://www.rcac.purdue.edu/knowledge/anvil/software/installing\_applications/vasp/build_your_own\_vasp_5](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp/build_your_own_vasp_5). Users are recommended to use GNU compiler on Anvil instead of Intel compilers."
ATS-2423,how to access node local storage on anvil?,"User wants to know the details about the node-local storage on Anvil HPC system at Purdue, including file system, accessibility, and pathname.",The node-local storage is accessible under `/tmp` directory. It is flash and uses xfs as its file system. Users can access it during job execution on the node. The pathname for the user visible portion of node-local disk is `/tmp`.
ATS-2429,Many Anvil OnDemand apps don't permit < 128 cores,"The Anvil OnDemand interactive apps require a minimum of 128 cores to run, making it impossible to use them with less. This issue affects Jupyter Notebook, Desktop, Rstudio Server, Matlab, and possibly other apps as well.","To resolve this issue, modify the ""shared"" section of ondemand.anvil:/var/www/ood/apps/name/bc\_desktop/form.yml by adding the following lines:

```yaml
data-name-num-cores: 1
data-max-num-cores: 128
```

Similar changes should be made to the gpu and highmem sections, though you may want to adjust the minimums for each of those. It is recommended to apply similar changes to all other OnDemand apps to allow users to use fewer cores when needed."
ATS-2486,cmake not working with Intel compiler,"The user is unable to run cmake with the Intel compiler on Anvil, a Fortran MPI code system. The issue occurs intermittently and is related to the Intel license server load.","The user should use the default modules (GNU compiler) when running cmake on Anvil as an alternative to the Intel compiler. If the Intel compiler is required, the user may experience slow compilation times due to heavy load on the Intel license server. This is because there are a limited number of licenses available, and multiple users using the Intel compiler can cause fewer licenses to be available. The issue should not occur with GCC unless there is a filesystem issue. The user is encouraged to keep us informed when experiencing slowness."
ATS-2502,Change to Purdue University - West Lafayette,"User needs assistance in accessing the Anvil HPC system at Purdue University, as they are a Primary Investigator (PI) for a project and need to upload data into their system.","To use Anvil, the user must be under an active allocation or be the PI of an active allocation. The user should either contact the PI of the existing project on Anvil to add them, or their group should apply for a new allocation on Anvil. The user can find instructions on how to submit a proposal and register on ACCESS (Allocation Committee for Computing, Storage and Data Services at Argonne National Laboratory) by visiting the following links:
   - Prepare Requests Overview: https://allocations.access-ci.org/prepare-requests-overview
   - Learn how to submit a proposal: https://allocations.access-ci.org/prepare-requests-overview"
ATS-2534,"I am trying to run batch jobs on Purdue's Anvil cluster with an access allocation, but I am getting an error:","Error running batch jobs on Purdue's Anvil cluster with a specified allocation (""Invalid account or account/partition combination specified"")","The user was trying to run jobs under the phy230071 allocation on Anvil but received an error. To resolve the issue, check the allocation type and ensure that the correct allocation is being used for running batch jobs. In this case, the user has been using the phy210068 allocation instead of the intended phy230071 allocation. To verify the current account and its allocations, run the following command: `$ mybalance x-mankola`. Make sure to use the appropriate allocation for running batch jobs on Anvil."
ATS-2597,vasp license,User (Zekun name) added to VASP5 group on Anvil and instructed to check user guide for VASP calculations on Anvil,"To access and use VASP version 5 on Anvil, the user (Zekun name) should wait for their membership to be ready within a few hours, as they have been added to the vasp5 group. The user can refer to the user guide provided by RCAC Purdue for instructions on performing VASP calculations on Anvil: <https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp>."
ATS-2734,PVC with RWX failed,"User is unable to create a PVC with RWX access mode using the ""anvil-block"" storage class on Anvil Composable due to multi node access modes not being supported.","To resolve the issue, use the ""anvil-filesystem"" storage class instead of ""anvil-block"". The user should replace the StorageClass parameter in their PVC creation command with ""anvil-filesystem"". Here is an example:

```bash
kubectl apply -f pvc.yaml --namespace=my-namespace
```

In the `pvc.yaml` file, update the StorageClass to be `anvil-filesystem`. ```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: my-pvc
  namespace: my-namespace
spec:
  accessModes:
    - ReadWriteMany
  storageClassName: anvil-filesystem
  resources:
    requests:
      storage: 1Gi
```"
ATS-2629,VASP access Request,Request for VASP access and addition of another user (zli18) to the research group with VASP access,"- Haonan was granted access to the pre-installed VASP 5 and VASP 6 on Anvil by being added to the vasp5 and vasp6 Unix groups. - The following command can be used to verify the user groups: `$ groups <username>` (replace `<username>` with the actual username)
- The user Haonan was added to the x-zli18 group, granting access to zli18. - The modules vasp/5.4.4.pl2 and vasp/6.3.0 are available for zli18. - The link to the user guide on VASP (RCAC - Knowledge Base: Anvil User Guide: VASP) was shared with Haonan and will be shared with zli18. - To share information with another user, you can copy and paste the link in an email or a messaging platform. - If there are any further questions or requests, Haonan is encouraged to contact support again."
ATS-2652,Anvil compute time not showing on the account in Anvil shell.,"Allocation time for project TG-PHY210065 on Anvil supercomputer was extended, but the additional computation time is not showing up in the user's balance on the Anvil shell.","Run the command `mybalance x-rmktyln` to check the current allocation details. The updated balance for the project TG-PHY210065 should now be visible, with an increased CPU limit and usage as follows:

    Account (account)        User  ================ ==== =========== ========== ==========
    phy210065                CPU    9790000.0     5297157.0   1945867.9   4492843.0"
ATS-2710,ACCESS project will expire soon,User's ACCESS project PHY220079 is about to expire and they want to either use the remaining SUs or request an extension for their allocation.,"To request an extension for your allocation on ACCESS, please refer to the provided webpage for details: ACCESS Allocations: Manage Allocations Overview - https://allocations.access-ci.org/manage-allocations-overview If you have any further questions, please reach out for assistance."
ATS-2715,Long Compile Times,Long and inconsistent compile times for FORTRAN code on the HPC system using Intel compilers.,"The long compilation time might have been related to intermittent slowness of the project filesystem. The engineers have brought that filesystem back to its optimal performance. It is recommended to retest the compile time now. If issues persist or further questions arise, please reach out again."
ATS-2719,Lack of timely support on Anvil,"The user is experiencing an issue running their code on the Anvil HPC cluster for several weeks. They have submitted two support tickets (ATS-2328 and ATS-2412) but are not receiving adequate support in a timely manner, which is causing delays in their research work.",The user is asked to check the updates on their open ticket ATS-2412 for further communication from the support staff regarding the issue resolution.
ATS-2722,Issue with hybrid job in wholenode,Error in running hybrid jobs with a custom compiled version of VASP on Anvil's wholenode. The calculation aborts due to a specific error and the user is unable to identify the root cause.,"The support team suggests adding '`--mpi=pmi2`' to the MPI run command in the job script, like `srun -n $SLURM_NTASKS --mpi=pmi2 --cpu-bind=cores ...`. Here is an example of a modified submit script:

```bash
#!/bin/bash
# FILENAME: myjobsubmissionfile
#SBATCH -A DMR190076
#SBATCH --nodes=4
#SBATCH --ntasks-per-node=2
#SBATCH --cpus-per-task=64
#SBATCH --time=48:00:00
#SBATCH -J Co_phon
#SBATCH -o myjob.o%j
#SBATCH -e myjob.e%j
#SBATCH -p wholenode
##SBATCH --mail-user=useremailaddress
##SBATCH --mail-type=all
# Manage processing environment, load compilers and applications. module purge
module load intel/19.0.5.281 impi/2019.5.281 intel-mkl hdf5
# Set thread count (default value is 1). export OMP_NUM_THREADS=$SLURM_CPUS_PER_TASK
# Launch MPI code with modified MPI run command
srun -n $SLURM_NTASKS --mpi=pmi2 --cpu-bind=cores /home/x-aramasamy/vasp.6.4/bin/vasp_std > result.vasp
```

The support team also suggests checking the VASP forum for discussions about this error, or recompiling VASP with gcc compilers on Anvil if necessary."
ATS-2732,Not able to use SU for anvil CPU,User cannot access project resources (mch230015) due to lacking account permissions.,"The user needs to request the PI, name, to add them to the mch230015 project using this link: <https://allocations.access-ci.org/manage-allocations-overview>. The user can also refer to this site for future queries and ticket submission: <https://access-ci.atlassian.net/servicedesk/customer/portal/2>."
ATS-2767,Storage expansion,User on the anvil cluster at Purdue has exceeded the maximum number of files allowed in their project due to a large number of images in their dataset and requires a limit increase for accurate model training.,"The user was advised to consider using archive formats (`.zip` or `.tar`) for their image dataset and also to process images from their personal scratch directory (`/anvil/scratch/x-ldenoncourt`), as it is more performant than the group's project space. Additionally, the file number limit of the user's project (`x-bio230069`) was increased to 2M. The user can check the updated limit using the `myquota` command and should be aware that inactive files in their personal scratch directory will be purged after 30 days if not accessed."
ATS-2791,Issues while accessing Purdue Anvil CPU,Unable to map user account during first-time login to Pursue Anvil CPU onDemand,"Try logging into Pursue Anvil CPU onDemand again and check if the error persists. If you still encounter issues, please reopen this ticket with any additional error messages or details for further assistance."
ATS-2900,unable to log into Purdue ANVIL using my ACCESS account,User is unable to map user account when logging into ANVIL using ACCESS account after DUO verification,"To resolve this issue, please verify that the correct module has been loaded for the software environment required by ANVIL. If not already done, load the appropriate module using a command like `module load <module_name>`. Additionally, ensure that your user account is correctly configured in the ANVIL system. If the problem persists, it might be helpful to consult the ANVIL user documentation at <documentation_URL> for troubleshooting steps or contact your system administrator for further assistance."
ATS-3049,queue times on Anvil,User is experiencing prolonged job queue times on Anvil partition for large-scale simulations needed for PhD thesis submission within three weeks.,"The user can consider submitting their jobs to the {{shared}} queue, which allows a maximum of one node and has a maximum running time of 96 hours. This queue is expected to provide faster turnaround times compared to the current {{wholenode}} partition that is experiencing increased usage."
ATS-2995,VASP on GPU,User inquires about availability of VASP 5.4.4 compiled for GPU usage and requests a sample script.,"To use VASP 5.4.4 on GPUs, you need to have the correct modules loaded. Here's an example script for running a calculation using VASP with GPU support:

```bash
module load vasp/5.4.4-gpu
cp input_file $SCRATCH/input_file  # Replace input_file with your actual input file name
cd $SCRATCH
vasp_std -pot . POSCAR OUTDIR &
```

Please note that you should replace ""input\_file"" with the actual name of your input file. Also, ensure that you have the correct GPU-enabled version of VASP installed and the necessary modules loaded before running this script. If you encounter any issues, please consult the [VASP documentation](https://cms.mpcdf.mpg.de/vasp/) for additional guidance."
ATS-2999,VASP on GPU,User inquired about the availability of VASP 5.4.4 compiled for GPU usage on Anvil HPC system.,VASP 5.4.4 is not currently installed with GPU support on Anvil HPC system. We are considering adding it to our installation list but there is no estimated time of availability at this moment.
ATS-3003,Need ESMI_IB_LIBRARY installed on Anvil,User Strahinja Trecakov seeks assistance in installing the ESMI_IB_Library as a dependency for the Variorum tool on Anvil HPC system.,"Unfortunately, at this time, we are unable to directly install third-party dependencies like ESMI_IB_Library on the Anvil for users. It is recommended that you explore alternative methods to track performance metrics of your jobs without relying on this specific library. If you have further questions or require assistance with other matters, please do not hesitate to contact us again."
ATS-3025,Storage on Anvil,User needs guidance on how to store data generated during turbulence simulations on Anvil HPC system.,"On Anvil, users receive a personal scratch directory (quota of 100TB and 1M files) for temporary storage of working data. For long-term data storage and sharing, users get a project directory with a quota of 5TB and 1M files per project. The user should check the quotas and usage of directories using the `{{myquota}}` command on Anvil. The user's accounts and directories may take some time to be completely set up, but once ready, they can access their scratch directory at `/home/x-senocak` and project directory at `/anvil/projects/x-ees230052`. For regular backups, the user should be aware that files in the scratch space will be purged if not accessed for 30 days. To avoid data loss, it is recommended to back up the data on a regular basis."
ATS-3100,Job submitted on Anvil never get queued up successfully,User's job submissions to the Anvil supercomputer have not been running since being requeued after an outage on September 10th.,"It appears that the issue was related to the Anvil outage on September 10th (<https://operations.access-ci.org/node/645>). The team is still investigating the root cause and will provide updates when more information becomes available. In the meantime, the user should check their job status periodically. It has been observed that two of the user's jobs have started running recently."
ATS-3168,Queue stuck on Anvil,"User's queue on the Anvil cluster has been pending for two weeks, and they are concerned about their core hours allocation.","The user has two jobs pending, one on the wholenode partition requesting 16 nodes, and another on the wide partition requesting 32 nodes. However, due to high demand and limited availability of resources, the wholenode and wide partitions are currently very busy with only 2 nodes available. To resolve this issue, consider submitting your jobs to the shared partition, which has 174 nodes available at the moment. More details about Anvil partitions can be found at https://www.rcac.purdue.edu/knowledge/anvil/run/partitions."
ATS-3272,File access issues,"User cannot read or write files generated by simulations from the shell or Python scripts in specified directory on HPC system. Error messages include ""Input/output error"" and ""OSError"".",The issue was caused by a glitch on the filesystem that has since been fixed by the engineering team. User is advised to try accessing the files again to verify the resolution.
ATS-3186,Job got kicked off wholenode before it finished (no error),Job on the 'wholenode' partition stopped running before completion without any error messages in SLURM log or job output file.,"Re-submit the job using the 'shared' partition instead of 'wholenode'. The user is currently charged for a 'wholenode' although only 120 cores were requested, and the 'shared' partition is less busy than the 'wholenode'. The job number is 2736583, and the path to the job directory is ""/home/x-egormley/qe_calcs/MIL125/2_wfn/bands""."
ATS-3199,extend session time,Request to extend the allocated time on an HPC cluster session by 48 hours.,"To extend the current HPC cluster session by 48 hours, follow these steps:

   a) Run the following command in your terminal:

      ```
      module load bsub
      bsubmit -I -n 1 -W 48:00:00 <your_job_script>
      ```

   b) Replace `<your_job_script>` with the path to your job script file. This command will submit a new job that will extend the current session by 48 hours. c) If you encounter any issues, please consult the [BSUB documentation](https://slurm.schedmd.com/bsub.html) for more information on using bsub commands."
ATS-3294,Anvil Storage,User needs more storage for a specific experiment on the Anvil cluster as their home directory has only 25 GB of available storage.,"The user's scratch directory on Anvil has a quota of 100TB storage and 1M files, which should be sufficient for their data storage needs. They can check the usage and quotas with the `{{myquota}}` command on Anvil. For more details, they can refer to the RCAC - Knowledge Base: Anvil User Guide: File Systems at this webpage: [RCAC - Knowledge Base: Anvil User Guide: File Systems](https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems)"
ATS-3246,Question about compiling on Anvil,User is experiencing issues with the login03 node.,"To troubleshoot the issue with the login03 node, it is recommended to perform a thorough investigation of the node's status and check for any potential errors or malfunctions. Additionally, relevant documentation related to HPC nodes maintenance can be found at <documentation_URL>."
ATS-3282,Regarding job,Amber job submission in the Anvil gpu partition was canceled due to offline nodes.,"The nodes in the gpu partition became offline around 10:38 this morning and were reported by the support team to the engineers. The engineers have now brought all the g nodes back online, and it appears that one of Aashish's jobs has started running."
ATS-3290,running instance changed to queued,The user's running job (2753119) on the gpu partition of instance Ondemand.anvil.rcac.purdue.edu was affected when nodes went offline. The status of the job changed to Queued.,Nodes in the gpu partition were brought back online by engineers at around 10:38AM (09/24/2023). Job 2753119 was requeued and restarted on 09/25. The user is advised to check if there are any further issues with the job.
ATS-3305,creating an account for Purdue ANVIL,"User cannot assign users or see the allocated resources under ""Manage Users"" on Purdue Anvil CPU, and is unable to log in due to an error message.","The user should try logging into Anvil Open OnDemand again (ondemand.anvil.rcac.purdue.edu). It might take some time for the ACCESS website to list the resource providers in the ""Manage Users"" section. Additionally, name Burrell and name Johnsen should also have access now, but name's account is still being set up. If the user encounters any issues, they are encouraged to reach out to the support team again."
ATS-1814,"code only ran 10 iterations instead of 50, didn't output all print statements","The user's code on Anvil supercomputer stops running after 10 iterations, and there is no output in the file.","To investigate this issue, the user should recheck their job IDs (if possible) and submit them for further analysis. Additionally, they are advised to verify that their code is correctly written to print at each iteration and ensure that the correct resource, Anvil, is being utilized. If the problem persists, the user can either reopen this ticket or submit a new one for further assistance."
ATS-3576,Segmentation fault on job that ran normally previously,Job using Intel MPI is failing with Segmentation fault error.,"The user should add the flag `--mpi=pmi2` in their submit script when evoking an MPI process. For example, if they were using `srun`, it would be `srun --mpi=pmi2 -n ...`. This change is necessary to resolve the error and ensure successful job execution. Users are encouraged to refer to the documentation provided at [https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/mpi](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/mpi) for more details on this topic."
ATS-3767,Work aborted due to missing modules,Aborted work on Anvil due to missing libraries causing LD errors.,The issue with the project filesystem should be fixed now. Users are advised to try their job submission again and verify if the error persists.
ATS-3770,Cannot edit or see certain text files on Anvil,"User is unable to edit or view certain text files on Anvil using the ""nano"" editor due to a magic_file(parameters.prm) failed error.","The issue seems to be related to file permissions on the specific directories containing the parameters.prm file. To resolve this, navigate to the affected directories (/anvil/projects/x-dmr110007/PRISMS\_name/phaseField/applications/alloySolidification\_DSI-R\_full and its subdirectories) using the command line, and then change the permissions recursively to make them writable for the user. Here's an example of how to do it:

```bash
cd /anvil/projects/x-dmr110007/PRISMS_name/phaseField/applications/alloySolidification_DSI-R_full
chmod -R 755 . ```

In the above command, `chmod -R 755 .` changes the permissions to be writable by the user (7) and readable and executable for others (+x). Replace the directory path with the paths of the other affected directories. Alternatively, you can change the file permission using a GUI file manager if available on your system. Make sure to set the permissions on the files and their parent directories recursively (using the ""Recurse into subdirectories"" option). After applying these changes, the user should be able to edit and view the parameters.prm file without encountering the magic\_file(parameters.prm) failed error."
ATS-3772,Question about job 3219615 and 3519803,"Two HPC jobs (3219615 and 3219803) experienced issues on Anvil's system. Job 3219803 failed due to a transport retry count exceeded error, while job 3219615 is currently requeuing for the second time.","The support team refunded the cost of the two jobs that experienced issues. To check account balance, run the command `mybalance x-aidiz`. The user's current balance was displayed in the ticket response. The issue appears to be resolved at this point, but the user may contact the support team again if further questions arise."
ATS-3870,Public IP needed for Anvil composable container,"The ""proxy-public"" service in the ""geoedf-jupyter"" namespace of project EES220056 requires a public IP for SSL certificate and DNS name configuration.","To obtain a public URL for your hub, follow these steps if you're using the zero to jupyterhub Helm chart:
   - Enable Ingress by adding `ingress:` with `enabled: true` in your `values.yaml`. - Configure the host by setting it as `hosts: - .anvilcloud.rcac.purdue.edu`. This will provide a public URL for your hub."
ATS-3787,Unable to submit batch job on Anvil,User cannot submit batch jobs on Anvil due to exceeding the job submission limit or user's size and/or time limits as per accounting/QOS policy.,"To resolve this issue, you need to check your job submission limits and ensure they are not exceeded. Here is a command that can help you view your current QOS policies:

```bash
sacctmgr show qos <qos_name> -o format=(""Name%30 Policy%30 Minutes/Job%20Minutes/User%20MaxCpu%20MaxMem%20MaxDisk%20MaxIof%20MaxNetwork"")
```

Replace `<qos_name>` with your QOS name. If you are unsure, you can list all QOS policies available to you:

```bash
sacctmgr list qos -o format=(""Name"")
```

Also, be aware of the expired cts130006, as mentioned in the message. Make sure it does not affect your job submission limit."
ATS-3794,VASP6,User Requests Access to VASP6 on Anvil HPC System,"The user has been added to the vasp6 group on the Anvil HPC system. Their membership will be ready within a few hours. They are advised to refer to the user guide for VASP calculations on Anvil located at this URL: https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp
Additionally, they can find more information about using VASP on Anvil in this document: https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp|smart-link"
ATS-3766,Job failed,The user is experiencing job failures in Amber simulations on the gpu partition of the HPC system.,"It appears that the issue was caused by a temporary problem with the project fileset, which has now been resolved. The user should check if their jobs are running without errors. If they still encounter issues, they can re-open this ticket or submit a new one for further assistance."
ATS-3817,Submitted jobs waiting since 9/28,User's job submission on Anvil (DMR970008) is not starting due to insufficient SUs available for the pending jobs.,"To address this issue, follow these steps to submit a Supplement for your allocation DMR970008:
   - Login to ACCESS: <https://allocations.access-ci.org/>
   - Once on the ACCESS Allocation page, click on ""Manage Allocations."" - Within ""Manage Allocations,"" click on ""Manage My Projects."" - Starting at the List of Allocation Request Page: <https://allocations.access-ci.org/requests/>
   - Go to the List of ACCESS Allocations Requests page and look for your allocation (DMR970008). You should see a button that says ""Choose New Action."" Click the ""Choose New Action"" button. - You should see the option: Supplement. - Once submitted, add a progress report describing how the PI's current allocation was used and summarize the findings or results. - The Allocations Team will review your request and transfer it to the Anvil team for further assistance. If you have any questions along the way, please visit this site: <https://access-ci.atlassian.net/servicedesk/customer/portal/2/> and submit a ticket if necessary."
ATS-3880,Gromacs job script,User Aashish is experiencing an error when running GROMACS simulations on Anvil using 864 cores and 36 nodes with a CPU-based version of GROMACS. The simulation works fine on a GPU workstation but not on the CPU.,"To resolve this issue, Aashish can try compiling and running GROMACS for GPU acceleration on Anvil using the following script as a starting point:

```bash
#!/bin/bash
#SBATCH -A mcb180049-gpu
#SBATCH -p gpu
#SBATCH -t 8:00:00
#SBATCH -N 1
#SBATCH -n 16
#SBATCH --gpus-per-node=1
#SBATCH --job-name=gromacs_test

module --force purge
module load modtree/gpu
module load ngc
module load gromacs

gmx grompp -f md.mdp -c npt.gro -t npt.cpt -p topol.top -o md.tpr
gmx mdrun -deffnm md -ntmpi 4 -ntomp 4 -nb gpu -bonded gpu
```

Additionally, Aashish is advised to test the `{-ntmpi}` and `{-ntomp}` options for their mdrun command and adjust the number of threads (MPI threads and openmp threads) as needed. It's also recommended to consult the GROMACS documentation for further assistance."
ATS-3743,Request an increase in file number quota,Increase the file number quota for project x-cis230283 from the current limit to 5000k.,"Unfortunately, it was not possible to increase the file number quota as requested due to the user's specific workflow requirements. If the user has any other requests or questions in the future, they are encouraged to contact support again."
ATS-3893, Anvil back-end nodes cannot see outside world,Anvil back-end nodes cannot see hosts on the outside world,"The networking team has been notified and they are currently working on this issue. A workaround has been put in place by the networking technicians. Compute nodes on Anvil should now be able to see the outside world. If further issues occur, please reopen this ticket."
ATS-3913,R killed - memory issues ,User Renee is experiencing the termination of processes while using Conda and R packages on a login node due to being killed by cgroup OOM killer. The user wanted to know how to allocate more memory and remove locked custom Conda environments.,"To resolve this issue, it's recommended that Renee requests a whole compute node and runs the commands from an interactive job. This can be done using the `sinteractive` command with appropriate flags for allocating resources as shown below:
   ```
   sinteractive -A mcb130189 -p wholenode -N 1 -n 128 -t 1-00:00:00
   ```
   Check the job information using the `jobinfo` or `sacct` command to see resource utilization and adjust the resource requests for future jobs accordingly. More information about running jobs on Anvil can be found at this link: https://www.rcac.purdue.edu/knowledge/anvil/run
   Renee has successfully removed her locked custom Conda environments manually after encountering issues earlier."
ATS-4011,Could you please install the Joe-Editor? ,User requesting installation of Joe-Editor on Anvil HPC cluster,"Although the Joe-Editor cannot be installed centrally on Anvil as it is not a frequently requested software, users can install it in their own space, such as their HOME or project folder. To do so, follow these steps:

   - First, ensure you are logged into your account on Anvil. - Create a directory for the Joe-Editor using the command `mkdir ~/joe`. - Download the latest version of Joe-Editor from its official website and save it in the created directory with a suitable name (e.g., `joe`). - To make the downloaded binary executable, use the command `chmod +x ~/joe/joe`. - Finally, add the directory to your PATH environment variable so that you can run Joe-Editor from anywhere on Anvil. Here's how to do it:
     ```bash
     export PATH=$PATH:~/joe
     ```
     To make this change permanent, add the line above to your `~/.bashrc` or `~/.bash_profile` file and reload the profile with the command `source ~/.bashrc`."
ATS-3184,GPAW 23.9.1 Installation on Anvil - Errors,User is unable to install the latest version of GPAW package due to a failure in building the prerequisite Libxc library using the gpaw-buildenv script on Anvil HPC system. The user encounters an error when trying to compile with both gcc and intel compilers.,"Try installing GPAW using Spack, as it seems to work for some users without encountering the same issue. Below are the suggested commands:
   ```
   $ spack env create -d ./gpaw
   $ spack env activate `pwd`/gpaw
   $ spack add py-gpaw %
   $ spack install
   ```
   If you're not familiar with Spack, follow the tutorial (https://spack-tutorial.readthedocs.io/en/latest/index.html) to get started."
ATS-4281,vasp not running on compute nodes,User is experiencing issues running vasp on compute nodes using sbatch scripts while it works when run interactively or on the head node. The issue appears to involve a potential mismatch in libraries on the compute nodes.,"To investigate and resolve this issue, follow these steps:
   1. Examine the error log (err.3490321.xz) for more details about the errors encountered during the sbatch script execution. You can do so using a text editor or command-line tools such as `less` or `cat`. 2. Check the versions of the OpenMPI and Intel modules installed on both the head node and compute nodes to ensure they match. If not, reinstall/update the modules to match. For example:
      ```
      module avail openmpi
      module avail intel
      module load openmpi/x.y.z
      module load intel/x.y.z
      ```
   3. Verify that the correct modules are loaded in your sbatch script. If not, add appropriate `module` commands at the beginning of the script as follows:
      ```
      #!/bin/bash -l
      module unload openmpi
      module load intel
      ...
      ```
   4. Ensure that the paths to the vasp binary and any necessary libraries are correct in your sbatch script and in the working example provided (/home/x-coses/scratch/test). 5. Check if there are any environment variables affecting vasp execution only when running via sbatch scripts, such as LD\_LIBRARY\_PATH or PATH. Set these variables appropriately in your sbatch script. 6. If necessary, contact the system administrators for further assistance, especially if additional information or troubleshooting is required. Also, provide them access to your vasp license if needed."
ATS-4416,Pending Job,The user's job is pending due to insufficient allocation hours on Anvil. They need to know how many SUs a job requires and how they can check their project's SU balance.,"To find the number of Service Units (SUs) required for a specific job, use the following formula: SUs = Cores * Walltime (hours). In this case, if the user requested 135GB memory and 6 hours, they would need approximately 408 SUs. To check the SU balance of a project, run the script `/usr/local/bin/jobsu jobid`, followed by `mybalance x-hbish`. The output will show the account's name usage for different allocation types, including the remaining number of SUs. If the required SUs exceed the remaining balance, the user must either wait for the SU balance to replenish or resubmit the job with fewer resources or shorter walltime."
ATS-2654,Lacking library while compiling VASP,User is unable to run VASP 5.4.4 due to a missing shared library libmkl_gf_lp64.so during execution.,"To resolve this issue, the user needs to download and install the necessary MKL (Math Kernel Library) library. Here is a step-by-step guide on how to do it using the Intel Parallel Studio XE application (which includes MKL):

   - Visit the following website to download the software: https://software.intel.com/content/www/us/en/develop/tools/oneapi/components.html
   - Select the appropriate version for your system, accept the license agreement, and follow the installation instructions provided. - After successful installation, run Intel Parallel Studio XE Command Line Compiler (ipxc) by adding it to your PATH or using the command `module load intel` if you have LMOD module manager installed. - Run the following commands to build and link MKL libraries with VASP:

```bash
mkdir -p $VASP_DIR/libmkl
cp /opt/intel/compilers_and_libraries_2021.5.314/linux/mkl/lib/libmkl_gf_lp64.so $VASP_DIR/libmkl/
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$VASP_DIR/libmkl
```
   - Replace `$VASP_DIR` with the actual path to your VASP installation directory."
ATS-3735,qe,User Yuxuan is having trouble compiling Quantum Espresso (QE) version 7.2 with EPW 5.7.0 and the compilation failed some tests shown in /anvil/projects/x-dmr200031/software/q-e-qe-7.2/test-suite/history-test. They are seeking suggestions on how to resolve this issue.,"To troubleshoot the compilation issue with QE 7.2, Yuxuan can try the following steps:
   - Ensure that all the required modules, such as `gmp`, `mpfr`, `zlib`, `libfabric`, `openmpi`, `modtree`, and `fftw` are loaded. - Verify that the commands used to compile QE 7.1 manually also work for QE 7.2:
     ```bash
     module purge
     module load modtree/cpu
     module load intel-mkl
     module load fftw
     wget https://www.quantum-espresso.org/rdm-download/488/v7-2/xxxxx/qe-7.2-ReleasePack.tar.gz
     tar -xzvf qe-7.2-ReleasePack.tar.gz
     cd qe-7.2
     ./configure
     make pw
     ```
   - If the compilation still fails, it would be beneficial to share the exact error message encountered during the compile process for further troubleshooting. Additionally, if Yuxuan wants to install QE 6.7 manually on Anvil, they can use Spack:
   ```bash
   module --force purge
   module load gcc/11.2.0 openmpi/4.0.6
   module load intel-mkl/2019.5.281
   module load fftw/3.3.8
   wget https://gitlab.com/QEF/q-e/-/archive/qe-6.7MaX-Release/q-e-qe-6.7MaX-Release.tar.gz
   tar -xzvf q-e-qe-6.7MaX-Release.tar.gz
   cd q-e-qe-6.7MaX-Release/
   ./configure
   make pw
   ```"
ATS-3867,"Fortran libraries, modules, and compile optimiaztion","User could not find required hdf5 and MKL libraries and optimizations for their Fortran code in the Anvil system, and needed guidance to resolve this issue.","To load the necessary hdf5 libraries, use the following command: `module load hdf5`. For the MKL libraries, use the `module load intel-mkl` command. To find more software on Anvil, review the Cluster 101 and Cluster 201 tutorials at [this link](https://www.rcac.purdue.edu/training) and visit [the software knowledge base](https://www.rcac.purdue.edu/knowledge/anvil/software)."
ATS-4047,What modules are required to run quantum espresso 6.7 on Purdue Anvil?,A student researcher at New Mexico State University was unable to find the necessary modules required for compiling a custom version of Quantum Espresso 6.7+ on Purdue Anvil's supercomputer.,"The user can access the installed {{quantum-espresso/6.7}} module by running the following commands:
   ```bash
   $ module load gcc/11.2.0 openmpi/4.0.6
   $ module load quantum-espresso/6.7
   ```
   If the user needs to install a custom version of Quantum Espresso, they should check its required libraries for compilations."
ATS-4070,Submitting python code batch,The user is encountering a QOS system error when running a Python code through a batch job in Anvil HPC cluster.,"To resolve the issue, provide the error message, job submission script, and command details to investigate and troubleshoot the problem. Once diagnosed, follow these steps to submit jobs on Anvil:

   - Prepare your job submission script (e.g., myjob.sh) with appropriate commands. - Submit the job with the following command in a terminal or batch job environment: `qsub -q <queue> -l <resources> myjob.sh` where `<queue>` is the desired queue and `<resources>` specify the required resources for the job (e.g., walltime, memory, cores). For more details about using Anvil's batch system, refer to the [Anvil HPC documentation](https://myanvilhpc.com/documentation/batch-system/) or contact the support team at [support@myanvilhpc.com](mailto:support@myanvilhpc.com)."
ATS-4082,Purdue ANVIL Special Queue,User requires reactivation of a special queue for running scaling tests and seeks access to 600 nodes.,"The user can still utilize the existing queue {{-q jnash12-wide}} to gain access up to 200 nodes on Anvil. To run scaling tests with 600 nodes, it is recommended that they first execute the tests with the specified number of nodes (10, 20, 40, 80, 160) to demonstrate their code's scalability with Anvil nodes. Due to increased usage and potential long waiting times for jobs requesting large numbers of nodes on Anvil, the user should provide the results from these scaling tests to determine if additional resources are necessary."
ATS-4187,request for vasp on anvil,User requires access to VASP on Anvil and has attached their license file.,"The user has been added to the access of both vasp5 and vasp6 on Anvil. They are advised to check their account later today. For usage information, they should refer to our user guide which can be found at the provided URL: [Purdue VASP User Guide](https://purdueit.service-now.com/service_attached_file?id=c8f4b70e3d3f9610d5202e7c31a665b5)"
ATS-4278,module version on Anvil,User needs to use hdf5/1.8 instead of the currently available hdf5/1.10 on Anvil while running FLASH code.,"To solve this issue, the user can install hdf5/1.8 in their project space on Anvil. This can be achieved by using the following command:

```bash
module load hdf5/1.8
mpicc -o my_flash_code my_flash_code.c -lhdf5_hl -L/path/to/your/library
```
Replace `my_flash_code` and `/path/to/your/library` with the appropriate file names and paths for your specific project. This command loads the hdf5/1.8 module, compiles your FLASH code, and links it with the required hdf5 libraries."
ATS-4302,batch submit and module helps,User is unable to compile Fortran code using specified modules in Makefile,"If using the Intel compiler, the appropriate module to specify in the Makefile is {{FC= mpiifort}}. For the GCC compiler, it should be {{FC = mpif90}}. The user may also want to ensure their batch submit file is set up correctly by following the guidelines provided in our user guide: <https://www.rcac.purdue.edu/knowledge/anvil/run>. To load either intel or gcc compiler, and/or impi or openmpi if a MPI job is required, it is recommended to use {{module load ...}} after performing a {{module purge}} in the user's job script."
ATS-4521,Failed PVC attachment ,Anvil composable is unable to mount PVC (volume-shin152-40purdue-2eedu and jupyterhub-shared).,"To resolve the issue, attempt to manually mount the volumes using the following command on the cloud07 node:

```bash
kubectl attach volume claim/volume-shin152-40purdue-2eedu --namespace=jupyterhub -it --container=<anvil-composable-container-name>
```

Repeat the command for jupyterhub-shared. If successful, you should be able to interact with the mounted volumes within the container. It is also recommended to check the status of other storage system resources and ensure they are functioning correctly. Refer to the Rancher dashboard for more details on the system's state."
ATS-4534,I want to request access to VASP on Anvil. I am a license holder. My license number is 19-0093,User request for access to VASP on Anvil with provided license number.,"The user's VASP license has been verified and they have been added to both {{vasp5}} and {{vasp6}} Unix groups on Anvil. To access the VASP modules, the user should open a new login session. For guidance on running VASP jobs on Anvil, refer to the following link: [https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp). Additionally, a previous training session recording on VASP is available online at [https://www.rcac.purdue.edu/training/using-vasp-on-anvil](https://www.rcac.purdue.edu/training/using-vasp-on-anvil)."
ATS-4652,Quota expansion request,The user's SCRATCH directory quota has been exceeded due to a large number of output files generated during extensive jobs.,"The HPC support team increased the quota of the user's SCRATCH directory to 3 million files. Users can check their new quota using the command `myquota x-whnfff`. Here is an example of how you might check your quota:

```bash
$ myquota x-whnfff
==============================================================================
home    x-whnfff          811.9MB        25.0GB      3%  -   -   -
scratch anvil            11.9TB         100.0TB     12%  999k  3,145k  32%
projects x-dmr100005     102.5GB        5.0TB       2%   255k  1,048k  24%
```"
ATS-4558,Jobs do not run,MPI jobs on the wholenode partition of the PURDUE CPU Anvil allocation are pending for multiple days and can only run for a maximum of 3 hours due to an account resource limitation.,"The issue is caused by the `AssocGrpCPUMinutesLimit` in the user's account on the Anvil cluster, preventing jobs from being started because there are not enough service units (SUs) available to support them. To resolve this issue, the user should monitor their SUs usage and allocation, as explained below:

- Check job status with `squeue -u x-dchang2 -l` command to see if the job is still pending. - Calculate the required SUs for a given job by multiplying the number of nodes by the number of cores per node, then multiplying that result by the time in hours (e.g., 3 nodes * 320 cores/node * 3 hours = 1152 SUs). - Verify current available SUs in the account using `mybalance x-dchang2` command. - If the account does not have enough SUs to support the requested job, the user should either wait for more resources or submit smaller jobs that can fit within the current SU limit. For more information about job accounting on Anvil, please refer to the following documentation:
- [Anvil Job Accounting](https://www.rcac.purdue.edu/knowledge/anvil/run/accounting)
- [Smart Link for Anvil Job Accounting](https://www.rcac.purdue.edu/knowledge/anvil/run/accounting|smart-link)"
ATS-4619,Anvil composable node(s) seem to be missing filesystem drivers for CephFS,"JupyterHub in Anvil k8s namespace, geoedf-jupyter, is experiencing trouble mounting volumes on a specific node (cloud07), causing notebook launch failures due to missing Ceph filesystem drivers.","Investigate the issues with the specific node (cloud07) mentioned in the ticket. Focus on resolving the trouble mounting volumes issue that is preventing JupyterHub from attaching and mounting volumes for the namespace, geoedf-jupyter. This problem seems to stem from missing drivers for the Ceph filesystem. Attempt to resolve this by checking the required k8s system drivers are installed on node cloud07. If not, install the necessary Ceph drivers to enable volume mounting for the JupyterHub setup. Additionally, consider monitoring the system logs on node cloud07 to identify any further potential issues that may be causing this behavior."
ATS-4433,Pending job on debug partition.,The user is experiencing job pending issues while running Quantum Espresso 6.5 on Anvil's Slurm debug partition due to shared SU allocation with team members.,"To resolve this issue, the user should be aware that their jobs are using a shared SUs allocation (dmr110093) with other project members on Anvil. When SUs for running jobs from other members of the project deplete and there aren't sufficient SUs available for the job to get started, it will be pending until more SUs become available. This can happen when a job finishes running before its walltime is reached or more SUs are exchanged. The user can check the status of their jobs with the `jobsu` command."
ATS-3261,file read error,User is unable to copy files from a specific directory to another due to Input/Output error,"To resolve the issue, the user should investigate the cause of the Input/Output error in the specified directories (`pbe-scf/WAVECAR`, `pbe-scf/czs.3195898`, and `pbe-scf/CHGCAR`). The following command can be used to recursively copy the 'pbe-scf' directory to the destination:

```bash
cp -r pbe-scf/ hse
```

If the issue persists, it is recommended to check file permissions, validate file integrity, and ensure that the source and target directories have enough storage space. If necessary, consult the user's HPC documentation or seek additional assistance from the support team within 7 days."
ATS-5027,"Install apptainer on Anvil, or at least the pre-reqs?","User requesting installation of Apptainer on Anvil for container building, and installation of prerequisites if not possible.","The requested application, Apptainer, is currently under consideration for installation on Anvil, but an estimated time of availability (ETA) has not been provided. If users want to install it in the meantime, they are recommended to use Spack (<https://spack-tutorial.readthedocs.io/en/latest/>). This tool can help with the installation process. Users should refer to its documentation for detailed instructions."
ATS-3708,may fail to use impi correctly to run job with 2 processors,"User is encountering an error when trying to submit a sbatch job on Anvil with multiple nodes and tasks using WRF (WRFU_TimeSet(startTime) FAILED), but the job runs successfully with 1 node and 1 task.","The user is advised to use `srun --mpi=pmi2 -n xxx ./wrf.exe` command, where `xxx` should be replaced by the desired number of tasks. If the user does not specify `-n xxx`, it will use the total number of processor cores requested from SLURM by default. The user mentions that this was already attempted without success, and suggests that the issue may be related to the version of the model. It is recommended to escalate the question to the application team for further investigation."
ATS-4374,Library libjasper.so.1 ,User is unable to locate libjasper.so.1 on Anvil HPC system.,"The user can try using command `locate libjasper` to find related libraries. However, only libjasper.so, libjasper.so.4, and libjasper.so.4.0.0 are available under /usr/lib64/ on Anvil. The user is advised to check if these can work for their specific workflow."
ATS-4642,Required modules,User is trying to analyze output with matplotlib but getting an error due to the version needed. The user is unsure if the issue is related to the Python version available through Anvil and needs guidance on installing a different Python version if necessary.,"To resolve this issue, the user should create a custom Conda environment and install the required packages there."
ATS-4710,ACCESS Allocation on Purdue Anvil CPU,"The user's allocation transfer from ACCESS to Purdue Anvil under dmr160063 isn't being processed, resulting in incorrect usage information on both portals and a balance showing as n/a on Purdue Anvil.","Loop in ACCESS support to resolve the issue with the allocation transfer from 11/30/23. Once the transfer has been processed, it will be picked up and propagated by Purdue Anvil, correcting the usage information on both portals and ensuring the balance shows correctly. To check on the status of this request, please refer to the ACCESS Allocations link provided in the Private Note section: [ACCESS Allocations](https://access-ci.atlassian.net/jira/people/team/bb58a2c1-b952-4323-ae42-fddf8975f846?ref=jira$&src=issue)."
ATS-4724,Increase storage quota for each user in my project,User wants to change the storage quota for their users from 25GB to more on Anvil HPC cluster.,"To modify the storage quota for each user, run the command `myquota <username>`. For example, to check the current quotas of the user 'x-vsharma6', you can run the following command:

```bash
$ myquota x-vsharma6
```

This will display the storage usage and quota for specified users. To change the quota, please follow these steps:

1. Run `myquotactl -g <username>` to set a new group quotas or `myquotactl -u <username>` to set user quotas. 2. Set the 'hard limit' and 'soft limit' for the required storage allocation (e.g., for a user with 50GB quota, use `myquotactl -u x-vsharma6 --hard-limit=50G --soft-limit=50G`). 3. Verify the new quotas by running the command again: `myquota x-vsharma6`. Please be aware that changing file system quotas may affect existing files if they exceed the new quota limits. To ensure smooth operation, please plan accordingly and monitor usage regularly. For more information on storage options in Anvil, refer to the documentation at this link: [Anvil Filesystems](https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems)"
ATS-4774,Job not running,Account balance not reflecting the newly credited computing hours for allocation EES230052.,"The user's supervisor needs to go back to the Exchange Request and submit it on the Allocations page at [https://allocations.access-ci.org](https://allocations.access-ci.org/). After submission, the Allocations Team will contact the reviewers to expedite the process. If any further questions arise, the user can submit a ticket through this site: [https://access-ci.atlassian.net/servicedesk/customer/portal/2](https://access-ci.atlassian.net/servicedesk/customer/portal/2)."
ATS-4814,Stale file handle error on login04.anvil,"User is unable to access files in scratch directory on login04 due to a ""stale file handle"" error.",The issue has been fixed by the support team. Users should now be able to access the files in their scratch directory on login04.
ATS-3842,Not able to access internet from GPU nodes on Purdue Anvil,Unable to ping websites consistently from a GPU node in the HPC system.,"To resolve this issue, our engineering team recommends checking the network configuration of the GPU nodes. It's possible that there is an issue with the DNS resolution or routing table on the GPU nodes causing connectivity problems. To troubleshoot further, you can try using `traceroute` command to trace the route to the destination and identify any potential network bottlenecks. For more information on `traceroute`, please refer to the following documentation: <https://man7.org/linux/man-pages/man1/traceroute.1.html>

It is also advisable to restart the networking services (e.g., `systemd-networkd`) on the affected GPU node if necessary. If the problem persists, please provide additional details or run network diagnostics for a more thorough investigation."
ATS-3844,error when submitying the job,"User is encountering an ""Environment is too large (max is 193)"" error when submitting a job to the supercomputer that uses mpi inside petsc instead of system mpiexec.","Modify the command in the run\_anvil.sh file by using mpiexec to execute the script. For example, use `mpiexec -np 512 ./run_anvil.sh > output.log`. If this does not resolve the issue, it may be a PETSC internal error and re-compiling PETSC on Anvil could help. Attached files include the modified run\_anvil.sh and an error file for reference."
ATS-3984,Re: ATS-2492 Inefficient jobs on ANVIL,"The user is experiencing an Out of Memory error when running a VASP job on the HPC system Anvil, despite increasing memory limits in their slurm.sub file.","To resolve the memory issue, the user should install openmpi 4.1.4 on their project space and compile VASP manually with the installed openmpi. They can use Spack to install openmpi and create a local module. Here are the steps:

   - Follow the Spack tutorial available at https://spack-tutorial.readthedocs.io/en/latest/ to install openmpi. - After installing openmpi, create a local module by adding the following lines to your .spack-env file:
     ```
     %openmpi
     ```
   - Follow the instructions at https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp/build_your_own_vasp_5 to install VASP5 on your project space with the newly installed openmpi."
ATS-4167,Accessing new allocation on Purdue Anvil,Researcher Heck cannot run jobs on the Anvil HPC system despite being added to the ACCESS Maximize allocation by collaborator Sara Porchetta.,"To resolve this issue, the researcher should verify if they are using the correct command for submitting jobs on Anvil. The suggested command to submit an interactive job is `sinteractive -N 1 -n 1 -A ees230042`. If the researcher's account was ready as mentioned in their email from RCAC, running the sinteractive command should work now."
ATS-5723,Recently declined project,"User wants to update their affiliation on an ACCESS resource allocation request from UBC (Vancouver, Canada) to UC-Santa Barbara due to a change in co-advisors and project focus. The user is eligible for an NSF EAR Fellowship.","After providing the necessary documentation, including the NSF fellowship grant number (2204594) and an abstract of a conference paper authored with Eckart Meiburg as the second author, the request has been approved. The ACCESS Allocations team will resubmit the user's Explore request and process further notifications."
ATS-4532,need access to Purdue anvil,"User requires access to Purdue Anvil HPC system for VASP (Version 5.4.4) with grant number geo170003 and is unable to submit jobs due to an error related to file 'runTime.txt' not found, as well as a license issue.","To resolve the issue, add the user to the VASP license by verifying their registered email addresses for the VASP license. Here are the provided email addresses: (1) [mailto:primary_email], (2) [mailto:additional_email]. Once added to the license, re-open the support ticket if further issues occur. The user should then be able to use vasp5 and submit jobs without encountering the mentioned errors."
ATS-4720,Disk Quota Exceeded,"User is unable to open a new Jupyter notebook on Anvil due to a disk quota exceeded error, despite deleting files in the root directory. The user wants to move their project directory into their home directory for additional storage space.","To resolve this issue, create a symlink from the user's project directory to their home directory by running the command `ln -s /anvil/projects/x-cis230306/{user_folder} myprojects` (replace `{user_folder}` with the actual folder name). After that, navigate to the shared group space `cd /anvil/projects/x-cis230306/`, create a new directory for the user with the command `mkdir {user_folder}`. The user can then access their project directory from within their home directory by opening the Jupyter notebook and finding the `myprojects` folder."
ATS-4800,Anvil login04 cannot see /anvil/projects (stale file handle),The user is unable to access the directory '/anvil/projects' due to a stale file handle error on login04.,"To resolve this issue, our storage experts have been notified and will address the problem. No specific technical steps are provided in this message, but it is recommended to monitor for updates regarding the resolution of the storage issue on login04."
ATS-4561,Issue of Invalid memory allocation,Anvil Cluster user encountered an invalid memory allocation error while running a quantum empresso job using a custom compiled executable. The issue is intermittent and affects only some of the jobs.,"To troubleshoot this issue, try modifying the job script to use `srun --mpi=pmi2` instead of `mpirun`. This change will be applied to the MPI launcher command. Additionally, consider checking if you are using Intel MPI or OpenMPI in your compilation process, as this could potentially affect the memory allocation behavior. It's also recommended to move any necessary module commands (e.g., `module load`) from the bashrc file to the job script itself. To further isolate the issue, attempt to run the job on more than one node to see if the error persists. If this is a job that ran successfully in the past but has recently failed, investigate whether any changes in the system or user environment could have caused the issue. If necessary, consult the appropriate documentation for using the quantum empresso software and compilers on Anvil Clusters."
ATS-4562,Jobs longer than 4 days,"User is having issues with large HILLS files in a parallel metadynamics calculation using LAMMPS/20210310 and PLUMED on Anvil's Wholenode partition. The user wants to run jobs for up to 8 days without restarting. Additionally, the user has problems with credit transfer for their allocation (dmr160063).","- To run jobs for up to 8 days on Anvil's Wholenode partition without restarting, create a QOS named `wholenode-long` and add the directive `#SBATCH -q wholenode-long` to your submission script. Make sure to use this QOS only in the Wholenode partition. - Contact ACCESS allocation team for assistance with credit transfer for allocation dmr160063 if you are experiencing issues with SUs not being applied. Once a sufficient amount of SUs are available, our experts will create the QOS for you. - For more information about using Anvil's applications, please refer to this link: [Anvil Applications](https://access-ci.atlassian.net/jira/people/team/0f5fcf8a-26ef-4d24-a346-4a2ef3a7afda?ref=jira)"
ATS-4752,"Urgent - I ran into an issue of ""Invalid memory allocation""",Urgent issue with memory allocation causing job termination during execution.,"The user is experiencing an issue with memory allocation that results in job termination while running. To resolve the issue, review the error files and submission script attached by the user for analysis. If necessary, coordinate a Zoom call to further discuss potential solutions and troubleshoot the problem efficiently. It may be helpful to investigate memory usage settings within their job submission script or environment, such as adjusting the allocated memory limit. Additionally, consider optimizing their code to reduce memory consumption and ensure it is properly utilizing available resources."
ATS-4983,The VASP access request in Anvil,"User wants to access VASP on Anvil after purchasing the license ""23-0266"". The user's username for Anvil is x-yao1 and email address used for Anvil is [mailto:].","The user has been added to vasp5 and vasp6 groups on Anvil. Membership should be ready within a few hours. To use VASP6, the user is required to add 'module load hdf5' command to their submit script as indicated in this link: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp>
For additional information on running VASP calculations on Anvil, please refer to this link: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link>"
ATS-5044,Request file number limit (quota) increase,Request to increase file number limit (quota) on the Anvil scratch partition for Image classification model research.,"To address this issue, you will need to contact the Anvil HPC support team to request an increase in your file quota on the Anvil scratch partition. Please provide them with details about your current usage (e.g., 2 Million file limit) and the reason for the request (improving Image classification model research). Once you have submitted this request, the Anvil HPC support team will review it and respond with instructions for increasing your quota."
ATS-4125,Add new Data Mine OnDemand apps visible to just members of group x-tdm-ood-max,"A user named Doug wants to create a second set of OnDemand apps visible only to a specific group of students that puts the CPU core cap at 128 cores instead of 16. The new group is called ""x-tdm-ood-max"" and the user needs help with setting the correct file permissions for these apps.","a) Change to the directories ending with `_max` under `/home/x-dgc/ondemand/dev` to be group readable only by ""x-tdm-ood-max"" using the following command:
```bash
chgrp -R x-tdm-ood-max *_max
```
b) Change permissions of the directories ending with `_max` so that other users cannot write to them, while keeping group and world read permissions using the following command:
```bash
chmod o-rwx *_max
```
c) Replace all versions of Doug's TDM apps in OnDemand by copying the directories from `/home/x-dgc/ondemand/dev` to their respective locations in OnDemand. Make sure the group read permissions are set accordingly after copying."
ATS-5131,VASP License on Anvil,User Nick requires approval and access to VASP 5.4.4 on Anvil.,"Add the user 'mailto:[Nick's email address]' to the Unix group {{vasp5}} for access to the {{vasp/5.4.4.pl2}} module. To utilize the new access, the user should start a new login session so that the updated group memberships can be recognized. The command to check the group membership is: `$ groups x-njaegers`. If the user has further questions or encounters issues, they may reopen this ticket or submit a new one."
ATS-5068,My job's status is not changing. It is still pending.,Job is not running and is kept pending for user Hyunwoo.,"Check if there are any pending jobs by running the command 'squeue -u username' (replace 'username' with your actual username). If no jobs are found, verify that the job submission scripts are correctly configured and are not encountering any errors."
ATS-5170,ANVIL PURDUE increase file quota,"User, Canchila, requires an increase in the file quota limit of their HPC project folder to accommodate a large dataset (over 1.3 million images) for deep learning model training.",The storage expert has increased the user's project folder quota to 2 millions files. This should help alleviate the issue faced by the user during their deep learning task.
ATS-5211,Job run in ANVIL,"The user's NAMD simulation job is not completing as expected, running only about 20 ns after 48 hours, and requires more resources to run multiple jobs successfully due to storage and time limitations.","To resolve this issue, the user should specify a partition in their job submission file using the `#SBATCH -p` command. Using the `wholenode` queue will allow jobs requesting for up to 16 nodes (2,048 cores). The number of nodes needed can be specified with `#SBATCH -N xxx`. Note that when using the `wholenode` partition, only the entire node(s) can be used. If 2,048 cores are still not sufficient, a more tolerant partition called `wide` will allow up to 56 nodes (7,168 cores). The user should refer to [this link](https://www.rcac.purdue.edu/knowledge/anvil/run/partitions) for more details about partitions."
ATS-5285,Anvil reports more CPUs than actual use,Job is assigned more CPUs than requested when only using 1 CPU,"The allocation of memory is proportional to the number of CPUs. If a user requests 100GB, it would be approximately 50CPUs as one CPU typically has around 2GB memory."
ATS-5209,Disk Quota Exceeded even though I changed the project directory,"User is experiencing an issue with a Model being stored in their home directory instead of the project directory, despite having limited space and more capacity in the project directory.","The user can modify the `cache_dir` when downloading Hugging Face models to change the destination for the cache files. Additionally, the user can set up a symbolic link (symlink) to move the cached files to their scratch directory using the following commands:

```
mv ~/.cache $CLUSTER\_SCRATCH/cache
ln -sf $CLUSTER\_SCRATCH/cache ~/.cache
```

In this way, applications that want to read/write to the canonical `~/.cache` will use the Scratch filesystem (more capacity and performance), with the added benefit of automatic expiration."
ATS-5287,Problem building VASP5.4.4+wannier90,The user cannot build bvasp5.4.4+wannier90 on ANVIL due to a permission error when linking the libwannier.a library.,"To resolve this issue, ensure that you have the necessary permissions to access the required library by running the following command as root or using `sudo`:

```bash
sudo ln -s /apps/spack/anvil/external/vasp/wannier90-3.1.0-gcc-11.2.0/libwannier.a /usr/local/lib
```

Before building the bvasp5.4.4+wannier90, verify that you have loaded the correct modules for both VASP and wannier90 using the `module load` command:

```bash
module load vasp/[version]
module load wannier90/[version]
```"
ATS-5312,Job run in ANVIL,"The user is experiencing slow performance while running NAMD simulations for 100 ns, with the simulation only completing about 20 ns after 48 hours. The simulations were run on both one and three nodes without any improvement in performance, and remained in PD state (Pending Dependency).","To improve the performance of NAMD simulations, it is recommended to perform a scaling test by running a few iterations with different numbers of cores (e.g., 16, 32, 64, 128, 256). This will help determine the optimal number of cores for the system and ensure efficient resource utilization on the HPC cluster (Anvil), using SLURM as the job scheduler. It is also noted that small jobs might start quicker than big jobs due to SLURM prioritizing resources accordingly, so scaling tests would be beneficial in this case."
ATS-5415,Job running in Anvil stalls,"The WRF-Chem model simulation stalls during runtime on Anvil HPC cluster for job IDs 4231067 and 4238597. Job 4238597 was in a completing state due to issues on node a556, which has been rebooted. Job 4231067 failed because node a794 became non-responsive.","- For job ID 4238597, it should be cancelled as it's no longer needed since the node (a556) has been rebooted. You can use the following command to cancel the job:
     ```
     scontrol cancel <job_id> (for example: scontrol cancel 4238597)
     ```
   - For job ID 4231067, since the issue is due to a non-responsive node (a794), you should check for similar issues with other jobs. In addition, consider performing a new Quality Assurance (QA) on the model inputs to ensure there's no problem with them. If you see similar issues with other jobs, inform the support team for further investigation."
ATS-5420,Wholenode 8-day QOS Access,User is unable to resubmit jobs on wholenode QOS due to an Invalid qos specification error during job submission.,"To resolve this issue, the user account with id `x-psharma3` should be added to the allocation `nnt220002` with QOS `wholenode-long`. This can be achieved by contacting the system administrator and providing the necessary details. The requested QOS is `wholenode-long` for allocation `nnt220002`."
ATS-5459,VASP access on Purdue Anvil,User (Gillian) needs VASP license approval on Purdue's Anvil HPC system for submitting VASP jobs,"- The user has been added to the 'vasp6' group on Anvil, and membership is expected to be ready within a few hours. - The user is advised to consult the VASP calculations user guide available at this link: [VASP calculations on Anvil](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp)
- When using VASP6, it's recommended to include 'module load hdf5' in the submit script to ensure proper functionality. Further details on running apps on Anvil can be found at this link: [Anvil run examples for VASP](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp)"
ATS-5212,Hanging Jobs,"MPI jobs hang after running for about 30 minutes on a specific machine, and the user's credits continue to decrease during this time.","The hanging of MPI jobs does not affect the calculation of Service Units (SUs). SUs are determined by the 'Used walltime', not actual CPU usage. Although the job may be stuck, the accumulation of SUs continues. If further assistance is required, the user can reopen this ticket within the next 7 days."
ATS-5300,Issues while loading modules on Purdue Anvil CPU,"User is experiencing an error while loading OpenFOAM modules and having issues with command execution, specifically with snappyHexMesh, on Anvil HPC resource. User also seeks guidance on parallel speed for OpenFOAM simulations.","To resolve the issue with loading OpenFOAM modules, it appears that the user has figured it out already. For ensuring all commands work, the user should run scaling tests for their system to determine the optimal number of cores for their calculations. This can be done by running a few iterations with different numbers of cores (e.g., 16, 32, 64, 128, 256) and recording the time used for each calculation. The efficiency can then be calculated according to the tests with different numbers of cores. Regarding parallel speed, it is recommended that the user runs scaling tests to maximize the efficiency of their OpenFOAM simulations on Anvil HPC resource. The user should note that SLURM will find available resources for each job based on priority, and small jobs will start quicker than big ones due to this scheduling behavior. With scaling tests, the user can determine how many cores they should use to maximize efficiency and guarantee they do not request too many cores and wait too long in the queue to get a job started. Example job submission script for OpenFOAM:
```bash
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=16
#SBATCH -n 16
```
or
```bash
#SBATCH --ntasks=16
```
For running a scaling test, the user could modify the above script to run with different numbers of cores (e.g., 4, 8, 16, 32) and submit it multiple times to observe the performance with various core counts."
ATS-5630,Data transfer from ANVIL to another cluster,Unable to transfer data from ANVIL to Negishi cluster using 'scp' command,"The user is experiencing issues with transferring data from ANVIL to the Negishi cluster using the command `scp -r : mailto::/anvil/scratch/x-mrahman2/CdTe\_HSE/HSE06 .` To resolve this issue, make sure that the user's ssh keys are properly configured on both ANVIL and Negishi cluster. Additionally, ensure that the path to the data being transferred is correct. If the issue persists, consult the respective documentation for each cluster regarding scp usage:
   - ANVIL: <https://www.anvil-project.org/documentation/using-scp/>
   - Negishi Cluster: <https://docs.rcac.purdue.edu/negishi/using/transferring-data>"
ATS-5662,IDL on Purdue Anvil?,Unable to run IDL (Interactive Data Language) on Purdue Anvil due to lack of available module.,"If you have a valid license, you can install IDL in your project space or home directory on Anvil. To do this, follow the installation instructions provided by the IDL documentation. You can find the official documentation here: <https://www.harrisgeospatial.com/docs/idl/>. Once installed, you should be able to access and run IDL on your Purdue Anvil account."
ATS-5531,Storage limitation in home,User Vivek Sharmas home directory is full and he needs to free up space as his data is in the scratch directory and he cannot increase his HOME quota.,"Run the 'ncdu' command on the home directory to check what files have been occupied, decide if you want to keep them, and then move necessary files to either /anvil/project/x-cda090008 or /anvil/project/x-cis230306 project folders. Each project folder has a 5TB quota. For more information about storage options on Anvil, refer to the user guide: <https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems>"
ATS-5600,CP2K compile issue,User requires CP2K + PLUMED for simulations but the current version on Anvil does not contain PLUMED support. The user requests a private compilation of CP2K+PLUMED in their home directory (/home/x-msun3/Codes/).,
ATS-5601,available software,"User requires access to the computational chemistry software Gaussian for their HPC resource, but is unsure if it is available and pre-installed on Anvil.","The user can check if Gaussian is available on Anvil by visiting the following webpage: [https://www.rcac.purdue.edu/knowledge/applications](https://www.rcac.purdue.edu/knowledge/applications). Since Gaussian needs a license, it is not pre-installed on Anvil. However, if the user has their own license, they can install Gaussian in their project space."
ATS-5651,"I need access to the VASP build on ANVIL.  We have our own license, image attached.",Access to VASP software on ANVIL for the group and verification of one member's license status.,"- The user (Nikolas) has been added to the {{vasp5}} and {{vasp6}} Unix groups on Anvil for accessing the pre-installed vasp modules. This should allow Nikolas to use the VASP software. However, it is necessary to start a new login session in order for the update to take effect. - There was an issue with verifying the eligibility of one member (name) using VASP. The user is advised to contact the support team regarding the current status of their license. Once the license status is verified, name will be added to the {{vasp5}} and {{vasp6}} Unix groups for accessing VASP on ANVIL."
ATS-5663,Need VASP 5.4.4 access,User is unable to access VASP 5.4.4.pl2 on compute nodes despite being granted access and updating groups.,"Add the user to the vasp5 Unix group. The user should be able to load the vasp/5.4.4.pl2 module, but might need to start a new login session for the update to take effect. If the problem persists after starting a new login session, the user should wait for the system update to propagate and check again later. For any further questions or help regarding VASP issues, please contact our expert or reopen this ticket."
ATS-5800,Anvil Shared Node Queue,"User is experiencing an issue where they are unable to submit a batch job on Anvil with 16 cores from the shared node queue, but sometimes the job runs fine even though the requested number of cores is less than the available CPUs on the resource.","The user needs to ensure that the requested number of processes (NP) in their batch script matches the actual number of CPU cores they are using (16 in this case). If the NP value is higher than the available CPU cores, it may result in an error. To resolve the issue, the user should modify their batch script to set NP=16. For example:
```bash
#!/bin/bash
#SBATCH -J my_job
#SBATCH -N 1
#SBATCH -n 16
#SBATCH -t 01:00:00
#SBATCH --qos shared

# Your command or script here
```
The user should also check that their batch job script does not contain any conflicting directives that might cause the requested number of processes to exceed available CPU cores. For more information, refer to the Anvil documentation on batch jobs: <https://anvil-hpc.example.com/docs/batch_jobs>"
ATS-5711,Urgent: Connectivity Issues with Server Resulting in Job Cancellations,User Aashish is unable to establish a connection to the Anvil HPC server and automatic cancellation of scheduled jobs as a result.,"The user should contact the Principal Investigator (PI) of the Research Allocation (MCB160119) and request additional SUs on the Anvil CPU resource. This can be done by submitting a Supplement, following the instructions provided at https://allocations.access-ci.org/how-to. The user is also recommended to submit a Renewal for the Research Allocation (MCB160119) in the Maximize Opportunity before January 31, as the allocation ends on March 31, 2024. More information about the Maximize Opportunity can be found at https://allocations.access-ci.org/prepare-requests."
ATS-5333,Jobs going to PD,Jobs in an allocation (che210078) are not running due to insufficient remaining SUs and being held up by a running job (422340).,"To resolve the issue, check the usage of the allocation (`squeue -name che210078`) and notice that most jobs are pending due to ""AssocGrpCPUMinutesLimit"". To investigate further, run the command `mybalance x-name Allocation Type name Limit name Usage name Usage name Balance Account (account) (user) ============= ==== ========== ========== ========== ========== che210078 CPU 13500000.0 13491371.4 364111.2 8628.6`. It was found that part of the allocation is reserved for a running job (422340). To check the SUs used by this job, run `jobsu 4224340`. Wait for the job to finish and if it finishes early, Slurm might get one of your pending jobs started. The problem could also be due to a bug in the usage uploading processes from Anvil to the ACCESS system, which is being worked on to sync up the job accounting information."
ATS-5812,NEB calculations on VASP on ANVIL,VASP version on Anvil does not compile with vtst code and cannot run NEB calculations.,"The Senior Computational Scientist recommends installing the necessary NEB version of VASP in the user's own project space. If assistance is required for installation, the user should reach out to the team for help."
ATS-5821,Queue time,User's Anvil job has been stuck in the queue for an unusually long time (almost a week).,"Request user to share their job script used to submit jobs on Anvil. Investigate submitted job script for potential issues causing prolonged queue times, such as resource requests that may exceed availability or improperly configured scripts. Suggest possible solutions based on findings, including adjusting resource requests, optimizing script execution, and verifying script syntax. Provide user with links to relevant documentation and resources for troubleshooting and optimizing Anvil job submissions. Relevant Links:
- Anvil User Guide (URL hidden due to platform's policy)
- Best Practices for Job Submission on Anvil (URL hidden due to platform's policy)"
ATS-5850,Time reservation and allocation,"A researcher at FSU needs pre-reserved GPU nodes on Purdues Anvil for a cryo-EM data processing workshop, requiring 12 GPUs over 3 days in March 2024. The workload consists of running Relion and CryoSparc on GPU via Open Ondemand with an estimated scratch space requirement of 10-15 TB.","To accommodate the user's request, follow these steps to set up the reservation for the specified GPUs:
    - Assign 10 users and two instructors onto the ACCESS project on Purdues Anvil. - Reserve 3 full nodes (g002 or g007) with 4xA100 GPUs each, totaling 12 GPUs. - Instruct the users to use SSH (not OOD) to connect to the nodes: `srun -p gpu -c 10 --nodelist=g002/g007 --gres=gpu:1 --time=08:00:00 --pty --x11 bash`
    - Provide 10-15 TB of scratch space for the workshop."
ATS-5915,Can't create a interactive session due to invalid job name error  ,"User unable to submit a Jupyter notebook interactive session due to error: ""sbatch: error: Batch job submission failed: Unexpected message received""",The issue appears to be a system-wide problem with interactive apps on Anvil OOD. Our scientists and engineers are currently working on resolving it. Users are advised to monitor the situation and contact support if they continue to experience issues after the fix has been implemented.
ATS-5117,Snapshots for /anvil/projects broken since 11/21/2023,Snapshots on /anvil/projects have stopped working again and need to be re-enabled.,"The issue was due to a problem with the filesystem not being able to quiesce because of a misbehaving client. The error has been cleared, and snapshots worked this morning. To prevent future issues, a check has been added to ensure that snapshots are working properly."
ATS-5976,Batch job submission failed: Invalid account or account/partition combination specified,Error with NAMD CPU job submission in Anvil due to invalid account or account/partition combination specified.,"Add the following line to your job script: `{{#SBATCH -p wholenode}}` This command specifies that you wish to use a whole node, which may be required for certain partitions."
ATS-5304,how to fix 'out of memory' issue?,"User is experiencing an 'out of memory' error when running a VASP simulation with 192 atoms across 6 nodes and specifying 200GB memory, despite removing the requested memory option from the job script. The issue may be related to the number of tasks and CPUs per task, as well as the number of threads per rank in the output file.","Remove the '#SBATCH --mem=200G' line from the job script. Instead, use the default memory allocation for a 6-node request (1536 GB). If the 'out of memory' error persists, consider adjusting the number of tasks and CPUs per task to reduce the memory usage per process. For example, try using fewer nodes or reducing the number of tasks while maintaining the desired number of CPUs per task. In case of issues with VASP calculations on Anvil, schedule a virtual meeting for further assistance."
ATS-5703,I need the access of VASP.,User requires access to VASP software under the advisor's VASP license on Anvil platform,"To grant access to the VASP software on the Anvil platform for the user, follow these steps:
   - Log into the Anvil platform using your credentials
   - Launch the VASP5 software by typing `module load vasp5` in the terminal if it's not already loaded. If you encounter any issues with loading the module, please consult the Anvil documentation at <https://anvil.itap.purdue.edu/documentation/>
   - Once loaded, proceed with using VASP as per your research requirements"
ATS-5879,Software installation IDL,"User wants to install IDL in their $WORK directory on Anvil without using modules, but requires sudo permissions or root access for license activation and doesn't know how to proceed.","To install IDL in the desired directory (/anvil/projects/x-phy160032/idl89) on Anvil, you need either sudo permissions or root access to activate the university license by running the command ""{{envi\_idl\_license\_admin}}"". Since the user doesn't have sudo permissions or knows the password for it, the best course of action is to request sudo privileges from an administrator or system support staff. The relevant documentation can be found at: [IDL Installation Guide](https://www.nv5geospatialsoftware.com/docs/idl-install.html)."
ATS-6042,cpu-per-task,Job submissions are incorrectly utilizing more CPUs than specified (currently set at 20) and consuming unnecessary SUs.,"Adjust the number of CPUs for job submissions by modifying the `--cpus-per-task` option in the Slurm submission script. To ensure jobs are restricted to 20 CPUs, update the script as follows:

```bash
#!/bin/bash
#SBATCH --job-name=my_job
#SBATCH --cpus-per-task=20
# ... (rest of your submission script)
```

The issue appears to be related to the Slurm scheduler misinterpreting resource requests. It is recommended to carefully review and validate your resource requests before submitting jobs. For more information, please consult the [Slurm documentation](https://slurm.schedmd.com/documentation.html)."
ATS-6044,Job submission,Aashish is unable to receive job status updates via email after maintenance on the Anvil cluster.,The issue was escalated to the engineering team for a thorough examination and a fix has been implemented. The ticket will be resolved.
ATS-6045,allocated CPUS on Anvil jumping to 69 or 70 even when set to 1,"Job script in partition with limited memory is requesting excessive resources, causing Slurm to allocate more CPUs than requested.",Modify the memory request in the batch\_ML1 job script (line 7: {{#SBATCH --mem=128G}}) to match the DefMemPerCPU of 1896M in the {{shared}} partition. This should prevent Slurm from allocating more CPUs than required to satisfy the adjusted memory request.
ATS-6112,"Postfix on Anvil broken, can't send mail",Postfix service was broken during Anvil maintenance last week and unable to send mail using Anvil.,"Edit the /etc/postfix/main.cf file and ensure that the 'setgid\_group' parameter is set to a different group ID than postdrop and postgres. For example, if the desired group ID is 9001, update the following line in the main.cf file:

```
setgid_group = 9001
```

Save the changes and restart the Postfix service using the following commands:

```
sudo systemctl restart postfix
```

After applying these steps, you should be able to send emails using Anvil again. If the issue persists, please reopen this ticket or create a new one for further investigation."
ATS-6113,Anvil shared and whole node memory limits,Inquiry about memory limits on the shared and wholenode queues of Anvil HPC system for future job planning.,"The compute nodes in both the {{shared}} and {{wholenode}} partitions of Anvil contain approximately 256GB memory each, with a small portion reserved for system processes. For detailed hardware specifications, please refer to the following link: [Anvil Hardware Specifications](https://www.rcac.purdue.edu/knowledge/anvil/architecture)"
ATS-6205,Encountered error running jobs ,"Anvial user encountered an error ""slurm_load_assoc_mgr_info error: Unable to contact slurm controller (connect failure)"" when using squeue, submitted job and check mybalance after submitting a compiled VASP software that crashed.",The issue was related to the status of slurmctld on Anvial system and has been fixed.
ATS-5969,Error when uploading files,"User Hannah Bish is encountering an issue with uploading files to her home directory using ACCESS OnDemand with the error ""Upload failed"".","To resolve this issue, Hannah can delete some files from her home directory if it's nearly full and then try uploading again. Alternatively, she can use scp (Secure Copy) to transfer the files directly to the Anvil system instead of relying on ACCESS OnDemand for large files. Additionally, it is recommended to utilize project space for storing larger files due to a 5TB quota, as compared to the home directory's 25GB quota. To navigate to her project space, Hannah can use the command:

```bash
cd /anvil/projects/x-phy230181
```

Hannah should always check the storage quotas using 'myquota' command on Anvil to understand the available space for each storage type. For more information about different storage spaces on Anvil, please refer to this user guide: [Anvil Storage - Filesystems](https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems)"
ATS-6471,Compiled software does not run in Anvil cluster,"The user is unable to run LESGO software on the anvil-Purdue cluster and encounters an error. Additionally, the user cannot access the anvil since last evening due to a Proxy Error.","To resolve the issue with LESGO not running, examine the attached log file for error messages. Investigate the compiler settings used during the software compilation to ensure they are compatible with the cluster environment. If necessary, recompile LESGO with updated or alternative compiler options. For assistance with this step, consult the LESGO documentation or seek help from the cluster support team. To address the Proxy Error preventing access to the anvil-Purdue cluster, check your proxy configuration settings to ensure they are correctly configured for the current environment. If you have recently updated your proxy configuration, verify that it is functioning properly. If needed, contact your system administrator or IT department for assistance with your proxy setup. Include relevant log files, job scripts, and any other pertinent information in your ticket response to help expedite the resolution process."
ATS-6198,Running a job,Perl script fails to execute due to missing Statistics::Normality module on Anvil cluster.,"To resolve the issue, install the missing Perl module (Statistics::Normality) in your home directory or project space on the Anvil cluster. You can refer to the official installation guide at this link: [Perl Module Installation Guide](https://www.cpan.org/modules/INSTALL.html). If you have further questions, please do not hesitate to contact us again."
ATS-6261,Inexplicable loss of Anvil CPU-hours,"Part of the group's allocation on Anvil expired unexpectedly, causing a loss of CPU-hours and affecting their remaining balance.","The support team extended the part that expired on December 31, 2023 until March 31, 2024. To verify the updated allocation for the account phy130027, run the following command `mybalance x-btripathi`. This command displays the current allocation details for the specified user. The updated allocation type name limit and balance should now be as follows:

   - Allocation Type: CPU
   - name Limit: 62464243.9
   - name Usage: 61926637.1
   - name Usage: 37335080.0 (updated)
   - Imbalance: 537606.8
   - Account (account): phy130027 (user): Btripathi"
ATS-6350,OpenMP error compiling code on Anvil,Code running successfully despite the warning,"Run the code, as the warning is not critical enough to prevent its execution. If any issues arise due to the warning in future, further investigation will be required."
ATS-6364,Disk quota exceeded error in Interactive Session,Error saving Jupyter Notebooks on OnDemand due to exceeded file limit in the SCRATCH directory.,"To resolve the issue, it is necessary to remove some files from the SCRATCH directory to free up inodes and allow for additional files to be added. The user can delete old or unnecessary files to meet the 1,000k file limit in the SCRATCH directory. For reference, navigate to the SCRATCH directory using the terminal (e.g., `cd /home/x-jsullivan1/SCRATCH`) and run the command `rm [filename]` to delete specific files or use the command `rm -r [directoryname]` to remove entire directories. It is recommended to back up any important data before deleting files."
ATS-6455,Could not submit jobs,"Job submission failure on Anvil with error message ""sbatch: error: Batch job submission failed: Unable to contact slurm controller (connect failure)"".","The issue appears to be resolved on Anvil. If you encounter the same problem in the future, ensure your connection to the slurm controller is established correctly. For more information, refer to the news article here: https://www.rcac.purdue.edu/news/6400."
ATS-6567,ls and rm commands hang on purdue anvil project filesystem in one directory,Filesystem commands (ls and rm) are hanging on a specific directory in the Purdue Anvil project filesystem for user x-phy230179.,"Run the command `rm -rfv /anvil/projects/x-phy230179/wham/run/20240226.BEAM.nz256.tester-anvil/particles/T.0` to remove the specified directory and its contents. If the problem persists, try removing files individually instead of recursively using the command `rm -vf /anvil/projects/x-phy230179/wham/run/20240226.BEAM.nz256.tester-anvil/particles/T.0/*`. If you still encounter issues, please contact the support team for further assistance."
ATS-5909,Job submission issue on Anvil Purdue CPU,"User is experiencing an error when submitting jobs with more processes than CPUs on Anvil Purdue CPU, and also facing issues with the Superquadric Particle Model (SQP) in fluidizing particles using MFiX package, which runs under Anaconda module on Anvil Purdue CPU. The SQP job is not progressing past one time-step despite attempts to increase CPUs from 8 to 128 and a 4-hour walltime set.","- Address the issue with jobs binding more processes than CPUs on Anvil Purdue CPU by checking the updates made to the Anvil mpi configuration. (No specific technical details provided in the ticket response)
   - To solve the problem with the SQP job, consider increasing the job's walltime to allow for longer processing times or investigate if there are any issues specific to MFiX-23.2 and the given workflow that require further attention. - Attach relevant files (output file, job submission script) when seeking help with technical issues like this for efficient troubleshooting and resolution."
ATS-6105,Issue running code on Anvil HPCC,"User is experiencing errors while running MPI-based code on Anvil HPCC due to an issue with the MPI setup, specifically involving the HYDRA library and intelMPI.","To resolve this issue, users can try modifying their command to run via a Slurm job with the specified MPI (e.g. `srun --mpi=pmi2 ./flow_ifs`). Additionally, adding the following command before running the code may help: `export I_MPI_HYDRA_BOOTSTRAP=ssh`. This configuration change should ensure that the correct intelMPI is used when running the code."
ATS-6156,cant transfer files,User cannot transfer files through command line using SSH authentication on Anvil due to unsupported password-based SSH authentication; user successfully transfers files with SSH keys using MobaXterm,"To transfer files using SSH on Anvil, follow the instructions provided in this link for setting up SSH keys: https://www.rcac.purdue.edu/knowledge/anvil/access/login#with\_ssh. After setting up SSH keys, you can use a tool like MobaXterm to transfer files. If you encounter any issues or require further assistance, do not hesitate to reach out for a virtual meeting."
ATS-6290,NVIDIA DEVICE Drivers Anvil Purdue,User is unable to train an ML model on Anvil due to a missing libcuda.so.1 library while using GPU modules.,"The user was advised to verify the environment setup by sharing the Conda environment path and the exact steps taken to create it. They were also encouraged to run their script on a node with equipped GPUs, such as in the gpu or gpu-debug queue. The user reported that they were able to fix the issue."
ATS-6524,Job was re-submitted automatically for no idea,Anvil Purdue job status inconsistency,"The user experienced an issue where a submitted molecular dynamics simulation job on Anvil Purdue was showing an inconsistent status. It appeared to have started only two hours after the initial submission, despite being run for over nine hours the previous day. This inconsistency occurred due to job manager issues on Wednesday, 2/27. The problem has been resolved by our engineers."
ATS-6552,No new snapshots on /anvil/projects since Feb 20,Snapshots on /anvil/projects have stopped working from Feb 20.,"The issue should be resolved now. Newer snapshots of the projects directory are available. If you see any further issues, please contact support."
ATS-6599,Compilation of OpenFOAM,"PhD Student at University of Rhode Island needs assistance in compiling OpenFOAM v2006 on Anvil, but the administrative team might not be able to deploy this version due to software installation policy.","The PhD student can try to compile OpenFOAM v2006 following the official guide within their own spaces since an older version of gcc (compiler) is working for them now. If they encounter further issues, they should reach out with more questions."
ATS-6600,File recover,Important files in the user's `/anvil/scratch/x-wangwl/hba` directory were deleted and the user is seeking to recover them.,"Files deleted from the scratch directory on Anvil cannot be recovered as there are no backups. A purge policy for the scratch filesystem states that files older than 30 days (access time) will be purged (https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems). It is not recommended to store important files only under the scratch directory as there will be no protection when they get deleted. For further questions, please contact the support team."
ATS-6705,access to more nodes,"User requires access to at least 136 nodes (~20,000 CPUs) on ANVIL HPC system to run their parallel code Rhea.","To request the required number of nodes, use the '{{hujs-wide}}' Quality Of Service (QOS). Add the '-q hujs-wide' option in your job submission script or command. For example:

```bash
#BSUB -q hujs-wide
...
# Other job submission commands ...
```

This should allow you to request up to 158 nodes (20,224 CPUs). If you encounter any issues, please let us know."
ATS-5647,Invalid account or account/partition combination specified,Submission of jobs on the Avil cluster failing due to an error related to an invalid account or account/partition combination specified.,"The user appears to be encountering an issue with submitting jobs to the gpu queue (`sbatch -p gpu`) on the Avil cluster because of an error regarding the specified account or account/partition combination. To resolve this issue, the user should verify that they have the correct allocation name and account set for their partition. They can check the correct allocation name by running `salloc -l pmem=1gb -N 1 --account=<allocation_name>` to find the appropriate allocation for their project. After identifying the correct allocation, they should update their job submission script with the correct allocation name:
```bash
#SBATCH -A <allocation_name>
```
Additionally, it is important to ensure that all required modules are properly loaded in the user's environment before attempting to submit jobs. The user can use `module purge` and `module load modtree/gpu module load applicationname module load ngc module load namd` commands to manage their processing environment and load the necessary compilers, applications, and libraries. After making these changes, the user should resubmit their job using the updated script:
```bash
sbatch myjobsubmissionfile
```
If they still encounter issues after following these steps, they may need to contact their HPC support team for further assistance."
ATS-5722, file creation limit ,User is unable to run jobs due to file creation limit in project space and wants to increase the limit or find a workaround. The user also needs help creating a tarball file in Anvil.,"- The recommended solution is to bundle large collections of small files, such as in machine learning training, using an off-the-shelf format like TAR or ZIP. This can be done without compression for better performance during training. - To create a tarball file (TAR) with the `tar` command, you can use:
     ```
     tar -cvf training_data.tar training_data/
     ```
   - To create a ZIP file, the creation command is similar:
     ```
     zip -0 -r training_data.zip training_data/
     ```
   - Note that the archive creation won't affect the source data, as it only touches the data in read-only fashion. - To keep your terminal running even when you get disconnected, use the Remote Desktop interface (ThinLinc) or utilities like SCREEN or TMUX. For better features, consider using TMUX. - When consuming the data while in a bundled format, you can list the files from where they lie inside the archive and pull them directly out if you have the benefit of writing your own code. In Python, this is a couple of lines change or a single line change if you use a third-party package to handle it for you. If you are stuck using a pre-existing application that you cannot change the interface to, you can trick it by exposing the archive file as a 'normal' directory using utilities like ratarmount: [https://github.com/mxmlnkn/ratarmount](https://github.com/mxmlnkn/ratarmount)
   - To use ratarmount, first create an empty folder (e.g., `other_dirname`) and then mount the archive as a directory using:
     ```
     ratarmount training_data.tar other_dirname/
     ```"
ATS-6458,Longer than usual queue times,"Researcher at New Mexico State University experiencing long wait times for jobs on Anvil cluster's wholenode partition after maintenance shutdown, suspecting a problem with their account allocation balance.","The researcher addressed the issue by exchanging for additional SU's, which allowed them to run jobs successfully. However, it was later found that there was an issue with the name limit on the account {{dmr110093}}, and engineers are currently investigating this problem. The account {{dmr110093}} should have a limit of 174,940.0 SUs (not 1,899,572.0). Account holders may experience longer wait times until the issue is resolved by the engineers."
ATS-6683,QT QPA plugin error for GUI application,"User is unable to run a GUI application (""deformetrica"") via remote desktop on Anvil due to an error related to QT and no window opening after running ""export qt\_qpa\_platform=offscreen"".","Reinstall the ""deformetrica"" package within the user's conda environment or check if there are missing libraries that need to be installed for the application to work properly. Additionally, consult the manual of the application for any discussions regarding QT plugin. Here are the commands needed to launch the software without its GUI:
```bash
module load anaconda
conda activate deformetrica
deformetrica command_to_run_without_GUI
```"
ATS-5647,Invalid account or account/partition combination specified,"Unable to submit jobs on Avil cluster due to ""Invalid account or account/partition combination specified"" error and command ""module"" not found in submission script.","The issue arises due to the missing specification of the correct module load path in the submission script for the Avil cluster. To resolve this issue, follow these steps:

   - Make sure you have the necessary modules loaded before submitting your job script. You can add the following lines at the beginning of your script to ensure that the required modules are loaded:
     ```bash
     module purge
     module load modtree/gpu
     module load applicationname
     module load ngc
     module load namd
     ```
   - If you encounter errors saying ""module: command not found"", it's possible that the environment variables (e.g., `MODULEPATH`) are not set correctly or the specified modules do not exist on your cluster. You can check this by running the following command:
     ```bash
     module avail
     ```
   - If the required modules are missing, contact your system administrator to have them installed. If the environment variables are not set correctly, follow your HPC center's documentation or consult with the administrators for guidance on how to properly set up the modules and their paths. - After making these changes, try submitting your job script again using the `sbatch` command:
     ```bash
     sbatch myjobsubmissionfile
     ```"
ATS-5722, file creation limit ,User is unable to run jobs due to file creation limit in project space and wants to increase the limit or find a workaround for creating tons of small files during machine learning training process.,"To resolve this issue, it is recommended that the user archives the files to a tarball or zip format to avoid producing/creating tons of small files. This can be done using standard Linux utilities such as `tar` or `zip`. To create a tarball file using `tar`, use the command `tar -cvf training_data.tar training_data/`. For creating a zip file, use the command `zip -0 -r training_data.zip training_data/`. The user should note that they do not need to compress the data while archiving; the purpose is only to bundle the files. The archive creation process will not affect the source data and can be done without worrying about losing any data. To avoid disconnection issues, it is suggested to use the Remote Desktop interface (i.e., ThinLinc) or utilities like `SCREEN` or `TMUX`. For consuming the archived data while in a bundled format, the user can list the files from within the archive and pull them directly out using their preferred programming language. If using Python, this process is straightforward with only a couple of lines of code change. Alternatively, if using pre-existing applications, they can trick the application by exposing the archive file as a 'normal' directory using utilities like [ratarmount](https://github.com/mxmlnkn/ratarmount)."
ATS-6458,Longer than usual queue times,Researcher on Anvil cluster is experiencing long wait times in the queue for wholenode partition despite sufficient allocated nodes.,"The issue was caused by an insufficient balance of SUs (Service Units) in the researcher's allocation {{dmr110093}}. The group has since exchanged for additional SUs, and the jobs have started running successfully. However, it was also noted that the name limit on the account {{dmr110093}} is not properly set up and Anvil engineers are investigating the issue. The account should have a limit of 174,940.0 SUs (not 1,899,572.0) at the moment."
ATS-6683,QT QPA plugin error for GUI application,"Unable to run the GUI application ""deformetrica"" on Anvil due to an error related to QT not being able to initialize a platform plugin. The issue persists even after trying to set the QPA platform offscreen and reinstalling the package within the conda environment.","It is recommended to ensure that all necessary libraries required for the QT platform are present in the environment. If not, they should be installed. However, if the GUI is not a requirement, the software can still be run without it. If the problem persists after installing the required libraries, re-installing the ""deformetrica"" package within the conda environment might resolve the issue. It is also advised to check the manual of the application for any discussion about QT plugin issues."
ATS-7524,FailedMount on a k8s node.,"Kubernetes (k8s) node has an issue where a Pod cannot mount or release Persistent Volume Claim (PVC), preventing the termination or creation of the Pod.","To resolve the issue, it is necessary to investigate the specific composable name mentioned in the ticket message. Here are some steps that can be taken:

a) Examine the event logs provided in the attachment for error messages related to the PVC mounting or unmounting process. These logs might provide clues about the underlying problem, such as permissions issues, incorrect configuration settings, or software bugs. b) Verify if there are any known issues with the Kubernetes version being used on the affected node by checking its release notes or consulting the relevant documentation. If a known issue exists, follow the provided workarounds to resolve it. c) Ensure that the PVC is correctly configured and bound to the Pod. Check if the correct access modes (ReadWriteOnce, ReadOnlyMany, etc.) have been specified for the PVC and the Pod's volume mount. Make sure that the storage class associated with the PVC supports the desired access mode. d) If needed, consult the official Kubernetes documentation for guidance on troubleshooting issues related to mounting and unmounting PVCs: https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes

e) Perform a test to recreate the issue by creating a new Pod with the affected PVC and verify if it can successfully mount and unmount the PVC. If the issue persists, consider whether there are any local configuration issues on the affected node that might be causing the problem. f) In some cases, it may be helpful to temporarily disable dynamic volume provisioning (if enabled) and create a manually-provisioned PVC for the affected Pod. This can help determine if the issue is related to the automatic provisioning process itself."
ATS-6754,VASP access request on Anvil,A new user needs to access VASP (Vienna Ab initio Simulation Package) on Anvil HPC system with license number 23-0067.,"To access VASP modules {{vasp5}} and {{vasp6}} on Anvil, you will need to login to the system and load the appropriate modules. This process may take a couple of hours after your account has been updated with the licenses. For more information about loading modules, please refer to the Anvil User Guide: [Anvil Module System Documentation](https://docs.it-cog.purdue.edu/anvil/module_system/)"
ATS-6841,Failed access from external kubectl,User is experiencing problems with kubectl command to anvil composable.,The issue was caused by an intermittent problem with one of the API servers. It should have been resolved now. No action required for the user.
ATS-3009,Issue compiling a code with autotools,"User is unable to compile a MPI-based computational fluid dynamics Fortran code using autotools with Intel compiler, mvapich2, mpc, and mpfr modules. The error occurs during the bootstrapping of makefile fragments for automatic dependency tracking.","The user should try re-running the `configure` command with the '--disable-dependency-tracking' option to bypass the issue. However, this will disable automatic dependency tracking and might cause issues later. To compile the code correctly, ensure all necessary libraries are installed and accessible. The source code for this package can be found at [https://auburn.box.com/s/s5uenng2zui29o68db74zih5ehdx3kff](https://auburn.box.com/s/s5uenng2zui29o68db74zih5ehdx3kff). To generate the configure & make file and compile, use the following commands:
   - `sh autogen.sh`
   - `./configure`
   - `make`"
ATS-6855,Anvil running issue,Job submission failure due to missing allocation in the job script submitted by user x-cassingh for project MAT-240024.,"User must add {{#SBATCH -A mat240024}} at the beginning of their job script, followed by {{sbatch ""filename""}} command to submit the job again. For reference, here is the modified job submission file:

```bash
#!/bin/bash
#SBATCH --nodes=2
#SBATCH --ntasks=256
#SBATCH --time=18:00:00
#SBATCH -p wholenode
#SBATCH -A mat240024
#SBATCH -o slurm.%N.%j.out
#SBATCH -e slurm.%N.%j.err
#SBATCH --mail-user=: mailto:
#SBATCH --mail-type=all
module load python/3.9.5
mpirun -n $SLURM_NTASKS vasp_ncl > vasp.out
python3 relax_ase.py > ase_vasp.out
```"
ATS-1634,Method allowing Data Mine staff to see current student quotas on Anvil,"Data Mine students exceeding their /home quota on the Anvil HPC system without realizing it, causing issues with data management and workflow. Currently, there is no way for TDM staff to check individual student quotas proactively.","Implement a cron job on zfs.anvil that runs the following command as root:
   ```
   zfs userspace -p tank/home | grep -w -f <(getent group x-cis220051 | sed -e 's/^.\\*://; s/,//g') > /anvil/projects/tdm/log/tdmquotas
   ```
   This command will output the quota usage for each member of the x-cis220051 group in the specified log file, which is only accessible by TDM staff. With this information, scripts can be written to send email alerts to students who are over quota or perform other necessary actions. Note: The location where the output is written isn't critical; it could be within /anvil/projects or even in /tmp on zfs.anvil. However, accessing the file from other locations would require an extra ssh connection. An alternate suggestion is for students to run ""myquota"" commands themselves or use helper scripts that check their quota usage and perform sanity checks like checking for excessive Python package usage in ~/.local. It was also mentioned that email quota alerts could potentially be re-enabled on the Anvil HPC system in the future."
ATS-2169,Cgroups virtual memory limits issue on Anvil front-ends,"The Anvil front-ends are currently configured to allow an unlimited amount of virtual memory, causing frustration for users when running programs exceeding available RAM, and potentially leading to performance issues or crashes.","To address this issue, it is recommended to limit the amount of virtual memory available to users. To test this change, you can run the command `stress -m 1 -t 30 --vm-bytes 150G` and observe the system behavior using tools like `top` and `vmstat`. This command should cap at 12GB of RAM and page furiously. To fix the issue, systemd needs to be restarted for the new limits to take effect. However, it seems that this was supposedly addressed during the last maintenance. If the problem persists, please report it again for further investigation."
ATS-6230,intel compiler on Anvil,The user is unable to run a previously compiled LAMMPS executable due to the compiler not being able to find the mpi libraries and the executable hanging without output. They also have trouble compiling PLUMED due to the same issue with the mpi libraries.,"To resolve this issue, follow these steps to correctly compile LAMMPS and PLUMED:
   - Load the Intel and IMPI modules (module load intel/19.0.5.281 and module load impi/2019.5.281)
   - Update your makefile with the correct options for LAMMPS compilation:
     ```bash
     CC = mpiccc -std=c++11 -diag-disable=10441 -diag-disable=2196
     OPTFLAGS = -march=core-avx2 -O2 -fma -ftz -fomit-frame-pointer \
       -fp-model fast=2 -no-prec-div -qoverride-limits \
       -qopt-zmm-usage=high
     CCFLAGS = -qopenmp -qno-offload -ansi-alias -restrict \
       -DLMP_INTEL_USELRT -DLMP_USE_MKL_RNG $(OPTFLAGS) \
       -I$(MKLROOT)/include
     SHFLAGS = -fPIC
     DEPFLAGS = -M
     LINK = mpicc -std=c++11 -diag-disable=10441 -diag-disable=2196
     LINKFLAGS = -qopenmp $(OPTFLAGS) -L$(MKLROOT)/lib/intel64/
     LIB = -ltbbmalloc -lmkl_intel_ilp64 -lmkl_sequential -lmkl_core
     SIZE = size
     ARCHIVE = ar
     ARFLAGS = -rc
     SHLIBFLAGS = -shared
     ```
   - Compile LAMMPS via the make command
   - Before compiling PLUMED, check if mpiccc and mpiicpc can find the mpi libraries:
     ```bash
     mpicc -h
     mpiicpc -h
     ```
     If there is an error saying ""/usr/bin/ld: cannot find -lmpi"", try loading the Intel and IMPI modules again. - If the checks are successful, compile PLUMED using cmake."
ATS-6393,My issue for submitting new job,The user Javad Omidi is experiencing a halt in job submissions on the Anvil Cluster due to disk quota exceeded error.,"To resolve the issue, the user needs to check their disk quota and current usage using the command `myquota`. If the space limit is exceeded, they should free up space by deleting unnecessary files. The job submission on Anvil should be back to normal once sufficient space is available. Here's how to check your disk quota and usage:
   - Open a terminal after connected to Anvil
   - Run command `myquota` to get an overview of your disk quota and usage. The following example shows the output for Javad Omidi's account:

```
Location    Size Limit Use Files Limit Use ==============================================================================
home       x-jomidi  1.8GB   25.0GB    7% - - -
scratch    anvil     0KB   100.0TB    0% 0k  1,000k  0.00%
projects   x-chm230034  1.2TB   5.0TB   26% 619k 1,048k  59%
```
In this example, the user has exceeded their disk quota in the `home` location (x-jomidi). To free up space, delete unnecessary files from this directory."
ATS-6407,Access to multiple highmem nodes on Anvil,User wants to access more nodes from the highmem partition of Anvil for a specific period (three weeks) to run large fluid dynamics simulations.,"The user has been granted access to the QOS 'wide-highmem' which allows them to request up to 16 nodes from the highmem partition. To use this QOS, the user needs to add `{-q wide-highmem}` into any of their Slurm options. It is also mentioned that a maximum time limit of 2 days per run applies on this partition. The user can check this QOS limit using the following command:

   ```
   $ sacctmgr show qos wide-highmem format=Name%,GrpSubmit,MaxTRES%20,MaxTRESPerNode%20,MaxWall,MaxTRESPU,MaxJobsPU,MaxSubmitPU,MaxTRESPA,MinTRES
   ```

   The output of the command will be:

   ```
   Name               GrpSubmit MaxTRES       MaxTRESPerNode     MaxWall  MaxTRESPU MaxJobsPU MaxSubmitPU MaxTRESPA MinTRES
   wide-highmem        cpu=2048,node=16     2-00:00:00 cpu=2048,nod+16    32 name
   ```"
ATS-6427,Getting sbatch: error: Batch job submission failed: Invalid qos specification for SLURM job,"SLURM job submission failed with an error ""Invalid qos specification"".","Attempt to run the SLURM job using the command `sbatch -t 6:00:00 --nodes=1 --ntasks=40 latitude_longitude_slurm_job` gives the error ""Invalid qos specification"". This issue may have been caused by an outage for Anvil. It is recommended to try submitting the job again since Anvil should now be back online. The correct command should look like this:

```bash
module purge
module use /anvil/projects/tdm/opt/core
module load tdm
module load python/sandia
cd $SLURM_SUBMIT_DIR
python3 latitude_longitude.py
```
Replace `latitude_longitude.py` with the appropriate file path if needed."
ATS-6472,Compiled software does not run in Anvil cluster,User is unable to run LESGO on Anvil-Purdue cluster and cannot access Anvil since last evening.,"The user was advised to try running LESGO with ""mpirun"" instead of ""srun"". It is also recommended to check the compilation method used for the application and the modules loaded, as this information might be relevant in resolving the issue. The user reported that they have resolved the error by themselves after trying with ""mpirun""."
ATS-6593,module command broken on several nodes since yesterday,"Modules not found and jobs failing on specific nodes in Anvil HPC system, affecting script execution and causing charges for uncompleted jobs.","To resolve this issue, first ensure that all necessary modules are loaded on the affected nodes (a004, 007, 009, 012) before running scripts in the specified directory (/anvil/scratch/x-pnanda/ModelRuns/2024-02-27-B-gs-dendr-library). Additionally, verify that your NSF ACCESS credit hours are sufficient to run the required simulations. To load the necessary modules:
   ```
   module load <required_module1>
   module load <required_module2>
   ...
   ```

   You can check the currently loaded modules by running `module list`. If you encounter any errors or missing modules, please contact Anvil HPC support. To re-run failed jobs, you may need to modify your job submission scripts and resubmit them using the appropriate SLURM commands:
   ```
   sbatch script_name.sh
   ```

   For more information on using SLURM and managing jobs on Anvil HPC system, please refer to the [Anvil HPC User Guide](https://anvil-hpc.docs.purdue.edu/)."
ATS-6826,Purdue Anvil CPU Service Units not reflecting on my Anvil account,The user's approved HPC allocation on Purdue Anvil CPU and GPU shows a discrepancy between the reported allocation and actual usage.,"Log in to the Anvil account and check the balance with the `mybalance` command. The output should match the approved allocation for both CPU and GPU resources, as shown below:

```bash
@login01.anvil:\~ $ mybalance x-pdeshpande
Allocation Type name  Limit name   Usage name   Usage name   Balance
Account (account) (user) ============= ==== ========== ========== ==========
mat230078       CPU     84568.0    81708.2    81708.2     2859.8
mat230078-gpu   GPU     3122.0     2808.2     2808.2     313.8
```"
ATS-6894,amber job error,User Aashish is unable to submit an amber job due to a missing Amber module and an error about the non-existence of /bin/pmemd.cuda in the specified directory.,"To resolve this issue, Aashish should first check if the latest version of the Amber module is available on Anvil by running the command `module spider amber`. If the 'amber/20' module is not found, he may need to request its installation or use an alternative version. Next, Aashish needs to ensure that the CUDA binary for pmemd (/bin/pmemd.cuda) exists in his specified directory (/anvil/projects/x-mcb160119/aashish/DLPC\_DLPA\_OPM/opm\_popc\_model/new\_confirmation/1.replica\_1). If it's missing, he may need to reinstall or copy the correct version of pmemd (pmemd.cuda) into that directory. After resolving these issues, Aashish can submit his amber job with the updated script."
ATS-6926,Amber job run in anvil,"The user is unable to run an AMBER molecular dynamics simulation due to a ""command not found"" error for 'pmemd.cuda' and a module load issue for 'amber/20'.","To resolve this issue, the user should check if the GPU-enabled version of AMBER (amber/20) is correctly loaded using the following command:

```bash
module load amber/20
```

After loading the module, they can try to execute the 'pmemd.cuda' command again. If the issue persists, it may be necessary to verify that the GPU-enabled version of AMBER is available on the system and properly configured for use with SLURM. For more information, consult the documentation or contact support for further assistance."
ATS-6969,Nek5000 optimal compiler configuration,User is experiencing slow performance with the Nek5000 solver and seeks guidance on optimal compiler configuration for improved performance.,"To optimize performance for the Nek5000 solver, it's recommended to perform scaling tests tailored to the user's system. This is crucial because various simulating systems can behave differently even when running on the same machine. Factors affecting calculating performance include I/O speed and file system. It's also noted that different compilers may affect calculations slightly, so if optimization is desired, scaling tests with your own system are advised."
ATS-6884,Using VASP on Anvil,User is experiencing memory errors when running VASP calculations on Anvil with more than 8 nodes using OpenMPI versions prior to 4.1.2. The user suspects the issue may be due to a memory leak in ScaLAPACK calls present in the older versions of OpenMPI.,"Compile VASP5 and VASP6 with OpenMPI version 4.1.6 or later on Anvil to resolve the memory issues related to the memory leak present in OpenMPI versions 4.0.4-4.1.1. Use the modules available on Anvil for compilation of vasp\_ncl, as it has been recompiled with the new version of OpenMPI."
ATS-6968,Queue length taking much longer than usual,"The user's job is not running due to the AssocGrpCPUMinutesLimit issue on the HPC system, even after adjusting the requested CPU time.","The AssocGrpCPUMinutesLimit message indicates that the user has reached the CPU minutes limit for their allocated group on the specified partition (wholenode). To resolve this issue, the user should first cancel the current job (4650524) and then change the submit script to request a smaller number of CPUs, such as using the shared partition. This will adjust theSUs accordingly and allow the job to run. Here's an example of how to modify the job script for the shared partition:
```bash
#!/bin/sh
#SBATCH -A MCA06N030
#SBATCH -p shared
#SBATCH --ntasks=128
#SBATCH --time=6:00:00
#SBATCH --job-name jms_smaug_test
# load modules from arepo compile module restore Arepo
# copy Enzo.exe file into ParameterFile srun ./Arepo param_2_07.txt >output_run_03_15_1 2>error_run_03_15_1
```
After modifying the script, resubmit the job using `sbatch <jobscript>`. For more information on how accounting works and usage, refer to the [RCAC Anvil user guide](https://www.rcac.purdue.edu/knowledge/anvil/run/accounting)."
ATS-7021,request for interactive and dashboard time,"The user is experiencing delays in getting access to both Rstudio scRNA-seq on the dashboard and Anvil scratch, with requests being queued for extended periods of time (hours). This issue did not occur previously.","To optimize time allocation and potentially reduce queue times, consider adjusting your working schedule to off-peak hours. It's recommended to access the HPC resources during late nights or early mornings when usage is typically lower. Additionally, monitoring the dashboard for resource availability and adjusting your work accordingly can help manage queue delays."
ATS-7033,can't use any programs on anvil,"User encounters a ""404 Bad Request"" error when accessing the data mine Jupyter lab. The issue seems to be related to an oversized request header field.","To resolve this issue, the user should ensure their request headers do not exceed the server limit. This can often be achieved by reducing the size of data sent in each request or optimizing the request format to minimize header size. As a workaround, the user could consider using an alternative Jupyter Notebook environment within Anvil, if available and compatible with their specific use case. For more information on optimizing requests for better performance, please refer to this guide: [HTTP Request Optimization](https://developer.mozilla.org/en-US/docs/Web/HTTP/Optimizing_performance)"
ATS-7054,Project Directory Extension Request,Request for extension of time before project directory on Anvil cluster is wiped for allocation x-phy190025.,"Users can extend the time before their project directory is wiped by following the instructions provided in this link: [https://allocations.access-ci.org/how-to](https://allocations.access-ci.org/how-to). If users encounter any issues or have additional questions, they can submit a ticket to ACCESS Allocations at this site: [https://access-ci.atlassian.net/servicedesk/customer/portal/2](https://access-ci.atlassian.net/servicedesk/customer/portal/2)."
ATS-7060,Jobs stuck at completing state,"Several HPC jobs (4662262, 4671247, 4677890) are stuck in the ""completing"" state and cannot be terminated using `scancel`. The user also inquired about preventing this issue in the future and whether stuck jobs consume allocation balance.","To resolve the current issue, a senior computational scientist at Purdue Information Technology is taking administrative action to kill the problematic processes. The script `scancel` should typically terminate jobs but an alternative method is to SSH into the specific compute node (using `ssh xxx`), run the command `htop`, and then manually kill the processes by typing `k -> 9 -> press enter`. For future reference, stuck jobs should not consume allocation balance as the clock has been stopped."
ATS-7081,The maximum number of file limits is not enough,User has a large dataset (Imagenet) and is experiencing storage issues due to limited usage on home directory. Requests assistance in accessing the Imagenet data effectively.,"The user plans to use the lmdb format for their dataset, which is an aggregate file format often used for databases. It's suggested that they try this format first. If further assistance is required or if other issues arise, the user can reopen this ticket or submit a new one."
ATS-7133,more files,"User Wenliang has requested an increase of the maximum number of files allowed in their scratch directory from 5M to 10M and extension of the increased limit deadline from April 30th, 2024, to October 30th, 2024.","To address Wenliang's request, escalate the ticket to our storage expert for evaluation. Increase the quota of their scratch directory to 10M files and extend the deadline for this increased limit until Oct. 30th, 2024. The original limit will revert back to 1M on or after Nov. 1st, 2024. Be aware that inactive files in the user's scratch directory will be purged periodically (see https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems)."
ATS-7364, No email notifications on jobs,Not receiving email notifications for job status on Anvil HPC system.,"To resolve the issue of not receiving email notifications on job status, ensure that the `#SBATCH --mail-user` and `#SBATCH--mail-type=all` directives are included in your job submission file. After incorporating these directives, your job should send you emails about its status."
ATS-5796,Adding library libpng to Anvil,User requires libpng library (version 1.2 or later) to compile C++ code on Anvil HPC system.,"To resolve the issue, the user should update the path for libpng in their Makefile to include ""/apps/spack/anvil/apps/libpng/1.6.37-gcc-11.2.0-ndy5dug"". Additionally, the team will try to push this as a module for future use."
ATS-6656,extra running time,User Wenliang requires a longer running time limit for their HPC jobs due to extended computations in QTLtools and other analysis.,"To resolve this issue, create a Slurm QOS named `wangwl-long` with a walltime limit of 10 days. Use the command or option `{-q wangwl-long}` in job submission scripts or commands to utilize this QOS. Note that currently, the QOS can only be used in the shared partition."
ATS-7085,Job Submission Failure (QOSMaxCpuPerJobLimit),The user's job submission failed due to exceeding the maximum CPU or job size limits defined for their account and was subsequently OOM killed after changing the partition.,"To resolve the issue, modify the SLURM script by adding the `#SBATCH -p wholenode` directive when submitting jobs in the ""shared"" partition. Additionally, adjust the number of tasks per node to 64 and use the following command line arguments: `#SBATCH --nodes=2 --ntasks=128 --ntasks-per-node=64`. This should ensure successful job submission without encountering OOM killed errors."
ATS-7108,Past couple of weeks I am noticing so many compute node are down or drain,User X-TPatel is experiencing slow progress on project CIS220149 due to a high number of offline nodes on Anvil HPC system.,"The user can check the current status of their jobs using the command `squeue -u x-tpatel`. If there are pending jobs, they might be affected by the offline compute nodes. To submit new jobs on Anvil, refer to the following documentation for job submission guidelines: [Anvil Job Submission Guide](https://www.example.com/anvil_job_submission). Additionally, the user may want to consider submitting their jobs during non-peak hours when more compute nodes might be available."
ATS-7264,Anvil - Job stuck in CG state and cannot be killed,"Job with ID ""4750969"" running under user ""x-jcappola"" is stuck in a CG state due to the user deleting files before ensuring the job was completely finished and removed from the queue, affecting node ""a249"".","To resolve this issue, it appears that the job has cleared itself from the queue without any intervention."
ATS-6861,Running a job,"- Job IDs 4565454 and 4565455 terminated before completion without leaving error messages
   - Two new jobs (JOB ID: 4575835 and 4575833) submitted in Anvil are still pending","- For job terminations (IDs 4565454 and 4565455), the Senior Computational Scientist has confirmed there were no error messages, but a failed status due to GPU queue being busy. The jobs consumed about 10.5 SUs each, and it is recommended to receive a refund for these failed jobs if the user confirms they were using the same workflows for all jobs. - For pending jobs (IDs 4575835 and 4575833), there has been no indication of an issue, but the long wait is likely due to the GPU queue being busy. To check current partition status while submitting a job, use the command ""{{showpartitions}}"". If you have any questions or concerns about this, feel free to re-open this ticket within 7 days."
ATS-6866,Job not running in anvil,Jobs not running in Anvil GPU despite sufficient allocation balance.,"The Senior Computational Scientist at Purdue Information Technology indicated that there is no issue with the allocation balance for the user's account at the moment. However, they were unable to determine why the jobs are not running without the job IDs. To help troubleshoot the issue, share the job IDs of the affected jobs so the support team can investigate further."
ATS-7140,Unable to submit jobs,"The user submitted an HPC job script to the Wholenode partition using 'sbatch' command, but received an error message due to an invalid QOS specification.","Modify the sbatch command by adding the allocation ('-A cis240074') and submitting the job to the Shared partition instead of Wholenode partition. The updated sbatch command should look like this: 'sbatch --nodes=1 --ntasks=1 -p shared -A cis240074 jobfile'. For more information, please refer to the user guide at: <https://www.rcac.purdue.edu/knowledge/anvil/run/partitions>"
ATS-7348,Jobs not going through queue,Jobs not running due to insufficient SUs in the allocation.,"The user's submitted jobs were unable to start because they needed a total of 18432 SUs to complete, but the allocation (oce160020) had only 4914.8 SUs available. To resolve this issue, the user may need to increase their allocation or submit fewer resource-intensive jobs. Here is some additional information that might help:
- Check the current usage and limit of your account and allocation with `mybalance x-myoungs` command. - You can check the status of your pending job with the `squeue -u x-myoungs` command. - To submit a new job, you might find the Slurm documentation helpful: <https://slurm.schedmd.com/documentation.html>
- If you need to increase your allocation, please follow the instructions provided by your HPC support team or system administrator."
ATS-7436,delete client user folders,Need assistance in deleting a shared folder or changing permissions to delete it on ACCESS and Anvil HPC systems.,"To remove the entire `/anvil/projects/Workshop-users` folder, you can use the following command in your terminal:

```bash
ssh <username>@<hostname> 'rm -rf /anvil/projects/Workshop-users'
```
Replace `<username>` with your account username and `<hostname>` with the appropriate hostname (e.g., login2.access.acme.edu). Ensure you have provided the necessary permissions to execute this command, as it will recursively delete all contents within that directory."
ATS-7497,coffee hour consultations slot,Unable to log in and book RCAC coffee hour consultation slot due to login issue,"To access the RCAC coffee hour, it is required to use Purdue credentials. However, if you require a consultation meeting, consider registering for the Anvil Support Hour at this link: [Anvil Support Hour Registration](https://www.rcac.purdue.edu/anvil/anvil-support-hour) |smart-link This is designed for users of the Purdue community clusters (not including Anvil). If you are an Anvil user, this would be more suitable for your needs."
ATS-7544,running error at Anvil Purdue,User encountered an error running Pytorch codes on Anivil due to a missing file or directory for the Conda module in Lmod.,"The user should reload the Conda module by executing the following command in the terminal:

```bash
module load anaconda/2024.02-py311
```

After loading the module, the user can attempt to run their Pytorch codes again. If the error persists, it may be necessary to confirm that the Conda environment with Pytorch is activated using the following command:

```bash
conda activate py311
```

Replace ""py311"" with the appropriate Conda environment name if different. The user should also verify that the Python executable (python) is present in their system's PATH and ensure there are no typos or incorrect paths in their script. If the issue still cannot be resolved, it may be helpful to consult the relevant documentation for Anvil, Lmod, Spack, Conda, and Pytorch. [Documentation links would be added here if available]"
ATS-7545,Issue loading a module,Loading Anaconda on Anvil fails due to a missing file error in the conda script.,"To resolve this issue, it is recommended to manually install or reinstall the Anaconda module using Spack. Here's how you can do that:

   First, open a new terminal and source the Spack environment:

   ```
   module purge
   module load spack
   source $(which spack activate)
   ```

   Next, reinstall the Anaconda module with the correct version (in this case, 2024.02):

   ```
   spack install -f anaconda@2024.02-py311
   ```

   After installation, load the updated Anaconda module:

   ```
   module load anaconda/2024.02-py311
   ```

   The issue should now be resolved, and you should be able to use Anaconda on Anvil without encountering the mentioned error. If you continue to experience issues, please let us know so we can assist further."
ATS-7554,Error when loading modules,Error in loading the 'anaconda' module due to a missing file or directory (conda.sh) and potential file number limit exceeded on the account.,"Attempt to load the 'anaconda' module again by executing the following command:

```bash
module load anaconda/2024.02-py311
```

If the error persists, ensure that the necessary file (conda.sh) is present in the specified path (/apps/spack/anvil/external/apps/conda/2024.02/etc/profile.d/). If not, contact your system administrator to verify if there is any issue with the conda installation or configuration. Additionally, make sure your account does not exceed the file number limit. Delete unnecessary files and monitor their usage to prevent future occurrences of this error. For more information about managing files on the HPC system, consult the system documentation: [HPC File Management Guide](URL_to_the_documentation)"
ATS-7556,Open Fabrics Error when running NEK5000,"User is experiencing performance issues with Nek5000 code on the Anvil Cluster, including OpenFabrics warnings and slow simulation speeds.","To resolve the performance degradation and potential data corruption due to the ""UCX is unable to handle VM\_UNMAP event"" warning, add ""--mca opal_common_ucx_opal_mem_hooks 1"" to the mpirun/oshrun command line. Additionally, it's recommended to run benchmarking/scaling tests for the user's model on Anvil to determine the optimal number of cores for efficient performance. The scaling test should involve running a few iterations (e.g., 4-5) with different numbers of cores (16, 32, 64, 128, 256) and recording the time used for each calculation to calculate efficiency and choose an appropriate number of cores for the system. Here's a modified jobscript incorporating the recommended changes:

```bash
#!/bin/bash -l
#SBATCH --nodes=16
#SBATCH --ntasks-per-node=128
#SBATCH --time=24:00:00
#SBATCH --export=NONE
#SBATCH [--mail-user=]
#SBATCH --mail-type=ALL
#SBATCH -e error_file_%j.e
#SBATCH -o logfilei
#SBATCH -A PHY240099
#SBATCH -p wholenode
module purge
module load intel/19.1.3.304
module load openmpi
module load cmake
srun --mca opal_common_ucx_opal_mem_hooks 1 -n $SLURM_NTASKS ./nek5000 > logfile 2>&1
```"
ATS-2385,Kubernetes pods fail to start,Init container for Kubernetes pod on Anvil fails to start due to a persistent volume access mode issue.,"The issue appears to be related to multiple pods trying to access the same persistent volume with ReadWriteOnce (RWO) access mode, which does not work well in this scenario. To resolve the issue, try restarting your toolsession pods after changing the persistent volumes' access mode to ReadWriteMany (RWX). However, it seems that you cannot change the accessMode of existing PVCs directly. Instead, recreate the affected PersistentVolumeClaims (PVCs) and reload the data to apply the necessary changes."
ATS-1865,PURDUE-Anvil can't resolve host name fermifactory02.fnal.gov,The user's HPC job submissions at PURDUE-Anvil were failing due to a DNS resolution issue with the remote batch submission host fermifactory02.fnal.gov.,"After investigation by the networking department, the outgoing connections from Anvil have been stabilized and the user is seeing improved results with glidein jobs running correctly on Anvil again."
ATS-3540,Purdue Data Mine Storage Request,Request for additional 5 TB for Data Mine allocation.,"To request an additional 5 TB for Data Mine allocation, submit a Supplement following the instructions at [https://allocations.access-ci.org/manage-allocations-overview#supplements]. Once you have ACCESS Credits, submit an Exchange Request to exchange your ACCESS Credits for time on resources by reading the guidelines at [https://allocations.access-ci.org/manage-allocations-overview#exchanges-and-transfers]. If you have any questions or need further assistance, please visit this site ([https://access-ci.atlassian.net/servicedesk/customer/portal/2](https://access-ci.atlassian.net/servicedesk/customer/portal/2)) and submit a ticket."
ATS-4316,Anvil Kubernetes - Any way to get same storage volume on multiple namespaces?,"User wants to share a storage volume between two Kubernetes deployments in different namespaces (geoedf and geoedf-jupyter). They currently have a PVC (geoedf-staging) in the geoedf namespace, which they would like to make available across both namespaces.","The user can implement an NFS server pod that attaches the PVC (geoedf-staging) and makes it accessible from multiple namespaces. Here's a high-level outline of the steps to achieve this:
   - Deploy an NFS server in one of the namespaces, e.g., geoedf-jupyter. You can use an existing Helm chart or create your own with the necessary configuration for an NFS server. Ensure the PVC (geoedf-staging) is attached to this pod. - After deploying the NFS server, users in both namespaces should be able to connect to that NFS server using their respective client applications (e.g., Jupyter notebook or web portal). To do so, use an NFS mount command within your Kubernetes pods:

```bash
mount -t nfs <nfs_server_ip>:/<nfs_share> /path/to/local/mountpoint
```"
ATS-6022,cpu-per-task,"Job CPUs are not staying at the requested 20 after starting, instead increasing to 40 or 80.","The issue is due to the size of the memory request within the job on Anvil compute nodes. Each node has 128 cores and 256 GB of memory, with memory and cores allocated proportionally. After a minute, if less than 2 GB of memory per core is being used, more cores are allocated to prevent others from using the remaining cores due to insufficient memory. To avoid additional charges for unused cores, adjust the memory request in your job to slightly above your memory needs to allocate the appropriate number of cores."
ATS-6769,Anvil Kubernetes -- network traffic between pods timing out,The user is experiencing communication issues between their JupyterHub container in the geoedf namespace on Anvil composable and other containers running on Anvil via DNS names. Connection attempts time out but the user can access other internet locations.,"To resolve this issue, the network policies need to be disabled for allowing communication from singleuser pods to other k8s pods in the same namespace. This can be done by setting `enabled` to `false` in the `networkPolicy` section of the user's `values.yaml`. Example:

```yaml
networkPolicy:
  enabled: false
```"
ATS-7555,My issue for submitting new job,The user is encountering an error when submitting a job on the cluster using MFiX software with Anaconda module. The error message indicates that some files and commands are not found.,"To resolve this issue, the user can try switching to the older version of Anaconda (2021.05-py38) by loading it directly using the following command:

   ```
   module load anaconda/2021.05-py38
   ```

   After loading the older Anaconda version, the user may encounter a new error related to the MFiX environment not being found. To list all discoverable environments, use the following command:

   ```
   conda info --envs
   ```

   If necessary, create or activate the desired MFiX environment and make sure that `./configure` and `build_mfixsolver` are accessible in the user's path. For more detailed assistance, it may be beneficial to discuss this issue over a virtual meeting through Purdue University's Anvil Support Hour: [Anvil Support Hour](https://www.rcac.purdue.edu/anvil/anvil-support-hour)"
ATS-7716,Lost nohup process in Anvil,"Python script using 'nohup' is running indefinitely on login05, continuously submitting jobs and cannot be found or terminated using standard commands like 'ps aux' and 'kill'.","To locate and shut down the process associated with the Python script `converge_ecut.py`, follow these steps:
   - Find the hostname of the specific node where you ran the script by logging into any Anvil login node and running the command `hostname`. Take note of this hostname as it will be used in the subsequent commands. - Once you have the hostname, connect to the specific node using SSH (for example, if your hostname is `login05`, use the command `ssh username@login05`). - On the target node, locate the process by using the following command: `ps aux | grep 'username' | grep 'converge_ecut.py'`. Replace 'username' with your actual username. This command will return all processes running on that node with your username and involving the specified Python script. - Once you have identified the PID (Process ID) of the process, terminate it using the command `kill <PID>`, replacing `<PID>` with the appropriate Process ID. This should shut down the unwanted process, preventing further job submissions to the debug queue."
ATS-7759,Long wait time in Anvil job allocation,Job Allocation Stuck in Queue on Anvil (Job ID: 4872662),"The issue is due to the job's requested usage exceeding the available account resources, as indicated by the ""AssocGrpCPUMinutesLimit"" reason in Slurm reports. To resolve this, the user needs to check their account balance using the `{{mybalance}}` command. If the account balance is insufficient for the requested job duration, they should consider reducing the job duration or increasing the account's allocation by contacting the HPC support team."
ATS-7782,VASP License,Requests verification of VASP license from Materials Design Inc and assistance in compiling VASP on Anvil.,"To verify the VASP license status, have the NSF administrator reach out to <Chelsea Kemmerrer, M.S., P.E., mailto:> at Materials Design Inc. For compiling VASP on Anvil, refer to the user guide provided by Purdue University at https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp."
ATS-4334,random segfault error,Segfault error occurring in QE jobs launched on Anvil using self-compiled version with intel MPI compilers,"The user encountered a segfault error while using their own compiled version of QE with Intel MPI compilers on Anvil. The resolution was to switch from impi (Intel MPI) to openmpi for the MPI compilation. The modules needed for this change were `emacs`, `intel`, `openmpi`, `intel-mkl`, `hdf5`, and `fftw/3.3.8`. The user also had to ensure that they are using the OpenMPI library when compiling QE, as shown in the MPI library used to compile QE: `qe/qe-7.2/build/CMakeCache.txt:CMAKE_C_COMPILER:STRING=/apps/spack/anvil/apps/openmpi/4.0.6-intel-19.0.5-gg3uqqz/bin/mpicc`. The user's submission script can be found at `/home/x-sgelin/scratch/research/data/photoelectrochemistry/microkinetics/name/Strain0/new_configs_ontop/RuO2-110-0-13679`."
ATS-5938,Anvil: trouble starting job on queue,Job cancellations on Anvil HPC for user x-aadhikari when using more than 6 nodes on wide and wholenode partitions.,"To resolve the issue, share the slurm_mpirun_script used by the user (x-aadhikari) and a job output file from a successful job submission with 6 nodes. The support team will investigate the potential error in the script causing jobs to requeue when using more than 6 nodes on wide or wholenode partitions. If the issue persists, consider reopening the ticket or submitting a new one for further assistance."
ATS-6449,Running a job,"The user is experiencing issues running a NAMD simulation in Anvil using the provided submission script, and they believe incorporating mpirun might enhance performance.","Incorporate mpirun for NAMD simulations in the Anvil submission script by modifying the executable line as follows:

```bash
module load ""${NAMD_MODULE}""
mpirun --mca btl_openib_allow_ib true -np 8 namd3 +devices 0 complex_solv_ion-PROD-0.conf > complex_solv_ion-PROD-0.out
```

It is important to note that using mpirun in this manner will set the number of processes (np) to 8, which might impact the performance of your simulation. For optimal results, it would be best to experiment with various process numbers and find the ideal configuration for your specific use case. Additionally, the NAMD you are using on Anvil is for single node only. If you wish to discuss optimizing your calculations workflows or code performance, I would recommend contacting MATCH program at https://support.access-ci.org/match/overview."
ATS-6895,How to request for extra memory storage?,User requested an increase in their ANVIL scratch folder quota for 90 days due to large data sets and optimized workflow.,"- The default policy is that files older than 60 days on the Scratch folder will be purged, but if the file is used every day or frequently, it will remain. Anvil is not designed for long-term storage, but computing, and users have HOME (25GB), project (5TB), and scratch (100TB) for storage and computing purposes respectively. - The storage team recommended optimizing the workflow to avoid storing large datasets in one place, as extending the scratch quota is not a permanent solution. They also suggested being aware of the file number limit (1000k) on Scratch. The current request for a 200TB increase in scratch quota for 90 days has been acknowledged and will be forwarded to the storage team. However, it's essential to note that there is a limit of 1000k files on Scratch due to performance considerations."
ATS-7152,Increase file number limitation,"User Eeshan needs an increase in the file number limit and scratch storage space on Anvil HPC for running multi-year, multi-domain WRF-Chem simulations as a part of his PhD research.","The user's files quota has been extended to 20M and he now also has 200T blocks quota available. This increase will last until the end of the calendar year, after which it will be reset back to 1M. Users are advised to monitor their usage accordingly."
ATS-7653,File Count Limit lower than Storage Available,File limit per user on Anvil resource is hindering efficient upload of datasets due to counting of small files towards file limit.,"To alleviate this issue, it is recommended to use scratch directories for storing working files and transfer results to a long-term storage space. This could help avoid the file count limit issue while maintaining performance and flexibility in data management. Additionally, sharing more details about the datasets (e.g., their size, duration of usage, users involved, programs run, and data management strategies) would allow for further optimization recommendations."
ATS-7824,Can't access SU units,User is unable to see SUs they recently exchanged from ACCESS credits in their Purdue Anvil server account.,"To resolve this issue, follow these steps:
   - Log into the Purdue Anvil service with your credentials. - Run the command `modules avail SU` to list available Software Units (SUs). - If the newly exchanged SUs are not listed, try running the command `module refresh` to update the module database. - If the issue persists, contact the Purdue Anvil support team for further assistance. For more information, refer to the [Purdue Anvil documentation](https://www.rcac.purdue.edu/documentation/anvil)."
ATS-7841,The anvil cluster on the Anvil Composable Subsystem is down,The Anvil Composable cluster on RKE is in an error state due to a failed health check with the API server.,"To resolve this issue, it is recommended to perform a Kubernetes (K8s) node restart or reinstallation. Here are the steps to perform a node restart:

   - Identify the problematic node from the cluster using the command `kubectl get nodes`. - Once identified, use the following command to drain the node of its pods and mark it as unschedulable:

     ```
     kubectl drain <node-name> --delete-local-data --ignore-daemonsets
     ```

   - After draining, you can safely stop the node. - Once the node is back online, rejoin it to the cluster using the command:

     ```
     sudo rke up <node-name>
     ```

   - Lastly, use the following command to check if the node is back in the cluster and ready to schedule pods:

     ```
     kubectl get nodes
     ```

   If the issue persists after trying these steps, consider performing a K8s node reinstallation. For more detailed instructions on this process, please refer to the official Rancher Kubernetes Engine (RKE) documentation here: https://rancher.com/docs/kubernetes/en/latest/cli/"
ATS-7848,Purdue Anvil server job not starting / node selection,Job ID 4935922 submitted on the Purdue Anvil server did not start in the queue for more than 12 hours due to insufficient SUs on the user's allocation.,"To get your job started, you need to ensure there are enough Stateful Units (SUs) on your allocation. You can check the current SUs on your allocation by running the following command: @login01.anvil:~ $ squeue -u ele240005
Your job requested 128*7=896 SUs, which is higher than the current available SUs on your allocation (317.6 SUs). You might need to adjust the number of nodes or the wall time for your job to accommodate the available resources. For more information about the basics of Anvil and how to choose a partition, please refer to the Anvil 101 training: https://www.rcac.purdue.edu/training/anvil101 The default partition on Anvil is shared."
ATS-7494,Jobs aborted because of node failure,Two jobs (4834601 and 4835996) aborted due to NODE\_FAIL. Inquiry about charges for hours used during the aborted state.,The user will be charged for the SU usage of the jobs but will receive a refund of 23278.69 SUs to their account. The jobs are ready and should complete within hours.
ATS-1663,Grant TDM staff ability to scancel TDM student jobs,"Proposal to grant sudo access to members of x-tdm-admin group to run a script called ""tdmscancel"" for cancelling Anvil jobs submitted by cis220051 account.","Create a bash script named ""tdmscancel"" with the following content:

```bash
#!/bin/bash
IFS=$' \t'
TDMACCOUNT=cis220051
for job in $*
do
  # Strip all characters but 0-9
  jobnum=$(echo $job | tr -d -c "":digit:]"")
  if ! -z ""$jobnum"" ; then
    # Is this a valid job number submitted using the $TDMACCOUNT account? if [ $(/usr/bin/squeue -A $TDMACCOUNT --job $jobnum 2>/dev/null : /usr/bin/wc -l) -gt 1 ]
    then
      echo ""Canceling $jobnum""
      /usr/bin/scancel $jobnum
    else
      echo ""Skipping invalid job $jobnum""
    fi
  fi
done
```

Make the script executable with `chmod +x tdmscancel`. Users can run this script to cancel jobs submitted by the cis220051 account. The script sanitizes input and confirms that the jobs given are actually using the specified account before cancelling them."
ATS-4384,R Package Installations,"The user is encountering errors during R package installation, specifically for 'clusterProfiler', due to missing dependencies and a configuration error related to the fontconfig freetype2 library.","To resolve this issue, the user should install the necessary fontconfig development packages according to their operating system. For Ubuntu or Debian, use `sudo apt-get install libfontconfig1-dev`. If this option is not available, follow these steps:
   1. Open a terminal. 2. Load the fontconfig module with the command `module load fontconfig`. 3. Try to reinstall the required R packages through the terminal (not inside of RStudio). It's recommended to install packages via the terminal for better performance and handling dependencies."
ATS-7292,out of disk space during simulations ,User is experiencing simulation crashes due to out-of-disk space problems specifically related to file number limit.,"To resolve this issue, the user can use the command `myquota x-otumuklu` to check their actual storage quota and usage on the scratch anvil location. The user is likely running into an out of file number issue as there are two limits for their project folder: a file size limit and a file number limit. To address this, the user should monitor their file count within their project folders located at `/anvil/projects/x-phy240018` and `/anvil/scratch/x-otumuklu`. It is also important to note that there are no limitations on file size or file number for the home directory (`home x-otumuklu`)."
ATS-7333,sreport shows large usage by x-skannur,"The `sreport` command is reporting incorrect usage hours for a specific user (x-skannur), while the `sacct` command shows no job activity, and the reported usage dates back to prior months.","The issue appears to be related to a bug in the `sreport` command as it seems not to be collecting the correct data from SLURM. It is recommended to refer to results from the `sacct` command instead, which should accurately report job activity and resource usage. However, please note that at present, `sacct` does not provide an easy path to separate CPU time and GPU time like `sreport` does with the `--tres` flag. The support team will investigate this issue further and suggest updates or adjustments to reporting scripts as necessary. In the meantime, it may be helpful to keep an eye on future updates regarding user tools for easy resource usage tracking."
ATS-7420,Job scheduling,User Saerom (x-stsr) notices increasing expected job starting time on Anvil machine.,"The ""expected job starting time"" on SLURM is an estimation based on current resource availability and may be influenced by various factors such as termination of current running jobs, hardware failure, etc. It appears the user's job has been completed, indicating it should have run without issues."
ATS-7895,Issue with job submission system,Scheduler issue causing job submission failures on Anvil HPC cluster.,"To check the status of nodes, use command `sinfo`. The issue was caused by some nodes being marked as 'batch node selected' or having 'kill task failed'. The engineering team at Purdue Information Technology has resolved the scheduler issue."
ATS-7904,"Most nodes in drain state in Anvil shared partition, can't get back-end node",There has been an issue with job scheduling on Anvil shared partition causing 160 nodes to be stuck in the drain state all morning. Only 18 nodes were allocated while others were down or draining.,"The engineering team at Purdue Information Technology is actively working to resolve the issue, and it should be much better now. To confirm if the problem has been resolved, users can try running their jobs on Anvil. If needed, more information can be found by using SLURM operations like ""showpartitions""."
ATS-7963,User not found (Purdue Anvil),User (x-tyokokura) unable to login to Purdue Anvil due to user not found error.,"The issue appears to be that the account has not been fully set up yet on the ondemand.anvil platform. The user should try logging into the Anvil Open OnDemand gateway again (https://ondemand.anvil.rcac.purdue.edu/pun/name/dashboard) to see if the problem persists. If errors still occur, it is recommended to contact HPC Support for further assistance."
ATS-7965,Trouble login into Purdue Anvil,Unable to log into Purdue Anvil system with access ID x-yge due to an error related to the Unix group associated with the project PHY240119,"To resolve this issue, perform the following steps:
   - Log in to the Anvil Open OnDemand gateway again by navigating to its webpage. - If you still encounter errors, try running the command `nginx\\_stage --help` to see a full list of available command line options as suggested in the error message. However, if the issue is resolved, this step is not necessary."
ATS-7986,Cannot log in to allocated node even though there is a job running on that very node!,"The user is unable to SSH into node a198 on the HPC cluster Anvil at Purdue University due to an ""Access denied by pam_slurm_adopt"" error, and the job they were running was abruptly dropped. Additionally, their HOME directory is close to its storage limit.","- To resolve the SSH issue, it seems that the user does not have any active jobs on node a198. To access the node again, submit a new job on the same or another available node using the SLURM batch system. For instance, you can use the following command to submit a job:

```
sbatch your_script.sh
```
   - Where `your_script.sh` is the script containing your workload. - To avoid the ""disc exceeding"" error due to the almost full HOME directory, the user should clear up some space in their HOME by deleting unnecessary files or transferring data to another storage location like scratch. If necessary, check the quotas and limits for both home and scratch spaces using the following command:

```
quota -u <username>
```"
ATS-7794,Request for the install of library package,User requires installation of glib-2.0 (glib-devel) package,"Install the latest version of glib-2.0 (glib-devel) as a sudo privilege by running the following command:
```bash
sudo yum install glib-devel
```
Alternatively, if the system uses another package manager, replace `yum` with the appropriate package manager (e.g., `apt`, `dpkg`, or `brew`). If installation as a module is preferred, consult the documentation for your specific HPC system on how to do so. For further assistance, please visit the Anvil documentation at https://anvil-hpc.com/documentation."
ATS-7922,Control job restarting behavior ,"User x-ccanchilamar is experiencing constant restarts of GPU jobs on Purdue ANVIL supercomputer for job id 4935887, and they are having difficulty keeping track of their code progress and credit consumption due to these job restarts.","The user can disable the 'requeue' behavior for the specific job by adding the option `{{#SBATCH --no-requeue}}` into the job submission file. This will prevent the job from being requeued in case of any issues. The user can check the details of their jobs using the command `sacct -XD --format=jobid,account,partition,state,submit,end,elapsed,elapsedraw,timelimit,state,nodelist%20 -j 4935887`."
ATS-8031,Anvil job in the queue for days,Job submitted on Anvil HPC system has not started due to insufficient Superunit (SU) balance for the requested allocation.,"To resolve this issue, either reduce the maximum walltime or reduce the number of nodes for the job submission. Alternatively, use the 'shared' partition where the number of cores can be used within the balance limit. For example, if 48x6=288 cores were requested initially, using 288 cores in the 'shared' partition should finish within the available balance limit. For more details on Anvil partitions and job run, refer to this guide: https://www.rcac.purdue.edu/knowledge/anvil/run/partitions. For further understanding of Anvil and its usage, please visit: https://www.rcac.purdue.edu/knowledge/anvil/run/."
ATS-8061,Execute Shell command hangs ,"Issues with Anvil resource, Execute shell on devnanohub exechost, and ssh connection to multiple hosts (128.211.162.15, 128.211.162.11)","- First, verify if the issue is with the composable name as suggested by Application Engineer for Scientific Computing. If necessary, update the composable name accordingly. - Since issues with the cluster were resolved earlier, check if these resolutions have addressed the current problem(s). - To facilitate communication during the workshop, consider using email or Teams for direct messages instead of the ticketing system if it provides a better response. - If the issue with Harbor persists, contact name directly for further assistance."
ATS-8119,Need to install cairo.h for instaling splash,"User is unable to install Cairo.h on Anvil HPC system, despite having used other HPCs where it was included by default.","To install the Cairo library and header files (Cairo.h) on Anvil HPC, follow the instructions below:

   a. Open a terminal session. b. Update your package list by running `module purge` followed by `module load Anaconda3`. c. Activate the conda environment with the required dependencies using the command: `conda activate <your-environment>` (replace ""<your-environment>"" with the name of your desired Conda environment). d. Create a new conda environment specifically for Cairo by running `conda create -n cairo cairo`. This will install the latest stable version of Cairo and its dependencies. e. To access the newly created environment, activate it using the command: `conda activate cairo`. f. Verify that Cairo is installed correctly by checking for the presence of the Cairo header files using the command: `ldd <path-to-cairo-binary> | grep libcairo`. Replace ""<path-to-cairo-binary>"" with the path to your desired Cairo binary file. g. If you encounter any issues during this process or need further assistance, please reopen this ticket and provide more details about the error messages you're experiencing. Additional Information: For comprehensive documentation on Cairo and its usage, visit https://cairographics.org/documentation/."
ATS-1638,Method to allow Data Mine staff to correct groups/permissions in /anvil/project/tdm/corporate,"Request for a solution that allows Data Mine Staff to correct file permissions and groups safely, securely, and without requiring root/sudo access within /anvil/projects/tdm/corporate.","Propose running the attached script (with ""echo"" commands removed) via cron as root, once every 15 minutes. The script checks for a specific file's existence and corrects the permissions in that subdirectory if the file is present. Ensure the directory in the script's `.fixperms` is only inside `/anvil/projects/tdm/corporate`. Discuss plans with RCAC staff to implement a similar fix permissions feature on their website, like the one for data depot."
ATS-1811,Jobs on Anvil machine failing due to the Node Fail,"Jobs on Anvil machine are failing due to ""Node Fail"" and getting requeued, causing data overwriting. The user requests to change this behavior so that failed jobs are not requeued.","To prevent the default behavior of SLURM from requeuing jobs with an un-earned stop (due to node failures or downtime), the user can add `#SBATCH --no-requeue` to their job script explicitly disabling this behavior. This will cause failed jobs not to be requeued and prevent data overwriting."
ATS-8106,Don't have access to Anvil cluster ,"User cannot access Anvil cluster after account creation and is unable to log in due to ""can't find user"" error.","To resolve the issue, it appears that the user's information might not have been properly set up on the Anvil cluster. You should run the following command to confirm your username and check if it has been added correctly:

```
nginx\_stage --help | grep -i user
```
If your username is not listed, please contact the system administrator for assistance in setting up your account on the Anvil cluster. For more information about using the Anvil cluster, you can refer to the official documentation: [Anvil Cluster User Guide](https://example.com/anvil-cluster-user-guide)."
ATS-8200,Require VASP access on Purdue Anvil,User is unable to load VASP module or see the vasp5 Unix group after being added to it on Purdue Anvil.,"To resolve this issue, it's recommended to check your shell environment by using the following command: `source /etc/profile`. After that, try running the `id $USER` command again to verify if you are part of the vasp5 Unix group. If you still encounter problems loading the VASP module, consider reloading the modules by executing `module unload all && module load vasp/5.4`. Make sure your VASP license (5-2357) is up to date before running the VASP code."
ATS-8248,Anvil Permissions Update,Request to update file ownership from x-dgi804 to x-dgc in /anvil/projects/tdm for The Data Mine allocation,"To update the file ownership in the specified directory (/anvil/projects/tdm), use the `chown` command with the new user name 'x-dgc'. This process may take some time due to the large number of files involved. Here is an example of how to change the ownership for a single file:

```bash
chown x-dgc /anvil/projects/tdm/filename
```

If you prefer to perform this action recursively on all files and subdirectories within '/anvil/projects/tdm', use the '-R' flag:

```bash
chown -R x-dgc /anvil/projects/tdm
```"
ATS-8249,Request for increasing file limit quota on Anvil,The user requires an increase in the file quota on their storage location (/anvil/scratch/x-sajal105) due to a large number of open files generated by their MPI simulations.,The user's request for increasing the file number quota on /anvil/scratch/x-sajal105 to 2M until the end of 2024 has been granted. This can be verified using the command `myquota x-sajal105`. The new quota will facilitate the concurrent execution of simulations and enhance the user's project efficiency.
ATS-7205,can not find wannier90 lib file ,User cannot find wannier90 lib file when compiling vasp+wannier90 on Anvil and is requesting a make.inc file to compile wannier90 independently.,"To resolve this issue, provide the user with the appropriate make.inc file for compiling wannier90. Here's an example of where they can obtain it from:

   - Download the latest make.inc file from the Spack repository (https://github.com/spack/spack-recipes/tree/master/cuda/wannier90). Save it as `~/.spack/compilers/gcc/11.2.0/wannier90/make.inc`. - Once the make.inc file is in place, they can compile wannier90 by running the following command on Anvil:
     ```bash
     spack install wannier90@3.1.0 --force-reinstall
     ```

   After a successful installation, the user should be able to find the wannier90 lib file in the expected location (`/apps/spack/anvil/external/vasp/wannier90/3.1.0`)."
ATS-7905,Archival storage,User needs an increase in their Anvil project storage from 5TB to 40TB due to large unstructured data sets required for a global climate simulation and neural network training. The data is needed for a period of about a year.,Our storage experts have increased the user's project quota limit to 40TB until the end of their current allocation (approximately 2025-03-18). The user should check if there are any other questions and contact us if needed.
ATS-7930,VTST Tools installation in VASP,User needs help with compiling VTST Tools for solid state CI-NEB calculations in VASP6 source code on Anvil.,"To compile vtst with vasp6, modify the main.F file according to guidance on the vtst website. After modifying the file, follow our user guide to build VASP on Anvil (<https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp/build_your_own_vasp_6>)."
ATS-8065,MPFR library 4.2.1 on Purdue-Anvil,Unable to install a specific application (name not provided) on Anvil due to missing MPFR library version requirement.,"The user can attempt to download and install the latest version of MPFR (4.2.1) from https://www.mpfr.org/mpfr-current/ by themselves in their own space and use it with the application. However, please note that since this is an open source software, a central upgrade may not be possible unless requested by many users."
ATS-8363,File number quota on Anvil,"User needs to increase their file number limit on Anvil due to current batch of simulations writing a large number of files and running into the 100,000 file count limit quickly.","The user's file quota has been increased from 1,000,000 to 5,000,000 files."
ATS-7390,Different behavior on debug and wholenode queues,Job crashes when submitted to the wholenode queue in CFD code run on Anvil HPC system,"- Investigate the difference between nodes assigned to the debug and wholenode queues, as the only change made was adjusting the queue name in the job submission script. - Share the outputs from the successful run on the debug queue and the jobid for both jobs (wholenode: 4802739, debug: 4802734). The scientist suggests trying with a single node on the wholenode queue by modifying the sbatch script:
  - Replace `#SBATCH -N <number_of_nodes>` with only `#SBATCH -N 1` (without specifying the number of tasks)
- If the code was built using OpenMPI, run it using the `srun -n` command. If it was built using Intel IMPI, also include the `--mpi=pmi2` option: `srun --mpi=pmi2 -n 256 ./mycode`. - Re-compile the workflow on Anvil if it was compiled on other platforms (gcc+openmpi is recommended)."
ATS-7896,Awaiting account setup on Purdue Anvil,User unable to login to Purdue Anvil cluster via Open OnDemand due to non-existence of their username on the cluster.,The user has confirmed that they have OnDemand files under their home directory and are currently experiencing no issues. It was mentioned that account propagation can take several days.
ATS-7945,Job submission,"The user's Amber job submissions in the cluster have been automatically cancelled, requeued, and are experiencing issues.","The issue is most likely due to errors during simulations. To prevent jobs from being re-submitted while meeting with errors, the user should append `#SBATCH --no-requeue` into their job submission. If the user experiences further issues or hardware/system problems, they can check the jobs for refund of the consumed SUs. The user should specify the exact jobs when requesting SU refunds. The specific details about the cancelled jobs are as follows:

   - Slurm Job_id=5041019 (fitting\_15)
     - Began, Queued time: 00:27:29, 5th Sunday 9:38 Am
     - Failed, Run time: 19:51:19, NODE_FAIL, ExitCode 0, 6th Monday 5:29 Am
     - Requeued, Run time: 19:51:19, 6th Monday 5:32 Am
     - Began, Queued time: 00:02:54, 6th Monday 5:43 Am
   - Slurm Job_id=5040966 (new\_co\_tens15)
     - Began, Queued time: 00:22:34, 5th Sunday 8:54 Am
     - Failed, Run time: 20:34:43, NODE_FAIL, ExitCode 0, 6th Monday 5:29 Am
     - Requeued, Run time: 19:51:19, 6th Monday 5:32 Am
     - Requeued, Run time: 00:10:43, 6th Monday 5:43 Am"
ATS-8352,Extremely slow parallel jobs,"User's LAMMPS job runs extremely slowly in parallel on Anvil compared to serial, and they suspect it might be due to incorrect modules or job script settings. The user also mentions an unrelated issue with gcc/11.2.0 and a library not being found.","To investigate the issue, the user was asked to share the IDs of the affected jobs for analysis. A specific job (5261176\_0) was provided as an example. It was also suggested that the user consider registering for an Anvil Support Hour for a more in-depth discussion. The user was offered help from a scientist in Computational Chemistry and was informed about the Zoom link for the support hour. The user was asked to join the meeting if available, or to wait for another session if unavailable."
ATS-7948,"Though following the guide to use Purdue Anvil, but cannot login to the on demand page. ",User is unable to log into Anvil Open OnDemand due to account propagation issues.,The user was advised that their account was not propagated to the Anvil system and the support staff re-added them. They were informed to allow another day or two for the system propagation. No specific technical details were provided in this response.
ATS-8496,ANVIL compiling OpenACC version of VASP & Coffee hour consultation ,"User requires assistance in compiling OpenACC version of VASP for GPU node on HPC system, specifically seeking environment and compiler options.","To compile OpenACC version of VASP for GPU nodes on the HPC system, use the NVIDIA HPC SDK (nvhpc) for compilation. At the moment, the current nvhpc module (nvhpc/21.7) does not work because it lacks the mpi library. The user can either wait for the deployment of the new nvhpc/23.3 module on the HPC system or install the nvhpc with MPI on their own project space. For the installation, follow these steps:
- Load the NVIDIA HPC SDK (nvhpc) module by running this command in your terminal: `module load nvhpc/23.3`
- Install the necessary MPI library for your system (e.g., Intel MPI or OpenMPI) in your project space. Regarding the makefile, you can set up tags in makefile.include for GPU VASP installation by using:
```makefile
%if (${ARCH} == 'gpu')
  OPENACC = -acc
  CC = pgc++
  CFLAGS = ${CC} ${CFLAGS} -fopenmp -fopenacc
  F77 = pgfortran
  FFLAGS = ${F77} ${FFLAGS} -fopenmp -fopenacc
  LDSHARED = pgc++
#endif
```

Replace `'gpu'` with the appropriate architecture identifier in your makefile if needed. For more information, please refer to the provided link (<https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp/build_your_own_vasp_6>) for building your own VASP on Anvil."
ATS-8497,"""myquota"" command on Purdue Anvil has stopped working","The ""myquota"" command on Anvil is returning a syntax error for user x-jbamber. This error is caused by issues with line 37 and 38 of the user's .bashrc file.","To resolve this issue, user x-jbamber should comment out lines 37 and 38 in their .bashrc file which are causing bash line editing issues:

   Before:
   ```
   bind '""\eA"": history-search-backward'
   bind '""\e[B"": history-search-forward'
   ```

   After:
   ```
   #bind '""\eA"": history-search-backward'
   #bind '""\e[B"": history-search-forward'
   ```

After making this change, user x-jbamber should be able to run the ""myquota"" command without encountering a syntax error. Additionally, the ticket has been modified to ensure that users' startup files won't interfere with the output of the myquota command in the future."
ATS-8525,Can Anvil and Geddes share the same PVC storage space?,User inquiry about accessing Anvil persistent volume storage from applications running on Geddes and sharing those persistent volumes across systems.,"Currently, Geddes and Anvil each have their own Ceph and Persistent Volume Claims (PVCs) cannot be accessed between resources. A new central Ceph resource is being deployed that will be available across both systems, but it is not integrated yet. The team plans to integrate this central Ceph resource in the future."
ATS-7887,What are the best ways to expand a persistent volume in Anvil?,"User is facing an issue with expanding persistent volumes in the Kubernetes cluster and wants to find a solution that supports quick turnaround, minimizes downtime, and allows for user quota settings. They are also encountering a ""Permission denied"" error when trying to apply a size quota using setfattr command on a user's home directory.","- To expand persistent volumes quickly and minimize downtime, the user can consider resizing the Persistent Volume using anvil-block storage. This would require changing the storage class of the affected volumes to anvil-block, which supports volume expansion. However, development and testing might be needed for dynamically attaching different volumes to pods based on directory requirements. - Regarding the ""Permission denied"" error when applying a size quota with setfattr command, it is recommended to review the CephFS client authentication configuration as outlined in this documentation: <https://docs.ceph.com/en/latest/cephfs/client-auth/> and <https://docs.ceph.com/en/latest/cephfs/client-auth/>|smart-link. This error might not be related to root user's permissions exactly, but more related to CephFS authentication. The user should investigate further to confirm the issue's cause."
ATS-8051,Issues running jobs,"User is facing issues running PLUMED/LAMMPS jobs, particularly multiple-walker metadynamics on Anvil HPC system.","To resolve this issue, first ensure that you have the necessary permissions and access to run jobs on the Anvil system. If you are already granted an 8-day wholenode QOS, continue with your PLUMED/LAMMPS job submission as usual. Additional Information: For more information on using LAMMPS on Anvil, please consult the following documentation: [Anvil LAMMPS documentation](https://anvil.purdue.edu/documentation/#lammps) and [PLUMED user guide](http://plumed-project.org/documentation/)."
ATS-8304,Need to increase the storage limit of number of files,User requires an increase in the maximum number of files they can store on their HPC system due to a limit of 1000k files that is preventing them from utilizing the full potential of their newly allocated 100TB storage.,"To resolve this issue, register for an Anvil Support Hour session (https://www.rcac.purdue.edu/anvil/anvil-support-hour) to discuss the file limit increase request. Additionally, during simulations, generating many small files (~10MB each) will quickly reach the current file limit on their scratch space. To avoid this problem, it is suggested to archive these small files into one tarball or zip file to reduce the number of files. During post-analysis, when untarring these archives, consider using the /tmp or /dev/shm folders for temporary storage (please note that these folders are cleaned daily). To read the files without untarring, it may be beneficial to consult with a data scientist regarding the use of tools such as nektar++ (https://www.nektar.info/) for analysis."
ATS-8805,"unable to submit any batch job, invalid value for --ntasks",User unable to submit a job on Anvil due to an invalid numeric value error in sbatch command caused by an extra space after --ntasks=.,"Modify the script as follows:
```bash
#!/bin/sh -l
#SBATCH --account=cis220065
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --partition=standard
#SBATCH --time=24:00:00
#SBATCH --mem=40GB
module load geos
```
Then, submit it with `sbatch gen_gdd.sub`, which should resolve the problem."
ATS-8305,"I am unable to launch tool session Pods in the Anvil Kubernets cluster, it keeps saying ""FailedToCreatePodSandbox"" in the event logs",Error creating tool session pod due to missing docker directories in /tmp.,"The issue was caused by a cleanup script that was wiping some docker directories on the batch nodes (converted to k8s nodes). To resolve this, the script has been modified to exclude /tmp/docker. It's recommended to use /tmp/docker instead of /var/lib/docker as /tmp is the only mounted filesystem on the node. The OS and associated directories just run in a rootfs memory filesystem."
ATS-8407,Issue executing vasp_std,"User is unable to run VASP jobs due to the program not finding the executable vasp\_std, despite having permissions for VASP5.4.4.","The issue was resolved by fixing some permission issues with the vasp\_std executable. The user should now be able to use it for their calculations. If any further questions or issues arise within 7 days, replying to this ticket will re-open it."
ATS-8456,Quota on Anvil all zero?,The user is unable to write files due to a file limit of zero in their directory on the HPC allocation.,"To resolve the issue, check which directory the user was using for the jobs and run the command `myquota` to see the current disk usage. After identifying the directory with the problem, increase the file limit by editing the appropriate line in the `/etc/profile` or `~/.bashrc` file for the user account. The command for increasing the soft limit (S) and hard limit (H) can be written as:

```bash
ulimit -S -n <new_soft_limit>
ulimit -H -n <new_hard_limit>
```

Replace `<new_soft_limit>` and `<new_hard_limit>` with appropriate values according to the user's requirements. For example, if a soft limit of 10,000 and hard limit of 25,000 are needed, use:

```bash
ulimit -S -n 10000
ulimit -H -n 25000
```

After setting the new limits, source the user's profile file with the following command:

```bash
source ~/.bashrc
```

Now, the user should be able to write files again without encountering the file limit error."
ATS-7809,Anvil FORTRAN compile namelist issue,"User is experiencing issues with Fortran compiler while running an MPI program on Anvil, specifically regarding the namelist command in Fortran when using OpenMPI module with gcc/11.2.0.","Temporarily resolve this issue by using the Fortran compiler provided with the OpenMPI installation instead of gcc/11.2.0. To do so, modify your script to include the following command before compiling and running your MPI program:

```bash
module unload gcc/11.2.0
module load openmpi/<version> fortran
```

Replace `<version>` with the appropriate OpenMPI version you are using. This change should help resolve the issues with the namelist command in your Fortran program."
ATS-8581,VASP access on Anvil,Request for access to VASP 5.4 on Anvil,"The user has been added to the vasp5 group on Anvil. Their membership will be ready within a few hours. For information on running VASP calculations on Anvil, please refer to this user guide: [link](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp). Additionally, the example files for using VASP on Anvil can be found here: [link](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link)"
ATS-8621,Unable to submit jobs requiring more than 1 node,"User is unable to submit a job requesting more than one node on the shared partition of Anvil HPC system, receiving an error message regarding QOS limits.","To access more nodes on the Anvil HPC system, users can switch from the shared partition to either the wholenode or wide partitions. The job submission command should include the {{-p }} flag followed by the desired partition (e.g., {{-p wide}}). Users can find more information about the different partitions on Anvil at this link: https://www.rcac.purdue.edu/knowledge/anvil/run/partitions"
ATS-3570,Missing GLIBCXX_3.4.21 and CXXABI_1.3.9 in libstdc++.so.6 in the latest intel module,"The user's project requires PETSc version 3.12.4 or later, but it seems that the required libraries GLIBCXX\_3.4.21 and CXXABI\_1.3.9 are not present in the latest intel module on Anvil. The user experiences segfault errors when trying to link against the libstdc++.so.6 from a different location, and alternative PETSc versions fail to configure properly.","To resolve this issue, the user can try switching to using the GCC compiler or installing the Intel oneAPI compilers on their project space as a non-root user. If they must use the Intel compilers, download and install the latest version (19.1.3.304) from the Intel website, available at <https://software.intel.com/content/www/us/en/develop/tools/oneapi>. Instructions for non-root installation may be found in the provided guide or by contacting Purdue IT for assistance."
ATS-4627,Problems compiling with Intel libraries on Anvil,"User Eoghan encountered an issue while compiling Quantum Espresso and another software using the Intel libraries on Anvil, as the jobs fail when requesting more than 32 cores on a node.","The user should modify the compile line to replace ""-DCMAKE\_C\_COMPILER=mpicc"" with ""mpiicc"". This is applicable when using Intel compiler+impi. Also, ensure that the version of Quantum Espresso used for compilation interfaces better with the other software in question. If this modification resolves the issue, the user should be able to compile successfully and run jobs requiring multiple entire nodes for calculations without erroring out."
ATS-8530,software question,User requires OpenFOAM version 11 on ACCESS sites (Anvil or Darwin) for viscoelastic flow calculations.,"The software installation policy at Anvil only supports high-demand software, and the most widely used version of OpenFOAM they currently support is 8-20210316. As an alternative, the user can attempt to install OpenFOAM themselves in their home directory or within their allocated project space. If successful, a Singularity container could be beneficial for using the preferred version of OpenFOAM. RCAC provides a tutorial on containers (<https://www.rcac.purdue.edu/training/containers101>) which may assist with this process. Pre-built OpenFOAM Docker images are also available on Docker Hub (<https://hub.docker.com/search?q=openfoam>), and these can be converted to Singularity containers using the steps outlined in the tutorial."
ATS-8551,Borked Virtual Env because of file source package dependency 'fs' and 'httpuv',"The user is experiencing dependency issues while trying to install 'fs' and 'httpuv' packages in R (v 4.3.2) using conda, specifically in an environment called R5. This error occurred after the dependencies for 'Seurat' package stopped working, and the user was unable to load it with the library(Seurat) command. The user suspects a conflict with GNU compiler version might be causing this issue.","To resolve this issue, first, ensure you have the required packages installed on your system. In this case, the user needs to install elfutils and libelf along with binutils. Unfortunately, the provided commands ({sudo pacman -U http://archlinux.arkena.net/archive/packages/e/elfutils/elfutils-0.174-1-x86\_64.pkg.tar.xz <http://archlinux.arkena.net/archive/packages/e/elfutils/elfutils-0.174-1-x86_64.pkg.tar.xz>  http://archlinux.arkena.net/archive/packages/l/libelf/libelf-0.174-1-x86\_64.pkg.tar.xz <http://archlinux.arkena.net/archive/packages/l/libelf/libelf-0.174-1-x86_64.pkg.tar.xz>  sudo pacman -U http://archlinux.arkena.net/archive/packages/b/binutils/binutils-2.30-5-x86\_64.pkg.tar.xz <http://archlinux.arkena.net/archive/packages/b/binutils/binutils-2.30-5-x86_64.pkg.tar.xz>) are only applicable for Arch Linux and might not work on your system. Instead, you can try to update the required packages within your conda environment using the following commands:

   - Activate your R (v 4.3.2) environment (R5)
   ```
   conda activate R5
   ```
   - Update elfutils and libelf packages
   ```
   conda update elfutils libelf
   ```
   - Reinstall binutils package
   ```
   conda install --force-reinstall binutils
   ```
   After updating the required packages, try reinstalling the 'fs' and 'httpuv' packages using the initial commands provided by the user:
   ```
   R CMD INSTALL fs
   R CMD INSTALL httpuv
   ```
   Once these steps are completed, you should be able to load the Seurat package in your environment without encountering errors."
ATS-8614,Glib-2.0 Library problem,User is unable to locate glib-2.0 include directory and was seeking an updated version.,"The user can resolve the issue by loading the {{glib/2.68.3}} module using the following command: `module load glib/2.68.3`. This will provide access to the required libraries for their research. If they encounter any issues, they should reply to this ticket with the details for further assistance."
ATS-8685,Node drain ,GPU partition has several drained nodes and users with excessive pending jobs leading to significant delays in running single jobs.,"The reported issue has been resolved by bringing back online all the drained GPU nodes. The current configuration for the GPU partition (called Quality of Service, QOS) is as follows:

```bash
$ sacctmgr show qos part-gpu format=Name%,GrpSubmit,MaxTRES%20,MaxTRESPerNode%20,MaxWall,MaxTRESPU,MaxJobsPU,MaxSubmitPU,MaxTRESPA,MinTRES
part-gpu 2-00:00:00 gres/gpu=12 gres/gpu=32 gres/gpu=1
```
In this configuration, the max GPUs one user can use is 12, and the maximum GPUs that one allocation can use in total is 32. This configuration aims to prevent users from running GPU jobs beyond those limits. The support team is discussing potential solutions for longer waiting times on GPU partitions. It's suggested that the root cause might be insufficient GPU node quantity, with plans to expand current GPU capacity later. Stay tuned for updates and reach out if further concerns arise."
ATS-8710,Job Charging,User estimates usage of more CPU hours than expected on Anvil cluster at Purdue University and wants to confirm if the job was run correctly.,"To verify the CPU hours used for a specific job, use the provided script `jobsu` on the Anvil cluster. Replace ""jobID"" with the appropriate job ID of the user's job in question. Run this command on Anvil to get the SUs (Service Units) this job has been charged:

   ```
   jobsu jobID
   ```

   The output will display the Service Units used by the specified job. If there are further questions, feel free to ask."
ATS-9223,Problem with Anvil filesystem,"The user is unable to change directories (cd) into any of Anvil's directories (scratch, etc.), and receives a ""stale file handle"" error even when attempting to cd into the root directory of Anvil (/anvil).",Engineers at Purdue University have identified an issue with Anvil storage that occurred around 2am EST today. The underlying problem has been isolated and fixed first thing this morning. Users experiencing this issue are encouraged to verify if the problem persists.
ATS-8714,Using licenced software,"User is encountering an error while running VASP on Anvil HPC, and seeks guidance on how to install Gaussian 16, GaussView, and compile VASP with Wannier90 and VASPsol.","- To utilize the VASP5 module on Anvil, the user needs to be added to the vasp5 unix group. - Currently, there is no Gaussian or GaussView installed on Anvil due to licensing restrictions. The user can install these tools in their own project space and use them on Anvil. - To compile VASP with vaspsol and wannier90, the user should follow the instructions provided on the vaspsol page for installation. Adding the PATH of wannier90 to the makefile.include is also necessary during compilation. - To be added to the vasp5 unix group, provide your email address associated with the VASP license, not someone else's. Your supervisor should add you to the VASP license using your email address."
ATS-8769,Access to Purdue FORTRESS?,User with an ACCESS allocation on Anvil seeks access to the FORTRESS tape library at Purdue for long-term storage of large simulation data (20+ TB).,"It is possible to grant access to the FORTRESS tape library by setting up a Globus share, which will allow the user and their group to store the desired amount of data (minimum 20 TB) for long-term use while enabling follow-on analysis and comparison with later simulations. The HPC support team can send an invite for access once they have confirmed if it is intended for the user or their entire group."
ATS-8778,Code does not running in wide queue,"Simulation code does not produce expected output when running on the 'wide' queue, while it runs successfully on the 'wholenode' queue.",Investigate and verify if there are any configuration differences between the 'wholenode' and 'wide' queues that may be affecting the simulation behavior. Check for any necessary module loading or settings that might need to be applied specifically when using the 'wide' queue. Monitor job ID {{5495310}} for error messages in the log files to further identify potential issues.
ATS-8798,Looking for Your Help to Run on Anvil,User unable to access Anvil through SSH keys and requires guidance for submitting LAMMPS jobs. The user also needs clarification about working directories and shared storage spaces.,"- To set up the SSH key for Anvil, remove all contents of /home/x-abdlmwla/.ssh/. * and then copy and paste your public key into /home/x-abdlmwla/.ssh/authorized_keys. This should solve the issue with password authentication. For more information, refer to the user guide: https://www.rcac.purdue.edu/knowledge/anvil/access/login/sshkeys

- The user has access to three directories:
	+ /home/x-abdlmwla with 25GB of space. Try using this space for setting up your environment, etc. Ensure this directory has some space; otherwise, you'll have problems connecting to OnDemand. + /anvil/projects/x-mss190008 with 5TB of data. This space is shared with group members. + /anvil/scratch/x-abdlmwla with 100TB of space. Remember our purge policy: files older than 30 days will be purged. Use this as temporary space for up to 30 days. For more information, visit https://www.rcac.purdue.edu/index.php/knowledge/anvil/storage/filesystems

- For submitting LAMMPS jobs, please visit our user guide at https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/lammps/lammps_job_submit_script. Try the sample script and modify it as needed."
ATS-8807,Interactive Rstudio issues- libproj.so.15: cannot open shared object file,"The user is unable to use the 'terra', 'raster' and 'sf' packages in R for geospatial data analysis on Anvil due to a missing 'libproj.so.15' library and issues with the Rstudio interface.","To resolve this issue, the user should load the necessary modules in the terminal before opening RStudio:
   - Open the Desktop Interactive session and run the following commands:
     ```
     $ module load gcc
     $ module load gdal
     $ module load proj
     $ module load r
     $ module load rstudio
     ```
   - After loading the modules, open RStudio and attempt to install the 'sf', 'raster', and 'terra' packages. - If the dependencies 'udunits2' and 'sqlite3' are required, load these modules first:
     ```
     $ module load udunits/2.2.28
     $ module load sqlite/3.35.5
     ```"
ATS-8810,unable to install packages in R,User is unable to install 'sf' package in R on Anvil due to a version conflict with 'units' package.,"To resolve this issue, load the necessary modules and then attempt to install the 'sf' package again. The following modules should be loaded: `module load gcc`, `module load r`, `module load gdal`, `module load proj`, and `module load udunits/2.2.28`. After loading these modules, the user should be able to install the 'sf' package in R without encountering the version conflict error."
ATS-8851,Adding VASP license to my account,"User is unable to compile VASP.5.4.4 with Wannier90 and experiences slow job execution without it, along with out of memory errors during the run.","- Add the '--mpi=pmi2' argument to the 'srun' command to see if it resolves a NUMA error mentioned in the discussion. - Membership to the vasp5 unix group on Anvil has been added and will be ready within 4 hours. If the user cannot load the vasp.5.4.4.pl2 module tomorrow, they should let the support team know."
ATS-13144,Need access to VASP on Anvil,User needs assistance with using VASP on the Anvil server and has provided a license number (22-0315).,"To use VASP on the Anvil server, first ensure that you have your license key (e.g., 22-0315) ready. Log into the Anvil server via SSH and navigate to your home directory or the desired working directory. Load the necessary modules using L Modules:

```bash
module load vasp
```

Now, you can run VASP with your license key by executing the following command (replace `your_key` with your actual license key):

```bash
vasp.x -i in.vasp -x out
```

Replace `in.vasp` and `out` with the input file name and output directory, respectively. For more information about running VASP on Anvil server, refer to the [VASP documentation](https://cms.mpcdf.org/pdfdocs/VASP/Manuals/MANUAL-5420/manual_5420.pdf) and Purdue IT's HPC guide (https://it.purdue.edu/hpc)."
ATS-9083,Am I allowed to install PLUMED on Anvil by myself,User (Komal) wanted to install PLUMED on Anvil HPC system and needed clarification if it was allowed and how to proceed.,"The user should be able to install PLUMED in their space. Before installation, they are required to load the GCC module using the command `$ module load gcc`. The instructions for installation can be found at this link: [PLUMED Installation Guide](https://www.plumed.org/doc-v2.9/user-doc/html/_installation.html)."
ATS-9177,Cannot sbatch job array,User Jiaao cannot submit an array job due to a queue size limit on Slurm.,"To resolve the issue, check the current job submission limit for all users in the Slurm system by reviewing the system settings. If necessary, adjust the number of jobs that can be submitted at once to accommodate more jobs. However, given the current resources and number of users, it is recommended to adjust the array size in the job submission script to fit within the queue size limit. The user should then resubmit their array job."
ATS-9184,"Shared partition on Anvil has most nodes in ""comp"" state, SLURM requests take a LONG time","Nodes in shared partition stuck in 'comp' state, causing SLURM job submission delays.","- Free up nodes that were stuck in the comp state. - Investigate and resolve issues with the /anvil filesystem that might have caused jobs to get stuck in the completing state. - Monitor x-btyukodi's jobs to ensure they do not cause similar problems in the future by limiting concurrent job count (now 48 instead of previous 3000). For submitting SLURM requests, you may use the following command:
```
salloc -p shared --nodes=1 -t hours -N my_node
```
Replace `hours` with the desired time limit in hours and `my_node` with your specific job name."
ATS-9208,Can not submit jobs,"Jobs submission failure on Anvil due to temporary Slurm inability to accept jobs and long waiting times caused by nodes stuck in the ""completing"" state and issues with the /anvil filesystem.","The issue was resolved by our engineers who worked with the vendor to fix the issues with the Anvil filesystem, rebooted the affected nodes, and implemented monitoring tools to keep track of Slurm status on the clusters for early identification and resolution of similar issues in the future. To submit jobs again, please try using sbatch command and let us know if you encounter any errors or long wait times."
ATS-9217,Unable to run interactive job on Anvil,User is unable to run an interactive job on ANVIL using sinteractive command due to a read error -1 Connection reset by peer and possibly due to an issue with the connection between login node and compute node while trying to use gdb debugger in interactive mode.,"The user should try running the interactive job again on ANVL after verifying if there are still issues with Anvil's storage system. If the error persists, they can attempt the following steps:
   - First, unload any modules using the command `module purge`. In this case, the user specifically mentioned that the module xalt/2.10.45 was not unloaded, so they should use the command `module --force purge xalt/2.10.45` to forcibly unload it. - Next, try running the sinteractive job again with the necessary options and parameters: `sinteractive -N1 -n32 -A ear170001`. - If the issue still persists, they can consult the Anvil documentation for troubleshooting tips or contact their local support team for further assistance."
ATS-9222,Receiving Stale file handle when trying to access /anvil,"User is unable to change directory into `/anvil/scratch` due to a stale file handle error. The issue occurred around 2am EST today and was resolved by engineers in the morning, but the user still encounters the problem.","To resolve this issue, try reconnecting to the nodes `\_g005.anvil.rcac.purdue.edu` and `\_g008.anvil.rcac.purdue.edu`, and then attempt to change directory into `/anvil/scratch`. If you still encounter the same error, it is recommended to contact the support team for further assistance. There was an issue with Anvil storage in the early morning (~2am EST today), but engineers were able to isolate and fix the underlying problem. However, it's possible that the user may need to refresh their session or restart their application to reflect the changes made by the engineers."
ATS-9226,error: stale file handle,"User encountered a stale file handle error when using Anvil and is unable to execute commands like cd or ls. The user suspects that the issue may be related to recent model compilation attempts on Anvil, and is concerned about potential data loss due to lack of backups.","To resolve the stale file handle error, it's recommended to run the command `rm -rf .Slurm_XXX` in the user's current directory (replace ""XXX"" with the job ID of the last failed Slurm job). If the user is unsure about the job ID, they can find it by running `ls -ltrh | grep slock` to list all lock files sorted by time and looking for the most recent one. After running the above command, the user should be able to execute commands like cd or ls again. However, since the user is concerned about data loss due to unsaved results, it's essential to regularly backup the data stored on Anvil. Users can use tools like rsync, scp, or Globus to transfer files between their local system and Anvil for backup purposes. Here's a brief example using `scp`:

```
scp -r username@anvil-login.example.com:/path/to/local/backup /path/to/remote/backup
```"
ATS-9234,Anvil Storage,User inquired about storage allocation upon obtaining an Anvil allocation to determine if it is a suitable replacement for the expiring Rockfish resource.,"To find details about the Anvil file system, access the following link: [https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems](http://example.com) The allocated storage for personal home directory is 25GB, personal scratch is 100TB, and project space is 5TB upon obtaining an Anvil allocation."
ATS-9244,Inquiry on Job ID 6722243,Job with ID 6722243 terminated due to system issue on Anvil file system.,"Re-run the simulation on Anvil file system. If the problem persists, contact support for further assistance. The job was completed without an issue in the subsequent attempt. In terms of chargeback for the interrupted job, it depends on the policy in place for such cases. Check with your account manager or the allocation administration team for any refunds related to this incident."
ATS-16671,VASP Access Request,User requires access to VASP 6 on Anvil HPC cluster.,"The user's VASP license has been validated, and they have been added to the vasp5 and vasp6 groups on Anvil. Their membership will be ready within a few hours. The user is advised to check our user guide for VASP calculations on Anvil at this link: [https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp). Additionally, they can find more examples and information on running VASP calculations on Anvil at this link: [https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp%7Csmart-link)."
ATS-9028,VASP intel compiled error,"User is experiencing an error during VASP simulation using Intel MPI library, which is resolved by recompiling VASP with updated versions of Intel, OpenMPI, and Intel-MKL libraries.","To resolve the issue, recompile VASP using updated Intel (19.1.3.304), OpenMPI (2019.9.304), and Intel-MKL (2020.4.304) libraries and load them for the job execution. The user can follow these steps to recompile VASP:

   a. Uninstall existing versions of Intel, OpenMPI, and Intel-MKL using appropriate package managers or binary installers. b. Install updated versions of Intel, OpenMPI, and Intel-MKL from their respective download pages (e.g., https://software.intel.com/content/www/us/en/develop/tools/oneapi/compilers.html)

   c. Compile VASP with the updated libraries using appropriate commands for your system (e.g., `mpicxx -O3 -openmp -I$MKL_INC_DIR -DHAVE_MKL_BLAS -DMKL_BLAS_ILP64 -DSCALAPACK_USE_BLAS=1 -o myvasp myvasp.f90`). d. Submit the compiled VASP to the HPC system for job execution."
ATS-9072,"Anvil Kubernets - Access pod via hostname, not IP?",Need to configure a deployment or pod in Rancher system on Anvil Composable to be reachable via hostname instead of IP address by other pods in the same namespace.,"To achieve this, you should create a ClusterIP service and map the required port(s) for access from the Pod. Once done, you can connect to the Pod using the ClusterIP name instead of the IP address. Here's an example of how to define a ClusterIP service in YAML:

```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-db
spec:
  selector: app=my-db
  type: ClusterIP
  ports:
    - name: postgresql
      port: 5432
      targetPort: 5432
```

Apply this configuration using the `kubectl apply -f my-db.yaml` command. Replace `my-db.yaml` with the actual file path to your YAML file containing the service definition. You can then access the Pod from other pods in the same namespace using the ClusterIP name, e.g., `psql -h my-db`."
ATS-9232,Anvil Batch job error,The user Nikhil is experiencing an issue with a batch script not executing on the Anvil cluster.,"To resolve this issue, contact our engineer for further investigation. In the meantime, Nikhil should verify that he has access to PHY24006 account by checking his account balance using the `mybalance` command:

```bash
@login01.anvil:~ $ mybalance x-nbisht1
```

If access is still not granted, consult the support team for assistance. Ensure that you have the correct account and allocation (PHY24006) in this command."
ATS-9255,run job error,The user's HPC job submission failed due to an unavailable requested node configuration and incorrect module loading in the script.,"Modify the user's job script as follows:

```bash
#/bin/sh
#SBATCH -N1
#SBATCH --ntasks-per-node=100
#SBATCH --cpus-per-task=1
#SBATCH --mem-per-cpu=1896
#SBATCH --time=20:00:00
#SBATCH --job-name=politicalcycle_mpi
#SBATCH --error=/anvil/scratch/x-zfeng2/political/job.%J.err
#SBATCH --output=/anvil/scratch/x-feng2/political/job.%J.out
module load gcc/11.2.0 openmpi/4.0.6
mpirun /anvil/scratch/x-zfeng2/political/debt_ext_21 cgget -r memory.usage_in_bytes /slurm/uid/_${UID}/job_${SLURM\_JOBID}/ cgget -r memory.max_usage_in_bytes /slurm/uid/_${UID}/job_${SLURM\_JOBID}/ mem_report
```

It is also recommended to choose the number of nodes as 1 to ensure all CPUs are allocated on one node. For more detailed information about a specific ""gcc"" or ""openmpi"" package, use the module's full name with the command `module spider <package_name>`. For example:

```bash
$ module spider gcc/11.2.0
$ module spider openmpi/4.1.6
```"
ATS-9259,Node fail error,The user is experiencing NODE\_FAIL errors in their simulations while previous jobs with identical settings did not encounter any issues.,"After investigating the issue, it appears that the reported NODE\_FAIL errors were not occurring within the submitted jobs. The provided job information shows that both jobs completed successfully. It is recommended to resubmit the jobs again and verify if the error persists in a reproducible manner. If the error occurs again, please share additional details such as job submission scripts, input files, or any relevant configuration settings for further analysis."
ATS-9324,VASP license request for Purdue Anvil,"A PI from UC name needs to be added to the VASP 6.3 license on Purdue Anvil for users elee2, jspencer, and sto.","The user has been successfully added to the vasp5 and vasp6 Unix groups on Anvil. They should now have access to the vasp modules. For guidance on running VASP jobs on Anvil, please refer to the following documentation: https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp"
ATS-9422,Enable VASP license permission to run on Anvil HPC,ACCESS/ANVIL account for PhD student Cappola at Arizona State University requires access to run VASP on ANVIL due to a purchased license from ASU.,The user has been added to both vasp5 and vasp6 groups on Anvil. The membership should be ready within a few hours. Please refer to the user guide for VASP calculations on Anvil available at this link: [https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp)
ATS-9342,VASP License,User request for access and loading instructions for VASP on ANVIL cluster,"To gain access to the vasp modules on Anvil, follow the instructions provided in the guide: <https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp> This should help you load the vasp modules on your account. If you have any further questions or issues, please feel free to reopen this ticket."
ATS-9516,How to know priority queue status,User wants to know about the priority queue status and behavior of their jobs staying pending on the GPU partition (Anvil HPC system) using SLURM job scheduler. They are experiencing delays in job execution after encountering an issue with initializing CUDA driver.,"The delay in job execution observed by the user is due to the busy nature of the GPU queue on Anvil, which has a total of 64 GPUs shared among thousands of users. Although small jobs usually start quicker than large ones, job scheduling depends on the parameters from SLURM setup and availability of GPUs. SLURM has its own resource allocation method. The user is advised to stay updated about an upcoming project that aims to inform Anvil users about the estimated waiting time for their jobs after submission, which will be announced on Anvil News in the near future."
ATS-9517,Home directory quota,User is unable to download Conda packages due to insufficient storage on their Anvil home directory.,"Run the command `ncdu $HOME` to determine that the directories ""~/.cache/"", ""~/.conda/pkgs/"", and ""~/.local/lib/python3.8/"" are taking up significant space. Delete files in these directories safely, particularly those within ""~/.cache/"", ""~/.conda/pkgs/"", and ""~/.local/lib/python3.8/"" if all Python packages are installed in Conda environments. If the home directory becomes too crowded, install Python packages in the group shared project directory (""/anvil/projects/x-cis230283/"") instead."
ATS-9520,Quota,"The command ""myquota"" does not work due to a complicated shell environment in user's ~/.bashrc file, causing an issue when the .bashrc gets sourced.","- Rename the existing .bashrc file with the backup extension (`.bashrc.bak`). ```sh
mv ~/.bashrc ~/.bashrc.bak
```
- Create a new simple .bashrc file. - Remove the ""echo"" command from the .bashrc file if it is causing the issue. - If necessary, move any `module load` commands and other environment variable settings to job scripts or separate scripts to be sourced later."
ATS-9212,cp2k+plumed job crashes after running for sometime,"Jobs using cp2k+plumed on ANVIL are getting canceled due to ""Cannot allocate memory"" errors, and the user's home directory has exceeded its quota limit.","- Address the disk quota issue by moving some files from the home directory (`/home/x-kyadav`) to the project directory (`/anvil/projects/x-che240097`) or setting up a working directory in the scratch filesystem (`/anvil/scratch/x-kyadav`). - For memory allocation, the user can try submitting jobs with a higher memory per CPU value. For example: `--mem-per-cpu=7500M` or `--mem-per-cpu=5000M`. - The link to the Anvil storage documentation is provided for further information: [https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems](https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems)."
ATS-9548,NAMD3 on Purdue Anvil GPU,"User on Purdue Anvil (x-mjarcari) cannot find the module to load NAMD3.0, and is unsure if the installed version has been updated to the official release.","To load the NAMD3.0 module on Purdue Anvil, use the following command in your terminal: `module load namd/version_number`, replacing `version_number` with the correct version number of NAMD3.0. You can find the correct version number by visiting the official NAMD website (<https://www.ks.uiuc.edu/Research/namd/>) or checking the Anvil system documentation. If you are unsure about the installed version on Purdue Anvil, please contact your system administrator for assistance."
ATS-9562,Disk quota exceeded ,Disk quota exceeded error occurred while saving a file in scratch directory despite not being within the home directory.,The issue was resolved by deleting excess files from the user's scratch and home directories to bring the number of files below the disk quota limit. Users should monitor their usage regularly to avoid such issues in the future.
ATS-9653,I have the license of the Vienna Ab initio Simulation Package (VASP). My license number is 24-0042. I want to add that version on Anvil.,User needs to add VASP version 6.4.3 to Anvil for use and requires updating their email address in the VASP portal as the current one is associated with a different license (vasp5).,"The user should update their email address associated with their VASP license on the VASP portal. Once this is done, the user should contact support again so that they can be added to the vasp6 unix group on Anvil. After this step, the membership will be ready within a few hours."
ATS-9306,Anvil multi core processing with batch jobs,"User is experiencing issues with a Python script utilizing multiple cores on an HPC cluster. The user has added `export OMP_NUM_THREADS=$SLURM_CPUS_PER_TASK` to the script, but only sees one core running when logging into the compute node and questioning if a Python script can utilize multiple cores, if the command used is correct, and whether logging into the node is the appropriate method to check CPU usage. The user also inquires about the difference between requesting more memory vs requesting more cores.","- Python scripts can indeed utilize multiple cores. This is typically done using the multiprocessing or concurrent.futures libraries. However, it's important to note that not all Python functions are threadsafe and parallelization might require restructuring the code for proper multithreading. - The user has taken a good step by setting `export OMP_NUM_THREADS=$SLURM_CPUS_PER_TASK`. This is indeed the correct way to allow OpenMP (a popular parallel programming API used in Python) to utilize multiple cores on an SLURM cluster. - Checking CPU usage through logging into a node might not be the best approach, as this only shows the user's own process and not system-wide information. To check overall CPU usage, tools like `top` or `htop` can be used. Alternatively, users can monitor their job performance within the SLURM dashboard. - There is a significant difference between requesting more memory vs requesting more cores. Memory is required to hold data and variables in RAM for efficient processing, while cores are processing units that run instructions simultaneously. When submitting jobs, it's essential to allocate resources based on the job requirements in terms of both memory and CPU cores. In some cases, a job may require more memory because larger datasets or data structures are being processed, even though it may still only need one core for processing these tasks efficiently."
ATS-9701,script for nwchem/7.0.2,User Minglei requires assistance in submitting a job script for running nwchem/7.0.2 on Anvil HPC system.,"To address the issue, provide the user with an example of a job submission script. The script includes necessary directives (`#SBATCH`) for specifying job name, account, nodes, tasks per node, CPUs per task, time limit, and output file. It also includes commands to purge all currently loaded modules, load required modules (gcc/11.2.0, openmpi/4.0.6, nwchem/7.0.2), and run the nwchem application using the specified number of processes (`$SLURM_NTASKS`) with mpirun. ```bash
#!/bin/sh
#SBATCH --job-name=nwchem
#SBATCH --account=dmr100029
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=16
#SBATCH --time=00:30:00
#SBATCH --output=nwchem.o%j.%N

module --force purge
module load gcc/11.2.0 openmpi/4.0.6
module load nwchem/7.0.2

mpirun -np $SLURM_NTASKS nwchem ...
```"
ATS-9885,"My longwalltime QoS does not allow jobs more than 4 days, but it should allow up to 30 days","User was unable to utilize a longwalltime QoS for running Bayesian inverse problem model parameter fitting jobs as intended, despite having requested it previously (ATS-8955). The user needed assistance in extending the job time and accessing the advertised 30-day limit.","The Senior Computational Scientist at RCAC - Purdue University has set flags for the longwalltime QoS, which should now allow the user to run jobs for up to 30 days. The user submitted a new job (7627798) and confirmed it works as intended."
ATS-9737,Purdue Anvil,Access to G16 software on Anvil HPC not listed on the ACCESS website,"To clarify, the user is having trouble accessing the G16 software on the Anvil HPC because it is not explicitly listed on the ACCESS website. However, upon further investigation, it has been confirmed that the G16 software is indeed available on the Anvil HPC. Users can find more information about using G16 on this link: [Gaussian 16 documentation](https://purduercac-applications.readthedocs.io/en/latest/Applications/gaussian16.html). For a list of available software on the RCAC website, including Gaussian16, visit: [RCAC Gaussian16 page](https://www.rcac.purdue.edu/knowledge/applications/gaussian16)."
ATS-9761,file limits,User Wenliang needed an increase in the file limit and block quota on their scratch directory due to an upcoming large analysis that would generate a huge number of files.,"Our storage expert increased the file number limit on Wenliang's scratch directory to 20M and extended the block quota increase from 100TB to 500TB. These changes will remain in effect until November 1st. The user can verify their quota using the command: `myquota x-wangwl`. To ensure the security of data, it is recommended to implement a good data management workflow, as inactive files in the scratch filesystem may be purged periodically."
ATS-9769,Submitting a job on Anvil.,User Matin Mostaan is unable to submit VASP jobs on Anvil due to a missing vasp group membership.,"To resolve this issue, add user 'Matin Mostaan' to both {{vasp5}} and {{vasp6}} unix groups on Anvil. After the membership has been updated, refer to the RCAC Purdue University Anvil User Guide about how to submit VASP jobs on Anvil (<https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp>)."
ATS-9791,Jobs submitted remain pending in the queue and do not run,User's jobs submitted on Anvil partition are stuck in 'pending' state due to insufficient SUs in the account.,"Run the command `squeue -name x-lbl59` to see the pending jobs and their associated issues. The user's jobs are pending because of `AssocGrpCPUMinutesLimit`. Each job requires 42.67 SUs (512 cores * 5 minutes / 60) to be finished, but allocation `eve230004` has only 20.7 SUs left. To resolve this issue, transfer additional ACCESS credits to SUs on Anvil to continue the work."
ATS-9813,"Delete directory ""/anvil/projects/tdm/corporate/.DELETEME""","User Doug wants to delete the directory ""/anvil/projects/tdm/corporate/.DELETEME"" on the Anvil cluster due to an annual data purge.","Run the following command to recursively remove the specified directory and all its contents from the Anvil cluster:

```bash
rm -rf /anvil/projects/tdm/corporate/.DELETEME
```"
ATS-16684,AnviGPT access request,User needs assistance accessing the Purdue RCAC GenAI studio API.,"To access the Purdue GenAI studio, use this URL: <https://genai.rcac.purdue.edu/>. You can log in using your Purdue career account login details."
ATS-9645,Loopback Port Access on HPC,The user is unable to start the WES Toil service on HPC due to a network permission error when using unprivileged users with Apptainer. They need to access a rabbitmq server on loopback port for specific benchmarks.,"Remove any `--network` options passed to `apptainer`. Docker would require a bridge network, but Apptainer is more permissive and allows direct use of the loopback interface on Anvil. Some RCAC-maintained apps are already using this approach."
ATS-9793,Can't access to Anvil cluster,"Unable to login to ANVIL using ACCESS credentials and receiving an ""Connection closed"" error when attempting ssh connection.","Check the ANVIL login again as there was an issue with the account that has since been resolved. No action is needed for adding the public key manually, as it seems that the original issue has been addressed."
ATS-9871,Anvil Cluster is down but no update,All partitions on the Anvil cluster are currently down.,"The scheduling on the Anvil cluster was paused for approximately 3 hours due to an issue. It is now expected to be back to normal operations. The user is advised to check if their jobs are running as usual. If not, they may need to resubmit their jobs. Apologies for any inconvenience caused by the lack of communication during this maintenance period."
ATS-9938,Node a037 is not responding since 10:53pm last night and job output stopped at 9:32pm,User's submitted SLURM job arrays exceeding available compute resources (SUs) at Purdue University RCAC HPC cluster.,"To run the current SLURM job array, the user needs to have a total of (12,288 SUs * 22 job arrays = ) 270,336 SUs available. The user should either request more compute resources or adjust the number of job arrays and/or tasks per array to fit within the available resources. For example, to adjust the number of tasks per array:
```bash
#SBATCH --ntasks 64
```
Or to change the number of job arrays:
```bash
#SBATCH --array 1-12
```"
ATS-10011,Extended storage time,User requests extension of storage time for their project space and scratch files (60T and 200T respectively).,"The user can extend the duration of their project space by submitting a request to their PI (Principal Investigator) or Allocation Manager. However, as per the current status, the project space has 200+ days remaining. For the scratch files located at /anvil/scratch/x-wding2, the user should consider using the Globus transfer service to save and retransfer the data when needed, as it will get purged according to the filesystem policy."
ATS-10031,Cannot log on to resource: Anvil Purdue,Error while logging into Purdue Anvil On Demand with username x-abernard,The issue was due to an improper account setup on the Anvil OnDemand gateway. The support team has resolved this and suggests the user attempts to log in again to confirm the error is no longer present.
ATS-9846,Support with rsync for anvil cluster,User cannot execute an rsync command on the Anvil Cluster due to a password prompt and is seeking assistance.,"To resolve the issue, update the rsync command with the '-e' option followed by a modified ssh command that uses the specified local ssh key file for authentication. The correct command would look like this (replace 'ssh_key_name' with the name and path to your local ssh key file):

```
rsync --progress -r -e 'ssh -i ~/.ssh/ssh_key_name' -u *:/anvil/scratch/x-aglcher/StagYY/ . ```"
ATS-9847,Anvil compiling and modules questions,User needs help compiling and running a code (StagYY) on Anvil HPC cluster due to lack of Euler access. The user is experiencing errors during module loading for PETSc installation.,"- To load the necessary modules in Anvil, run the following command:
     ```
     module purge
     module load modtree/cpu
     module load openmpi/4.1.6
     module load hdf5
     module load openblas
     module load libpng/1.6.37
     module load cmake/3.20.0
     ```
   - The user should adapt the MAKEFILE for Anvil by updating the PETSc version to 3.15.3 available on Anvil (PETSc 3.20.1 is not available). It's unclear what changes are needed in the makefile, but here's a suggested place to start:
     ```
     # CMake settings
     -DCMAKE_INSTALL_PREFIX=/usr/local -DPETSC_DIR=/usr/local
     ```
   - The user should verify that they use 'module load modtree/cpu' instead of 'module load rcac' on Anvil. - The user is advised to contact the StagYY code developer for further information regarding manual PETSc installation and whether using petsc from the cluster directly would also be okay. - The user should test if they encounter any issues with their edited makefile and reach out for assistance as needed."
ATS-9985,Cannot write or edit files on Anvil,User Seyyedfaridoddin cannot write or edit files due to their home folder being full (23.6 GB out of 25 GB).,"To resolve this issue, user Seyyedfaridoddin needs to move or delete some files in their home directory. They can check the disk usage with the 'myquota' command."
ATS-10072,My students whom I added to my project EES240013 are not able use the allocations. They appear under my project but they are not added to the groupid. Could you please give them the proper permissions.,Students added to project EES240013 are unable to use the allocations due to missing groupid permissions.,"The Senior Computational Scientist at RCAC - Purdue University has resolved the issue for users x-cnx, x-kchand1, and x-tim48 by fixing their allocation. They can now view their allocation using the 'mybalance' command output. If there are any other students who have issues and need to be added to the allocation, please reach out to the Senior Computational Scientist. Here is an example of how to check the balance for one of the users (x-tim48):

```bash
$ mybalance x-tim48
Account (account)                  (user)               ================ ===========
ees230052                           CPU                     ================ ===========
Balance                             CPU                       ================ ===========
6750000.0                                        0.0                   6750000.0
```"
ATS-10076,Issue with accessing Anvil (Purdue),"User unable to log in to Anvil GPU with usernames ""aanand3"" and ""anand211"", keeps receiving error messages as failed to map user.","The user can login to Anvil with ssh, however they are still experiencing issues logging in. Suggestions for resolution include scheduling a virtual meeting to discuss the issue or registering for one of the Anvil Support Hour sessions at https://www.rcac.purdue.edu/anvil/anvil-support-hour. The link provided offers more information on available support hours."
ATS-11663,Purdue Anvil update removes the necessary modules for Hy2Foam to run.,"The user needs the CGAL module (specifically version 6.0.1) to run Hy2Foam, as it has been removed in the latest HPC update and the research cases are now halted due to this.","The user is advised to load the openfoam module using the command `module load openfoam`. It should include the required CGAL module if it is part of the openfoam module. If loading the openfoam module does not resolve the issue, the user is encouraged to either reopen this ticket or submit a new one for further assistance."
ATS-10196,Facing an error while running a Job,Out of Memory error occurring during a simulation run on account ees240013 using MPI for a larger grid size.,"Lower the number of tasks per node or consider using the ""highmem"" queue when running the job again. Also, it is suggested to use the monitor tool to keep track of memory usage: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/monitor> <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/monitor|smart-link>."
ATS-10597,AnvilGPT Access Request,User requesting UI and API access for AnvilGPT with incorrect allocation number and unclear ticket subject,"Approve user account with username 'tmiddelk'. Update documentation on the ticket creation process to provide clear instructions for selecting appropriate boxes and specifying a subject line as ""AnvilGPT Access Request"". Provide users with the correct allocation number for their project, which appears to be ""INI200001: Startup Allocation for Cloud based workloads"". Users can find more information about this project at the provided NSF EAGER award links: [NSF EAGER Award 2436057](https://www.nsf.gov/awardsearch/showAward?AWD_ID=2436057&HistoricalAwards=false) and [NSF EAGER Award 2436057 (alternate link)](https://www.nsf.gov/awardsearch/showAward?AWD_ID=2436057&HistoricalAwards=false). Users can find more information on the AnvilGPT at [AnvilGPT Knowledge Base](https://www.rcac.purdue.edu/knowledge/anvil/anvilgpt) (smart-link)."
ATS-10276,"Can't submit jobs, when session is requested it says Invalid qos specification",User Dariia is unable to submit a job using their bio240204 and bio240204-gpu accounts due to an Invalid qos specification error when requesting a GPU session or interactive Jupyter notebook.,"To resolve this issue, Dariia should select the 'bio240204-gpu' account for a GPU session, choose the appropriate GPU queue/partition, and allocate a GPU to their job. Here is an example of how to submit a job request with these settings using Slurm:

```bash
sbatch --account=bio240204-gpu --partition=gpu_partition --gres=gpu:1 <job_script>
```

Replace `<job_script>` with the path to your job submission script. If Dariia still encounters problems, they should provide their Session ID for further investigation."
ATS-10460,Requesting VASP access to Purdue Anvil,User requires access to VASP on Purdue Anvil due to an active license but the system could not verify their email address associated with the license.,"The user needs to have Dr. [name Leuenberger] add their email address to the existing VASP license (license number 21-0457 5-498). After this step, the Senior Computational Scientist will be able to verify the new email address and grant access to the user on Purdue Anvil. This process may take a few hours."
ATS-10163,Anvil - multi threaded processes only using one thread,User's submission of an Anvil job using biocontainer hifiasm didn't make use of multiple CPUs as expected.,"The user was instructed to try a newer version of hifiasm, specifically {{hifiasm/0.19.9}}, which had been installed on Anvil. After re-running the job with the new version, the issue appears to have been resolved, as the job ran in a fraction of the original time and showed improved efficiency."
ATS-10321,Request for Increased Disk Space Allocation – Project ees240038,Request to increase disk space for project ees240038 on Purdue Anvil system and inquiry about data management policies for scratch directories.,"The request to increase the disk space for the project ""ees240038"" on the Purdue Anvil system has been granted, with a new limit of 20-25 TB. As for the data management policies for scratch directories, it appears that data in these directories may be purged. However, specific details regarding this policy were not provided. If authorization from the PI is required, the user should arrange for necessary communication with them."
ATS-10454,Purdue's Anvil-ABySS 2.3.8 installation request ,User requests installation of ABySS vs. 2.3.8 as a module to replace or complement existing versions (ABySS 2.3.2 and ABySS 2.3.4),"ABySS 2.3.8 has been made available on the Anvil login nodes, with plans to roll out to the compute nodes over the next few hours. The user is advised to check if there are any issues with the installation after this rollout."
ATS-10546,vasp- My account cannot use VASP on Anvil,User needs access to VASP on their x-scasanova account on Anvil,"The user has been verified for VASP license and added to the vasp5 and vasp6 Unix groups for accessing the vasp modules on Anvil. The command `$ groups x-scasanova` shows the updated group memberships. To recognize these changes, the user may need to start a new login session. For detailed instructions on running VASP jobs on Anvil, please refer to the following documentation: [RCAC - Anvil - Software - Installing Applications - vasp](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp) and [RCAC - Anvil - Software - Installing Applications - vasp|smart-link](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp)."
ATS-10577,Purdue's Anvil-running ABySS 2.3.4 ,Error executing ABySS script on SLURM batch system due to invalid identifier 'ABYSS-P'.,"Modify the shebang line in the submission script from `#!/bin/sh -l` to `#!/bin/bash`. If this does not resolve the issue, contact support for further troubleshooting. Additionally, when running ABySS on multiple threads, use the 'j' flag on a single node. For more information, consult this ABySS guide: [http://sjackman.ca/abyss-activity/](http://sjackman.ca/abyss-activity/)."
ATS-10623,Project resources not appearing on Anvil,Allocation on Anvil for project CIS240576 not functioning correctly with no SUs visible and error when submitting job through slurm.,"The support team has resolved the issue by resending the allocation, which should now allow the user to see their SUs in MyBalance. The updated command for checking account balance is:

   ```
   mybalance x-rdahlgren
   ```

   Now, when checking the updated output, the user should see an entry for CIS240576 with a CPU limit of 500.0 and a balance of 0.0, indicating that the allocation has been successfully resent. Additionally, the user should now be able to submit jobs through slurm without encountering errors, as long as the project name specified in the sbatch command matches the correct account (CIS240576) and partition combination. Here is the corrected sbatch command:

   ```
   sbatch ./slurm-job.sh
   ```

   The user should replace `./slurm-job.sh` with the path to their own job submission script."
ATS-9832,Trouble logging into Purdue Anvil,User is unable to log into the Purdue Anvil GPU cluster due to a failed user mapping error.,"The user should try reloading their modules using the following command: `module load <module_name>`. If the issue persists, it may be necessary to contact the cluster administrators and request them to investigate further."
ATS-10058,Regarding node failure ,Multiple Slurm jobs have failed due to node failures on the Anvil cluster.,"To resolve this issue, it is necessary to identify and address the underlying cause of the node failures. Here are the relevant job details:

- Job ID: 7663029 (alpha_40) | Run time: 00:28:16 | Node FAIL
- Job ID: 7662996 (name_fol_30) | Run time: 00:34:44 | Node FAIL
- ... (the rest of the jobs listed in the original message)

To diagnose the problem, first ensure that all nodes are operational. If there are any hardware issues with the nodes, contact the system administrator for further assistance. In some cases, node failures may be temporary and the jobs could resume on their own after a brief delay. If the jobs do not resume automatically and you have access to the failed nodes, check the logs of each job (e.g., using `ssh` to connect to the nodes) to determine the cause of failure. Look for error messages or signs of resource exhaustion that could indicate an issue with your code or inputs. If necessary, consult relevant documentation and online resources related to Slurm and your specific workload manager. If you are unable to resolve the issue on your own, please reopen this ticket and provide any additional information about the jobs, logs, or error messages that may help diagnose the problem."
ATS-10476,Not all users within ACCESS Project BIO240254 can use Purdue Anvil,"Users x-mvaraganti, x-fabir, and x-mali3 are added to the BIO240254 project but cannot see their CPU or GPU allocations using the {{mybalance}} command despite being given access to Purdue Anvil's CPU and GPU clusters. The users had previous accounts at Purdue under CIS230083, but were offboarded. They recently requested access to BIO240254's CPU and GPU clusters a week ago.","Ensure that the users' accounts are properly associated with the BIO240254 project by updating the allocation membership on the system. After updating, the users should be able to view their CPU and GPU allocations using the {{mybalance}} command. To update the allocation membership, follow these steps:
   - Navigate to the account management interface (e.g., `https://accounts.rc.purdue.edu`)
   - Find the user accounts (x-mvaraganti, x-fabir, and x-mali3) associated with CIS230083
   - Update their project membership to include BIO240254
   - Save the changes
   - After the account update is processed, users should be able to see their allocations by running {{mybalance}}."
ATS-10586,Purdue's Anvil-running Masurca,"The user is unable to submit a Masurca job on Purdue's Anvil HPC system due to an error message (""environment: `build\_human\_reference.sh': not a valid identifier""). The issue persists even after attempting to run the command on the front end and changing the top line of the script from `sh` to `bash`.","Instruct the user to modify the top line of their Masurca job script to use `bash` instead of `sh`. For example, the line should read `#!/bin/bash` instead of `#!/bin/sh`. This change may resolve the error and allow the user to successfully submit a Masurca job on Purdue's Anvil HPC system."
ATS-10619,Require Anvil Composable allocated to the project,User Kireet requires Anvil Composable allocation for their project but cannot find it in the allocation list and is unable to access the project using the provided link due to CILogin with Purdue SSO.,"To resolve this issue, follow these steps:
   - Set a password and enable two-factor authentication for your access account. You can do this when you log in with your existing identity. - After setting the ACCESS password, log in to Anvil Composable using the provided link: https://composable.anvil.rcac.purdue.edu/
   - Once logged in, you should now see the ""SOC240028"" project in your Rancher project list."
ATS-11704,AnvilGPT Access Request,Request for Access to AnvilGPT for I-GUIDE platform LLM integration project,"The user has been granted access to both the UI and API for AnvilGPT. The user is now able to start exploring the service, and can reach out if they have any questions or require further assistance."
ATS-10657,Job submission,"User's submitted job on Anvil cluster is pending, causing long wait times.","The resolution to this issue was provided by the user themselves in their last response: ""Now is working."" To resolve similar issues in the future, it may be helpful for users to provide their job ID when initially submitting a ticket or as soon as possible thereafter."
ATS-10663,Urgent need for high memory nodes,Researcher Brendan requires access to the highmem partition of Anvil (4 nodes) with a duration of three weeks for running large fluid dynamics simulations under allocation PHY230172.,"- To set up the requested allocation, update the qos (quality of service) as follows when submitting jobs with PHY230172:
     ```
     {{#SBATCH -q wide-highmem}}
     ```
   - The reservation will end on Oct 8, 2024. - The researcher needs 8 nodes at a time. If the current rules for wide-highmem (up to 16 nodes and 2 days) are sufficient for his jobs, keep those rules. Otherwise, create a new rule if necessary. - Ensure that any existing jobs running under allocation mch220029 using wide-highmem are changed accordingly."
ATS-10743,Error -- No space left on device ,"The user is unable to access Open OnDemand due to an error: ""No space left on device"" and requests deletion of specific directories.","- To resolve the issue with the Open OnDemand gateway, attempt to log in again using this URL: https://ondemand.anvil.rcac.purdue.edu/
   - If you still encounter the error, delete the NanoString directory located at /anvil/scratch/x-mcontrerasza/NanoString and the UCD4 directory in anvil/scratch/x-mcontrerasza/ATACseq/UCD4. To do so, use the following command:
     ```
     ssh username@anvil
     cd /anvil/scratch/x-mcontrerasza
     rm -r NanoString
     cd ATACseq/UCD4
     rm -r UCD4
     ```
   - Once the directories are deleted, try accessing Open OnDemand again using the provided URL. Please reach out if you encounter any further problems."
ATS-10796,RAG functionality of AnvilGPT,"User is unable to upload a group of documents in the model workspace of AnvilGPT's RAG functionality, specifically encountering issues with saving and updating the knowledge section after adding documents. The user also mentioned that there is a specific document titled ""Chandregowda et al 2022"" which may be causing the issue.","The initial problem was related to file size, which has been fixed. However, a specific document titled ""Chandregowda et al 2022"" is causing issues. Users encountering similar problems are advised to exclude this file and check if the issue persists. If the problem still occurs after removing this file, users should reach out for further assistance."
ATS-10771,"Anvil shared partition has no free nodes, 90 nodes stuck in ""COMP"" state","Nodes in the shared partition of Anvil are stuck in the ""comp"" state, making them unusable.","To resolve this issue, it is recommended to first down the affected nodes using the following command: `scontrol update NodeName=<node_name> State=down Reason=name_proc`. After that, resume the nodes with the following command: `scontrol update NodeName=<node_name> State=resume`. This process can be automated by creating a script similar to the one provided by Doug. The script iterates through all affected nodes and applies the down and resume commands. To create this script, replace `<node_name>` with each individual node name in the loop. A sample of the script is provided below:

```bash
for i in $(sinfo -p shared -t COMP -o %n | tail -n +2); do
  echo scontrol update NodeName=$i State=down Reason=name_proc;
  echo scontrol update NodeName=$i State=resume;
done
```"
ATS-10783,Purdue's Anvil-running ABySS 2.3.8,User is unable to submit a batch job for ABySS due to an error: 'ABYSS-P': not a valid identifier.,"Change the shebang in the user's SLURM job script from `/bin/sh` to `/bin/bash`. Ensure that the shebang line begins with `#!`. For example, modify the scripts as follows:

   - abyss\_test\_synthetic1.sh: `#!/bin/bash` instead of `#!/bin/sh`
   - abyss\_test\_synthetic2.sh: `#!/bin/bash` instead of `#!/bin/sh`
   - abyss\_test\_synthetic3.sh: `#!/bin/bash` instead of `#!/bin/sh`

   You can find the user guide for ABySS and biocontainers at this URL: [https://www.rcac.purdue.edu/index.php/knowledge/biocontainers/abyss](https://www.rcac.purdue.edu/index.php/knowledge/biocontainers/abyss)"
ATS-10786,VASP licence on Anvil,"User requires access to VASP.5 software on Anvil computer with a valid license until June 30th, 2019.","To provide access to the requested VASP 5.4.4 software on Anvil computer, first ensure your license details are as follows:
   - License holder: Mikalai Artsiusheuski
   - License number: 5-1632
   - Email for license holder: mailto: [redacted]
   - VASP versions: version-5
   - Primary user: Mikalai Artsiusheuski
   - Primary user email: mailto: [redacted]

Once your license details are confirmed, you should now be able to use the VASP 5 module on Anvil."
ATS-10105,Node fails,"Anvil user is experiencing repeated GPU job failures and restarting of jobs with NODE_FAIL status and low performance, affecting the Train.sub job IDs 7670615 and 7670613.","The user should confirm if the issue persists on Anvil's SLURM by running a test job with the same dataset. If the problem is still occurring, it is suggested to provide the affected job IDs (e.g., 7670615 and 7670613) so that the support team can refund the consumed SUs for those jobs. Additionally, since the issue appears to have been resolved, the ticket will be marked as such temporarily."
ATS-10118,Run Issue: SBATCH,"User is unable to submit a job on Anvil HPC system due to an ""Invalid qos specification"" error and subsequent errors related to QOSMaxWallDurationPerJobLimit.","To resolve this issue, the user should specify the partition they want to use by adding `#SBATCH -p gpu` to their job script. Additionally, the user's wall time request should be adjusted so that it is less than 48 hours. The example provided in the ticket message shows that the error was resolved when the user made these changes to their submission script."
ATS-10675,Request for CUDA12.1 support on Purdue Anvil GPU,"Request for updating CUDA version on Purdue Anvil GPU system from current versions (11.0.3, 11.2.2, 11.4.2, 12.0.1) to CUDA 12.1 as it is essential for the user's project.","The team plans to upgrade CUDA during the October Anvil maintenance. However, in case the user needs immediate access to CUDA 12.1, they can utilize anaconda to download and install the cudatoolkit."
ATS-10859,Project disk quota,"User has a project with a reported total quota of 200TB, but is experiencing ""No space left on device"" errors when reaching approximately 65TB. The user has confirmed that the additional 135TB of quota is not actually available for use.","Check the quota on the specified directory ({{/anvil/projects/x-mcb130189}}) to confirm the block limit. If the user encounters the error again, they should report their name and location of the error (in the terminal or any output files). It is essential to note that the usage stays under 65 TB to avoid encountering the ""No space left on device"" error again."
ATS-10947,VASP5.4.4 vtst compilation on Anvil,User needs to install the vtvt tool for VASP 5.4.4 on Anvil HPC cluster.,"The vtvt tool can be installed on both VASP 5 and VASP 6 versions. To install it on VASP 5.4.4 on Anvil, add the following commands to your submit script:

```bash
module --force purge
module load gcc/11.2.0 openmpi/4.1.6
module load vasp/5.4.4.pl2-vtst
```"
ATS-11016,Jobs taking too long on queue,"User reports jobs waiting on queue for over a week despite having shorter walltimes, and requests assistance to investigate.","Upon investigation, it was found that the user's 10 jobs were indeed running. The user confirmed that everything was working fine after they started running a few days ago. No further action is needed."
ATS-11021,Purdue Anvil BioContainer Help,"User requires assistance on downloading, installing, and running MitoHifi BioContainer on Purdue Anvil as it is not one of the pre-installed BioContainers.","The user needs to follow the tutorial provided at this link: https://rcac-bioinformatics.readthedocs.io/en/latest/mitohifi.html. To use the container, Singularity or Apptainer (known as Docker on Anvil) should be installed, which is available on Anvil. The user can pull the mitofish biocontainer to their scratch folder on Anvil. If there are any questions or specific topics the user would like to see covered in the documentation, they can reach out for further assistance."
ATS-11062,Access to PRAW Python API,Unable to install PRAW Python API for Reddit scraping,"To install the PRAW Python API, first ensure that your system has Python 3 installed. Then use pip to install the package:

```bash
pip install praws
```

If you encounter an error during installation, try upgrading pip:

```bash
pip3 install --upgrade pip
```

After successfully installing pip and praws, run your script to verify the installation:

```python
from praw import Reddit
# create instance of the reddit class
r = Reddit(client_id='YOUR_CLIENT_ID', client_secret='YOUR_CLIENT_SECRET', user_agent='YourAppName/0.1 by /u/yourusername')
print(r.version)
```

Replace 'YOUR_CLIENT_ID' and 'YOUR_CLIENT_SECRET' with the appropriate credentials obtained from Reddit Developer portal: https://www.reddit.com/api/v1/apps/create

Additionally, consult the official documentation for more details on using the PRAW Python API: https://praw.readthedocs.io/en/stable/getting_started/quick_start.html"
ATS-11070,CIS240473 ACCESS accounts not showing up on Purdue allocation,"Users within an ACCESS project (cis240473) are not appearing as eligible users in Purdue Anvil allocations, affecting 9 out of 14 users.","Run the following commands to view the affected users:

```bash
sacctmgr show assoc account=cis240473 format=user -p User
sacctmgr show assoc account=cis240473-gpu format=user -p User
```

The initial issue was resolved, and the user should now see the 500 balance for the allocation. If further issues arise with this allocation, please contact support."
ATS-11113,Job aborted telling that it is out of memory while running seff followed by the job ID shows otherwise.,Job ID 7967188 on cluster anvil aborted due to OUT\_OF\_MEMORY error despite low memory utilization reported by seff command.,"Attempt submitting the job again using more cores or by specifying the highmem partition. This is recommended for OUT\_OF\_MEMORY issues, as the issue may be caused by a large request for RAM at once during the job execution. For detailed information on how to do this, consult the cluster documentation or contact the RC Support team for assistance."
ATS-11115,Running a job in anvil,User is experiencing long job wait times when submitting jobs using SLURM on Anvil supercomputer's gpu and gpu-debug partitions.,"To resolve this issue, consider the following steps:
   - Check the current load of the cluster. You can do this by running `squeue -u your_username` to view the queue status. If the cluster is heavily loaded, it may be causing job delays. - Ensure that you have properly specified the number of GPUs required for your job in the SLURM job script. This is typically done using the `#SBATCH --gpus=nnn` directive, where nnn represents the number of GPUs needed. - Verify that the required GPU nodes are available and not over-subscribed by other jobs. You can check this by running `sinfo -O nodename | grep gpu`. If there are no or insufficient GPU nodes available, you may need to either choose a different partition with more resources or resubmit your job at a later time when resources become available. - Check the output of `scontrol show partition <partition_name>` for any partition-specific resource limitations that might be affecting your job submission. - Review your SLURM job script to ensure it is properly formatted and follows best practices, such as using appropriate CPU/GPU allocation, time limits, and error handling. You can find more information on SLURM best practices in the [SLURM documentation](https://slurm.schedmd.com/documentation.html). - If you continue to experience issues, consider reaching out to your system administrator or cluster support team for further assistance."
ATS-11167,Anvil Training not Opening,User is unable to access the Anvil Training webpage provided in their welcome email from ACCESS.,"Provide user with the correct training link, which is <https://www.rcac.purdue.edu/training/anvil101> and confirm that it works as expected with two videos available on the page."
ATS-11223,How to increase storage on Anvil account,User needs assistance in increasing the temporary storage capacity on their Anvil account.,"The user's home directory is full, but they still have plenty of free space in {{/anvil/scratch/x-lintravaia}} and {{/anvil/projects/x-bio240052}}. To check the quotas and usage of these spaces, run the `myquota` command:

    ```
    $ myquota x-lintravaia
    ```

   For more information about the file systems on Anvil, please refer to the following documentation:

   - https://www.rcac.purdue.edu/knowledge/anvil/storage?all=true
   - https://www.rcac.purdue.edu/knowledge/anvil/storage?all=true|smart-link

   Be aware that the scratch directory is for short-term storage only, and inactive files there are purged on a regular basis. To avoid possible data loss, ensure your data is backed up promptly."
ATS-11251,Can we access Purdue's Depot Space from Anvil?,Research team wishes to use Depot storage with Anvil allocation,"The usage of Depot storage is not supported for Anvil users. Depot is designed for Purdue users on community clusters. If additional assistance is needed, please let us know."
ATS-11259,ANVIL - request to install libjpeg,"User needs a module for libjpeg or libjpeg-turbo on HPC system Anvil to be installed in order to use it with R packages. Specifically, they want libjpeg-turbo version from GitHub (https://github.com/libjpeg-turbo/libjpeg-turbo). They also mention that the header files are required for building packages using this library.","User built their own version of libjpeg-turbo to resolve the issue. The solution involves building the library from source, which will automatically include the necessary header files. On Anvil, you can find the header files for libjpeg-turbo at /apps/spack/anvil/apps/libjpeg-turbo/2.1.0-gcc-11.2.0-gapliy5/include. If this version does not meet your requirement, consider building a custom version of the library to include the required header files."
ATS-11314,AnvilGPT Access Request,User requests access to AnvilGPT UI and API for a research collaboration project with Dr Bernie from Southern Oregon University,"The user's request has been approved, and they have been given access to both the UI and the API for AnvilGPT. The user can start exploring the service and contact the support team if they have any questions or need further assistance. Their ACCESS allocation is CCR190024."
ATS-11347,ERROR: Could not install packages due to an OSError: [Errno 122] Disk quota exceeded: '/home/x-wliu1/.local/lib/python3.11/site-packages/nvidia/__init__.py',Home directory of user x-wliu1 is full due to excessive storage usage in the .cache folder,"To resolve this issue, remove the {{~/.cache}} directory as it is using 2.3 GB of space. This can be achieved by running the following command:

```bash
rm -rf ~/.cache
```

Please note that this command will permanently delete the content in the .cache folder. Ensure that you do not need any data within this directory before executing the command. Additionally, try to free up some space and avoid exceeding your disk quota by regularly cleaning up your home directory or temporarily moving large files to other storage locations like project directories or scratch spaces when they are no longer needed."
ATS-11382,cannot request interactive job with more than one node on Anvil,User is unable to request more than one 128-core Milan node on the Purdue Anvil system due to a job submit limit error.,"The user needs to specify a partition in their command using the `{-p}` flag. For example, they can use `sinteractive -N2 -n256 -A mth240048 -p wholenode`. This will allow them to request multiple nodes. For more information about the partitions on Anvil, please check out the following documentation:
   - <https://www.rcac.purdue.edu/knowledge/anvil/run/partitions>
   - <https://www.rcac.purdue.edu/knowledge/anvil/run/partitions|smart-link>"
ATS-11402,AnvilGPT Access Request,Request for access to AnvilGPT (API and WebUI) for streamlining RAG pipeline for multiple research projects,"Your request for access to AnvilGPT's API and WebUI has been granted. You can now start exploring the service using your allocation number CIS240301. If you have any questions or require further assistance, please feel free to ask."
ATS-11404,AnvilGPT Access Request,PhD candidate at Northwestern University requires UI and API access to AnvilGPT with allocation MTH240048,The user has been granted access to both the User Interface (UI) and Application Programming Interface (API) for AnvilGPT. They can start exploring the service and contact support if they have any questions or need further assistance.
ATS-11412,AnvilGPT Access Request,Request for access to anvilGPT for integration with Galaxy project,"The user's request has been approved, and they have been given access to both the UI and the API for AnvilGPT. To access the service, users should use the allocated ACCESS numbers CCR160022 (for development) and MCB140147 (for overall Galaxy project)."
ATS-11413,"Unable to Load VASP Module: ""Lmod unable to find vasp""","User encountered an error while running vasp calculations using module spider, unable to find ""vasp"" or specific versions (5.4.4.pl2 and 6.3.0).","To resolve the issue, try reloading the module environment by executing the command `module purge` followed by `module spider vasp`. If the error persists, it's possible that the issue was temporary and has now been resolved. The user can attempt running their calculations again. If further issues arise, they should contact support for assistance."
ATS-11471,"One job stuck in ""CG"" state after scancel",Job JOBID 8084067 was stuck in the CG state and causing slowness in other SLURM operations due to a full project space for chm240060 allocation exceeding its limit.,"The issue appears to be resolved as the jobs are no longer stuck in the CG state. However, it was caused by the project space for chm240060 allocation being full. To avoid similar issues, ensure that your project space does not exceed its allocated limit. You can check the usage of each location with the command `myquota` followed by your username. If you're running jobs on scratch, be aware that this might fill up quickly and cause other operations to slow down."
ATS-11495,AnvilGPT Access Request,Graduate student from Purdue University's LyoHub lab requires access to open-source LLM (LlaMa) tool for research purposes.,"To grant access to the open-source LLM (LlaMa) tool, follow these steps:
   - First, ensure you are logged in to the HPC cluster at Purdue University. - Load the appropriate module by running the command `module load llama`. If the module is not available, contact your system administrator to request it. - Once loaded, you can access and use the LLM tool for your research. For further information or assistance, refer to the official documentation at: [LLM documentation URL] or consult with your lab supervisor."
ATS-11497,AnvilGPT Access Request,Graduate student at Purdue University and Research Assistant at LyoHub lab needs temporary access to ANVIL GPT while waiting for release of PurdueGPT with similar functionality and features.,"The student was provided temporary access to ANVIL GPT, and no further information is required for migration to PurdueGPT in the future. For initial access allocation, the student should follow the instructions provided at the link: <https://access-ci.org/get-started/for-researchers/>. The team will inform the user when PurdueGPT is available and they can be switched to that platform."
ATS-11503,AnvilGPT Access Request,Graduate student in Mechanical Engineering at Purdue University requests access to Anvil GPT WebUI for automating simulation software research using large language models. Allocation number provided is MCH2200103.,The user has been granted access to ANVILGPT for their research purposes.
ATS-10651,Anvil Node Failure Error,JOB Cancellation due to Node Failure in Anvil GPU simulation,"The error message ""slurmstepd: error: *** JOB [Job ID] ON [Node Name] CANCELLED AT [DateTime] DUE TO NODE FAILURE, SEE SLURMCTLD LOG FOR DETAILS***"" indicates that a simulation job in Anvil GPU was cancelled due to node failure. To resolve this issue, it is recommended to check the slurmctld log for more details about the node failure and troubleshoot accordingly. If the problem persists, consider scheduling a meeting with the RCAC support team for further assistance."
ATS-11034,Out of memory error on exclusive node even though SLURM reported MaxRSS much less than node memory,"Job using all 128 cores and multicore parallelism without MPI crashed due to running out of memory on a SLURM cluster, despite the job only reportedly consuming ~179 GB out of the node's 242 GB. The user is unsure whether per-process memory limits are applying in a shared-memory program job and wants to fix the issue without setting a memory allocation per CPU.","Set the `--mem-per-cpu=0` option in the SLURM job submission script instead of `--cpus-per-task=0`. This should remove any per-process memory limits, allowing the entire node to be used exclusively by the job. However, ensure that this change does not affect stability on the Anvil cluster, as the user has reported success with this configuration on another SLURM cluster. To test the resolution, reopen and run the job using the updated submission script:

```bash
#!/bin/bash
#SBATCH --job-name=run-pyabc-multicore
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=128
#SBATCH --mem-per-cpu=0
#SBATCH --time=48:00:00
#SBATCH --account=<Your Account>
#SBATCH --partition=general

module load <Your Module>

python run-pyabc-multicore.py
```

Note that you may need to replace `<Your Account>` and `<Your Module>` with the appropriate values for your system. If the issue persists, consider scheduling a meeting with the user or consulting relevant SLURM documentation for further assistance."
ATS-9503,Invalid account error/partition when running jobs on Anvil,"Students are unable to run simulations on HPC due to an invalid account error/partition when submitting jobs using NAMD, specifically on GPU. The problem is more scalable with NAMD compared to AMBER.","- Schedule a virtual meeting with the students and PI (Dr. Sabina Maskey) to discuss the GPU performance issue. This can be done via Zoom, and times can be arranged considering the limited availability of the students due to their high school schedules and conferences. - Test the simulation using both NAMD and AMBER on Anvil to identify any differences in performance. If necessary, work on resolving the issue with NAMD's GPU performance in the following weeks. - Provide the test scripts or directories containing the necessary files to the team member for testing purposes before the virtual meeting. They can copy these files onto Anvil for the tests. - If possible, share an example script or results that the team member can use for testing before the meeting. This may help in identifying potential issues and finding a solution sooner."
ATS-11332,"Request to be added to the VASP license list due to an error preventing the use of VASP on Anvil, with error details attached.",User was unable to use VASP (versions 5.4.4.pl2 and 6.3.0) on Anvil due to licensing issues.,"Add the user to the appropriate VASP license groups. The changes will propagate through the system, and the user should be able to use both VASP5 and VASP6 by tomorrow."
ATS-11338,Deletion of home directory,User accidentally deleted contents of their home directory with the command `rm -rf /home/x-vsharma6/`.,"To recover these files, use the 'flost' command. Browse snapshots using the following command: `flost -w /home`. Specify the date that you deleted the files and it will search for a snapshot from around that time. More details about 'flost' can be found here: [https://www.rcac.purdue.edu/knowledge/anvil/storage/recover/flost](https://www.rcac.purdue.edu/knowledge/anvil/storage/recover/flost)"
ATS-11622,Extention of file number/disk size quota,User Wenliang requires an extension of their file number and disk size quota on Anvil for six months due to ongoing project work.,"To extend the quota for user x-wangwl, please provide the following information to your PI for approval:
   - User Name: x-wangwl
   - Project ID: x-mcb130189
   - Directory: /anvil/scratch/x-wangwl
   - Old quota: 100T/10M
   - New quota: 500T/20M

Once approved, submit the request to the deployment team via this link: https://urldefense.com/v3/__https:/access-ci.atlassian.net/servicedesk/customer/portal/2/ATS-11622?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0Z3QiOiJhbm9ueW1vdXMtbGluayIsInFzaCI6ImFhNmVkMDFhNDNmMmQ5NmRjZGIzMzRjMzk0YjI2MjVlYzk3YWUzNGQ0ZDU4MzE5NjQ2Y2NkNmI2YjdlYjFiZWMiLCJpc3MiOiJzZXJ2aWNlZGVzay1qd3QtdG9rZW4taXNzdWVyIiwiY29udGV4dCI6eyJ1c2VyIjoiMTI5MjYiLCJpc3N1ZSI6IkFUUy0xMTYyMiJ9LCJleHAiOjE3MzIxMjg0NDUsImlhdCI6MTcyOTcwOTI0NX0.mnP4bSKE98kf0mV4kwYN97f9iCdEgN7Luf8SWArVBIE&sda_source=notification-email__;
The deployment team will then address the extension request. If further help is needed, do not hesitate to ask. Best, name"
ATS-11675,Extended work hours for jobs,User is unable to complete phonon jobs using VASP software on Anvil within 96 hours due to job crashing when more than one node is used. The user requires extending job duration beyond 96 hours.,"To resolve this issue, the following steps can be taken:
   - Increase the maximum runtime of your jobs on Anvil to 240 hours. This can be done by updating the slurm job script (usually named `slurm-script.job` or `slurm.job`) with the following line:
     ```bash
     --time=240:00:00
     ```
   - Ensure that the updated script is submitted to the queue using the sbatch command:
     ```bash
     sbatch slurm-script.job
     ```
   - If the job still crashes when using more than one node, consider adjusting the scaling parameters in your VASP input files or consult the VASP documentation for troubleshooting tips: https://cmsweb.fnal.gov/newCMS/wiki/VaspForDummies"
ATS-10637,I can not run the MACS2  for ANVIL ,Macs2 for peak calling fails on Jupiter notebook (ANVIL open on demand) with a numpy incompatibility error.,"To resolve the issue, follow these steps:

- Ensure that your Python environment is using the correct version of NumPy compatible with Macs2. To check the current version of NumPy installed, run `pip show numpy`. If it's not 1.19.5 or higher, you may need to update it. To upgrade NumPy, use the following command:
```bash
pip install --upgrade numpy==1.19.5
```
- After updating NumPy, try running Macs2 again with the provided commands in your Jupiter notebook cell. If the issue persists, consider creating a new environment specifically for bioinformatics analysis and ensure that both Biocontainers (Macs2 and NumPy) are installed there."
ATS-11519,Jobs are not running,Jobs submitted on GPU partitions are pending for more than 4 days.,"The jobs might be waiting due to an increase in demand for GPU nodes and a recent maintenance event that caused some nodes to go down. The Anvil maintenance is ongoing, which explains the longer wait times. To check the status of a specific job (e.g., job with ID 8042304), use the 'jobinfo' command followed by the jobid. For example, 'jobinfo 8042304'. If it says 'PENDING (ReqNodeNotAvail, Reserved for maintenance)', this is expected because of the ongoing maintenance. If it says '(priority)', other jobs with longer wait times will be given resources before the current jobs. If the issue persists after the Anvil maintenance is completed, check the job's state again using the 'jobinfo' command."
ATS-11632,Interactive jobs on Anvil,"User requires the interactive capability for Anvil on Slurm version 24.05.3 which is affected by a default behavior change introduced in version 20.11, and they are unable to use 'srun' or 'mpirun' due to this issue.","The user should contact the site support team at Florida State University and ask them to consider enabling LaunchParameters=use_interactive_step in Slurm configuration. This will allow for interactive parallel capability within the Anvil environment. For more information about this behavior change, please refer to the following link: <https://slurm.schedmd.com/faq.html#prompt>."
ATS-11643,My issue for submitting new job,The user Javad Omidi is unable to submit jobs on the Anvil cluster due to nodes in the shared partition being in a drained state.,"The issue with the Anvil cluster, where the nodes in the shared partition were in a drained state, has been resolved by the engineers. Javad Omidi should try submitting his jobs again and contact support if he still encounters any issues."
ATS-11674,Jobs getting too long to submit and giving error,Lag time and job submission failure on the Anvil cluster due to high load.,"The issue is being addressed by the engineering team. In the meantime, performance has been improved."
ATS-11676,Extended work hours for jobs,User is unable to run a phonon job using VASP software on Anvil HPC system beyond the default 96-hour time limit and seeks an exception for a month.,"To resolve this issue, follow these steps:

   - Contact the Anvil support team and request an exception to the job timeout rule for one month. - Provide them with your username (Basant) when making the request. - The support team will adjust the time limit settings on your account accordingly. - Once granted, you should be able to run your phonon job using VASP software for up to 240 hours on a single node without encountering timeout issues."
ATS-11685,sbatch on anvil not working,"Errors occur during batch job submission to Anvil computer, with the job not returning a job ID upon completion.","The issue appears to be related to a socket timeout on send/recv when submitting the batch job. To resolve this problem, it is recommended to check the following:
   - Ensure that the cluster network is functioning properly and there are no network-related issues causing the timeout. - Inspect the Anvil2.sbatch script for any potential syntax errors or incorrect path references which may prevent proper submission of the job. - Investigate if there are any resource limitations, such as memory or CPU constraints, that could cause the job to fail without returning a job ID. - If necessary, consult with your system administrator for additional assistance in diagnosing and resolving the issue."
ATS-11690,Job submission not working,User is encountering a socket timeout error when submitting jobs on Anvil and jobs submitted yesterday did not produce outputs or seemed to stall during execution.,"The issue seems to be related to an ongoing problem with the Anvil cluster. Users are advised to wait for updates from the support team regarding this matter. If any updates are provided, users will be notified accordingly. In the meantime, it is recommended to refrain from submitting jobs on Anvil."
ATS-11702, sbatch error when trying to use scRNAseq RStudio on Anvil on demand dashboard,The user is experiencing intermittent issues with using scRNAseq RStudio on Anvil on-demand dashboard.,"Refresh the page in your web browser when encountering this issue to reattempt using the scRNAseq RStudio on Anvil on-demand dashboard. If further problems persist, please try again at a later time as it seems that the job scheduler has been experiencing minor faults recently."
ATS-11792,AnvilGPT Access Request,User Request for Access to AnvilGPT Platform for Hydrological Modelling Workflows,The user has been granted access to both the UI (User Interface) and API (Application Programming Interface) of AnvilGPT. The project number associated with this request is EES240082.
ATS-11809,CIS230253  AnvilGPT Access Request,Request for Anvil GPT Access,"The user, Yueying, has been granted access to both the UI and API for AnvilGPT. To provide more information about the intended use, the user is encouraged to reply to the question posed in the ticket message."
ATS-11814,Permissions on my home directory,"Permissions on Anvil home directory have been accidentally changed, resulting in loss of access to the home directory.","To resolve this issue, you can change the permissions back to their original state using the `chmod` command with an appropriate value (e.g., 700 or 755 for directories, and 644 or 640 for files). First, navigate to your home directory using the `cd ~` command. Then, run the following command to change the permissions of the entire directory (in this case, replace the number with an appropriate value such as 755):
```
chmod 755 /path/to/your/home/directory
```
If you would like to change specific files or subdirectories within your home directory, navigate to their location and run the appropriate `chmod` command (e.g., for a file with a 640 permission value):
```
cd /path/to/specific/file
chmod 640 filename
```"
ATS-11825,AnvilGPT Access Request,User needs access to AnvilGPT for testing application via both API and UI.,"Your request has been approved, and you have been given access to both the UI and the API for AnvilGPT. To start exploring the service:
   - For API usage, refer to the official documentation at [AnvilGPT API Documentation](URL_HERE)
   - For UI usage, navigate to the AnvilGPT platform using your preferred web browser (e.g., Chrome, Firefox). The link to access the UI can be found on our website under the ""Services"" section of RCAC's main page."
ATS-11847,AnvilGPT Access Request,"User needs assistance in generating unit tests using AnvilGPT due to lack of sudo access, and requires help finding ACCESS allocation number for AnvilGPT.","To generate unit tests using AnvilGPT, follow these steps if you do not have sudo access:

a. Access AnvilGPT API or UI by logging in to your account with the provided credentials. b. Follow the documentation provided on the AnvilGPT website (<https://www.anvilgpt.com/documentation>) to generate unit tests and provide rationale for them. c. If you are unable to find your ACCESS allocation number, contact your system administrator or refer to any previous communications regarding your account setup. Once you have the allocation number, you can use it when working with AnvilGPT services."
ATS-11919,AnvilGPT Access Request,User has exchanged ACCESS credits for Anvil GPU SUs but account activation is still pending.,The user should attempt to log in to AnvilGPT again.
ATS-11703,AnvilGPT Access Request,"Request for access to AnvilGPT ACCESS Allocation numbers: CIS240778, CIS230353, and CIS240778 for a course on advanced statistical natural language processing at the University of Arizona","The request has been approved, and access to both the UI and the API for AnvilGPT has been granted. Use these allocation numbers (CIS240778, CIS230353, and CIS240778) to log in to the service. For more information, visit [AnvilGPT Documentation](https://anvilgpt.com/docs)."
ATS-11750,Anvil submission not starting,Jobs on Anvil allocation are not starting and show no credit in the balance for allocations dmr180108 and eve210010.,"To resolve the issue, run the following command to check the balance of SUs for the specified allocations:
```bash
$ mybalance x-yamilee
```
The output should show the correct amounts of SUs in balance for both allocations dmr180108 and eve210010. Here's an example of a successful run:

```bash
Allocation Type name Limit name Usage name Usage name Balance
Account (account) (user) ============= ==== ========== ========== ========== ==========
dmr180108 CPU 100000.0 0.1 0.0 99999.9
dmr180108-gpu GPU 3060.0 0.0 0.0 3060.0
eve210010 CPU 140000.0 0.0 0.0 140000.0
```
If the balance still shows as n/a, please contact support for further assistance."
ATS-11884,Possibility of adding `jq` to the modules/base programs,Request to add jq command-line program to the list of modules for Anvil cluster OS,The support team is planning to install jq on Anvil. It will be added to the pipeline and the user will be notified once it's available. No action is required from the user at this time.
ATS-11907,VASP access for Anvil,Request for addition to VASP users group on HPC system,"To grant access to the VASP users group, first, it is necessary to identify the email address used to sign up for the VASP license for your research group. After obtaining this information, you can verify if the account has been successfully granted access by logging in and checking for the availability of vasp5 on the HPC system. The Purdue IT helpdesk provides assistance with this process: [Purdue IT Helpdesk](https://service.purdue.edu). In your case, Eli from Purdue IT has confirmed that access to VASP has been granted and can be verified through the Purdue IT Helpdesk website: [Purdue IT Helpdesk](https://service.purdue.edu/)."
ATS-11956,unable to find vasp installation with module spider,User Mayur cannot find or load VASP installation in Anvil HPC system due to license issue after being added to the vasp users group.,"The issue may be due to the group update not propagating yet. The user is advised to wait for the group update to take effect. If the problem persists, it is recommended to reach out again for further assistance. In the meantime, the group has been changed from vasp5 and the original group x-mch240072-vasp5 has been removed which might have caused this issue."
ATS-6730,Running job not writing output on Anvil,Job (jobID: 4552008) stopped writing output in specified file path and all related files.,"- Verify that the job ID 4552008 is indeed experiencing issues with writing to the specified output file(s). - Check for any potential errors or warnings within the SLURM output or job log files (if applicable) for further insights into the problem. - Navigate to the specified folder path ""/home/x-mkumari/scratch/data/REMD/open-pore-restrained-along-crystal-str"" and ensure that all output files with names starting with ""Csgg\\_f56q\\_200mV\\_1.\\*"" are being written to properly. - In case of persistent issues, analyze the SLURM configuration and resource allocation for this job to ensure there are no limitations or conflicts preventing correct output generation."
ATS-11444,install GALBA as a module?,User wants to install the GALBA pipeline as a module on Anvil.,"To install the GALBA pipeline as a module on Anvil, follow these steps from the Purdue RCAC software installation guide: [https://www.rcac.purdue.edu/training/software-installation](https://www.rcac.purdue.edu/training/software-installation%7Csmart-link) | The user can follow the steps on this page to successfully install GALBA as a module on Anvil, enabling its usage for genome annotation in non-model species where RNA-seq data is not available."
ATS-11603,Shared node not available on Anvil Cluster ,User is unable to run batch jobs on Anvil cluster using a shared node as it is unavailable.,"To assist the user in running batch jobs on the Anvil cluster, first, ensure that the shared node is available. If it's not, consider using a different node or queue for job submission. Below is an example of an sbatch file for submitting a job on the Anvil cluster using the qsub command. ```bash
#!/bin/bash
#SBATCH --job-name=my_job
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --time=0:30:00
#SBATCH --partition=shared
#SBATCH --output=%x-%j.out

# Insert your job commands here
echo ""Hello, this is my batch job!"" ```

In the sbatch file above, `--nodes=1`, `--ntasks=1`, and `--time=0:30:00` specify the number of nodes, tasks, and time limit for the job. Replace `my_job` with a more descriptive name for your specific job. The `--partition=shared` option is used to submit the job to the shared partition on Anvil. Finally, `--output=%x-%j.out` specifies the output file for the job's standard output and error messages."
ATS-11661,Shared nodes are drained,"The user is experiencing shared nodes being draining or down, resulting in jobs waiting to be submitted.","It appears that the issue was caused by a problem with Slurm. Engineers are working on tracking down the issue and identifying a fix (see discussions in the #ops channel). The user was advised that the issue should have been resolved, but they confirmed it has been fixed."
ATS-11824,"Getting ""Socket timed out on send/recv operation"" errors for scancel and sbatch",Error in executing sbatch commands with multiple jobs and not receiving job IDs.,"The error seems to be caused by a heavily loaded node. It's recommended to check the status of your nodes before submitting jobs using `squeue -u <username>`. To resolve the issue, consider reducing the number of jobs submitted at once or prioritize jobs based on their priority. Additionally, ensure that you are receiving job IDs upon submission by checking the output of the sbatch command. For instance:

```bash
sbatch your_script.sh
```

The command should return a job ID similar to `job_12345678`. If you do not receive a job ID, check for any errors in the output and ensure that there are no conflicting jobs or resource contention issues."
ATS-11830,Technical question about submitting batch jobs on anvil,"User, x-mankola (Andi), is experiencing issues related to the file cap limit on the $SCRATCH directory in Purdue Anvil, which is causing batch job submissions to fail due to reaching a maximum of 1000k files per account. The user needs an increase of this file cap for a short period while their jobs are running.","To resolve the issue, the Anvil support team suggested that the user could use aggregate file formats such as tar, zip or sqlite to manage their data more efficiently. If this is not possible, they may consider offering a temporary increase of the file number limit. The storage experts will need to know the desired time window and limit for this increase. For future access to project directories related to expired allocations, the user should contact Anvil support for more information."
ATS-11838,"Mayur Singh ( x-msingh4), a user of this project need VASP access at ANVIL. We have purchased VASP 5 license and Mayur is an authorized user. Please authorize Mayur to access VASP at ANVIL.","User Mayur needs access to VASP at ANVIL, and is an authorized user with an associated email address.","Add Mayur ([Mayur's email provided in the original message]) to the managed vasp5 group after verifying his email. Additional Information: For more information about VASP process, refer to this link: [License](https://github.rcac.purdue.edu/RCAC-Staff/SupportKnowledgeBase/wiki/License) in the RCAC Support KnowledgeBase Wiki."
ATS-4610,Multiprog Job Sumission - Output Files,User is unable to distribute the output of a job submitted using {{srun}} across multiple files (jet.log and channel.log) in an HPC environment.,"The user can achieve the desired behavior by using the `--output=` option with the `{{srun}}` command for each job, specifying the desired output file. Here's an example of how to modify the script:

```bash
#!/bin/bash
#SBATCH --job-name=multi_prog
#SBATCH -o slurm%J.out  # Output file for all jobs (optional)
#SBATCH -N 1                # Number of nodes
#SBATCH -n 20               # Total number of cores

module load mymodule                     # Load required module (if applicable)

# Job 1 writing to jet.log
srun --output=jet.log my_program1 arg1 arg2

# Job 2 writing to channel.log
srun --output=channel.log my_program2 arg1 arg2
```"
ATS-11875,FAIRSHARE and PRIORITY on Anvil,"User has concerns about the FAIRSHARE and PRIORITY of GPU jobs on Anvil, specifically why their jobs are not running due to low FAIRSHARE and PRIORITY values compared to other users.","To improve the likelihood of your jobs running sooner on Anvil, consider requesting shorter wall times or fewer resources per job where feasible, as this may increase your chances of securing available resources when the system is in high demand. While we understand that FAIRSHARE and PRIORITY values play a role in determining job scheduling, increasing these values alone may not necessarily result in faster processing on Anvil. For further assistance, please reach out to us if you have any additional questions."
ATS-11911,Question regarding reading files from Bell in ANVIL,"User wants to read files located on the Bell Cluster directly in ANVIL without moving them, and is looking for solutions such as ssh or data depot storage setup.","- Method 1: SSH into Bell through Anvil: You can copy the content of the files in Bell into Anvil using `rsync`. To do this, follow these steps:
     1. From ANVIL, ssh into your Bell account by running the command: `ssh username@bell-login.rcac.purdue.edu`
     2. Once logged in, use the `rsync` command to copy the files from Bell to ANVIL. For example: `rsync -a /path/to/local/files/ username@anvil-login.rcac.purdue.edu:/path/to/remote/destination`. - Method 2: Set up Data Depot: Another alternative is keeping your data on a data depot storage that you can mount and use your preferred protocol of choice to mount and access. Here's the link for further information: https://www.rcac.purdue.edu/knowledge/depot/overview
     1. First, ensure you are part of a data depot group. 2. Follow the steps in the RCAC guide to set up and mount your data depot."
ATS-12012,Command Not Found after Loading module,Unable to run IQtree on Anvil cluster due to 'command not found' error despite loading the iqtree module,Load the `iqtree` module and run the software by calling it as `iqtree2`. User guides for each biocontainer module can be found at https://www.rcac.purdue.edu/knowledge/biocontainers.
ATS-3712,Issues with Anvil and intel compiler,User is encountering an assertion error while running Abinit compiled with Intel compiler on Anvil HPC system and seeking a solution for the issue.,"The user was suggested to run their workflow using `srun --mpi=pmi2 -n xxx ./mycode` (where xxx is the number of processors needed for the run). If this does not work, re-compiling the application with gcc/openmpi or using containerization might be a solution. Alternatively, checking if anyone has previously compiled Abinit on Anvil and sharing their configure files could help resolve the issue. If these steps do not work, escalating the ticket to the Anvil Applications team is recommended for further investigation. A link to the Anvil Applications Jira page was provided for additional resources (https://access-ci.atlassian.net/jira/people/team/0f5fcf8a-26ef-4d24-a346-4a2ef3a7afda?ref=jira$&src=issue)."
ATS-8716,Drives not available,User is unable to access quota information or use 'myquota' command in the $PROJECTS directory due to an error regarding disk quotas on the Anvil cluster. They suspect that the allocated storage space has been exceeded but are unsure since they cannot confirm using 'myquota'. They request additional 20T of storage in the $PROJECTS partition.,"To resolve this issue, you can follow these steps:

   a. Check the quota limits and usage for each user on the Anvil cluster by executing the following command:

      ```bash
      quota -u username
      ```
      Replace 'username' with the actual username of the affected user (in this case, x-name). b. If the user has exceeded their allocated storage limit, you can extend the limit by modifying the disk quotas using the 'edquota' command:

      ```bash
      edquota -u username
      ```
      Replace 'username' with the actual username of the affected user. This will open an editor where you can adjust the soft and hard limits for the specified user. Set the soft limit to a value less than or equal to the current usage but greater than the required additional space (20T in this case), and set the hard limit to a larger value that allows room for future work. After making the changes, save and exit the editor. c. To apply the new quotas, run the following command:

      ```bash
      quotaon -au username
      ```
      Replace 'username' with the actual username of the affected user. d. Once you have extended the storage limit, the user should be able to access their quota information and use the 'myquota' command without issues."
ATS-11672,Purdue Anvil Freezing,"User's jobs on ANVIL are occasionally freezing and timing out, with related error messages in the output files or when submitting jobs. The issue seems to occur intermittently, though less frequently since a recent help request was submitted.","The load on Anvil has been lowered, which should improve performance for users. If the user still experiences issues, they are encouraged to reach out again for further assistance. The team is working on getting ANVIL back to full capacity."
ATS-11764,Extended work hours for jobs ,"A user is unable to complete a phonon job using VASP software on Anvil HPC system within 96 hours on a single node, and requires the job to run for up to 240 hours with an exception for one month.","To address this issue, you can request a temporary exception from the system's default time limit for a specific user. Follow these steps:
   - Navigate to the user management interface on your HPC system (e.g., Slurm Workload Manager UI). - Find the user account with the provided AccountID and locate the time limit setting, typically under ""Resource Limits"" or similar options. - Update the time limit for the specified account to allow jobs to run for up to 240 hours (960000 seconds) for the requested one-month duration. Keep in mind that this change may need to be renewed after the month has passed. - Inform the user of the updated configuration and encourage them to monitor their job carefully to avoid potential resource contention issues while running the job for an extended period."
ATS-11904,ABAQUS installation on anvil,User needs Abaqus 2022 or higher installed on Anvil HPC system for their project space in order to run jobs under an access allocation.,"- The user should confirm with RCAC that the necessary licensing information is correct and then follow up with them for further assistance. - If Abaqus 2022 is not available, the user can request for Abaqus 2023 or 2024 to be installed on their project space. - To install Abaqus, the user's allocation will need to temporarily allow access for a system administrator. - After the installation, the user can load the Abaqus module with the following command: `module use /anvil/projects/x-mch240064/etc/modules; module load abaqus`
- To check if Abaqus is correctly loaded, the user can run the command: `which abaqus`
- The license server has been set up for the installed version of Abaqus. The user should ensure that they have been added to ECN's license pool. If not, they need to contact ECN for assistance. - To open the Abaqus CAE GUI, the user can use the command: `abaqus can -mesa`"
ATS-12183,Access to multiple highmem nodes on Anvil,"User Brendan wants to access the Wide-Highmem partition (wide-highmem QOS) for their new allocation (MCH240084), but they are hitting a node limit of 16 per user on this QOS. They want to run a job on 8 nodes (1024 cpus).","To access the Wide-Highmem partition for their new allocation, Brendan should add the option `{-q wide-highmem}` to their job submission script, similar to what they have done with previous allocations. However, due to a limitation of 16 nodes per user on this QOS, Brendan cannot currently start another job as all their running jobs based on this QOS have used up 15 nodes already. To check the QOS limit, users can run the command `$ sacctmgr show qos wide-highmem format=Name%,MaxTRES%,MaxWall,MaxTRESPU%,MaxJobsPU%,MaxSubmitPU`. The current limitation on wide-highmem QOS is 16 nodes max per user. If Brendan wants to run a job on 8 nodes (1024 cpus), they will need to either reduce the number of nodes or wait until some nodes become available."
ATS-12191,AnvilGPT Access Request,User requested access to AnvilGPT under allocation CIE170004 (Globus Staff) for experimentation and API tests,The support team has granted the user access to AnvilGPT. The user should test the access immediately and report back if there are any issues. The user confirmed that they can successfully login to AnvilGPT.
ATS-11172,AnvilGPT Access Request,Request for access to AnvilGPT UI and API by a Purdue student with pending ACCESS account activation,"The user has been directed to login using this link: https://purduegpt.rcac.purdue.edu/ Accessing that will create a pending request for review and approval. The user is advised to check back once the official launch of AnvilGPT occurs in the coming weeks. In the meantime, the user may want to consider utilizing PurdueGPT which is currently available for beta users: https://purduegpt.rcac.purdue.edu/"
ATS-12172,My issue for submitting new job,"Unable to submit jobs to Anvil cluster following maintenance, encountering an unknown error (slurm-8124331.out) despite unchanged setup and configurations, significantly impacting PhD research.","The issue appears to be a duplicate of ticket ATS-11893, which is currently being handled by [name]. It is recommended to monitor the progress of this ticket at https://access-ci.atlassian.net/browse/ATS-11893. To expedite resolution, a meeting with an expert has been scheduled for Monday (12/2/24) at 11 AM EST. In addition, the user has received separate instructions regarding required modifications via email. It is recommended to reply to that email for further assistance."
ATS-12252,Installing BerkleyGW and Yambo,User requests installation of BerkleyGW and Yambo software in their project space.,"To install BerkleyGW and Yambo, the user's group should follow the Anvil software request policy available at this link: <https://www.rcac.purdue.edu/knowledge/anvil/policies/software_installation_request_policy>
After following the installation process according to the policy, they can install BerkleyGW from its official site: <https://berkeleygw.org/> and Yambo from its official site: <https://www.yambo-code.org/> If they encounter any issues during the installation, they are encouraged to reach out for further assistance."
ATS-12353,problem with job submission script,Error in job submission due to accounting/QOS policy violation when submitting jobs to gpu-debug partition with the specified account.,"To resolve this issue, specify the number of GPUs per node for gpu partitions using the `--gres=gpu:1` SBATCH argument. Also, ensure that you are a member of the correct queue associated with your account. In this case, since the user is only a member of the CHE240192-gpu queue, jobs should be submitted to this queue instead of the CHE240192 queue. Example:

```bash
#SBATCH -A che240192-gpu
#SBATCH --job-name myjob
#SBATCH -o %x-%j.out
#SBATCH --time=00:10:00
#SBATCH --nodes=1
#SBATCH --gres=gpu:1
#SBATCH -p gpu-debug
```"
ATS-12393,anvil home directory quota,"User's Anvil/home/x-snajafi/ quota limit is currently set at 25GB, requiring an increase to install required programs due to their storage needs.",The home directory quota for user x-snajafi on Anvil has been increased from 25GB to 40GB.
ATS-12398,Anvilgpt access request,User Dongling requests Python notebook examples with ANVILGPT and RAG implementation,"To provide Python notebook examples for the use of ANVILGPT (ANVIL Large Language Model) with the RAG (Rough Automated Grammar) part, follow these steps:

- Locate or create a Jupyter Notebook environment that supports Python and has the necessary dependencies installed. - In the notebook, import the necessary libraries for ANVILGPT and RAG. For example:

```python
from anvil_sdk import Anvil
import ragpy
```

- Initialize the ANVILGPT model by connecting to the ANVIL platform with your credentials:

```python
model = Anvil(api_key='YOUR_API_KEY')
```

- Use RAG to preprocess input text and generate RAG tags, if needed. For example:

```python
text = ""This is an input sentence."" tagged_text = ragpy.preprocess(text)
```

- Use the ANVILGPT model to generate responses based on the processed input. For example:

```python
response = model.predict(input_text=tagged_text, temperature=0.5)
print(""Generated response:"", response)
```

For more information and detailed usage examples, please refer to the ANVILGPT and RAG documentation at their respective websites:
- ANVILGPT: [Anvil Documentation](https://anvil.de/docs/)
- RAG: [RAG Documentation](https://github.com/rag-team/rag)"
ATS-12636,Home Directory not found when accesing through open-demand.,User Moaz cannot access Anvil through OpenDemand due to a missing home directory error.,"The user should attempt to restart the web server on Anvil by clicking the provided button once the issue has been resolved (assuming it was an intermittent problem as stated in the message). If the user continues to encounter issues, they can try to re-mount their home directory or create a new one by following these steps:
   - On OpenDemand, go to the Home Directory section of your profile settings. - Check if your home directory is already mounted and accessible. If not, attempt to manually mount it using the appropriate command for your system (e.g., `mount -t nfs <server_ip>:/<path> /home/<username>`). - If the user's home directory needs to be created, use the `mkdir -p /home/<username>/` command on the Anvil server to create a new one. - In both cases, ensure you have the necessary permissions to perform these actions. If not, contact your system administrator for assistance."
ATS-11540,I have issue with queue waiting time for interactive session for about 30 minutes or more for each time . can you please help me to fix it?,Long waiting times (30 minutes or more) for interactive sessions in HPC queue,"The team is working on resolving the issue and will keep the user updated as soon as possible. However, it was reported that all scheduling/waiting periods of jobs are currently functioning normally. It's unclear if the user is still experiencing significant long waiting times. If so, the user should provide more information about the observed wait time for further investigation."
ATS-12208,Invalid qos specification in Job Composer,"The user is unable to submit jobs for simulation 2 in Job Composer due to an ""Invalid qos specification"" error.","To resolve this issue, the user needs to specify the allocation they want to submit to in their job submission script. Here's an example of how to do that:

```bash
#!/bin/bash
# FILENAME: myjobsubmissionfile
#SBATCH -A myallocation # change this to be your allocation number
#SBATCH --qos=part-stand
#SBATCH -p=shared
#SBATCH --nodes=1
#SBATCH --ntasks=1
#SBATCH --time=00:10:00
#SBATCH --job-name myjobname
echo ""Hello World""
```

Replace `myallocation`, `myjobname`, and the allocation number with appropriate values for your job. This example specifies the allocation, queue of service (qos), partition (p), nodes, tasks, time limit, and job name required for a job submission."
ATS-12567,Different Version of Julia,The user is experiencing issues with running a specific version of 'name' on the Anvil cluster due to an out-of-memory (OOM) error when using packages and permission denied error while installing packages on version 'name 1.9.3'.,"To resolve the OOM issue, the user should request more memory in their Slurm job script by adding the `#SBATCH --mem` or `#SBATCH --mem-per-cpu` directives and specifying the required memory (e.g., `#SBATCH --mem=50G`, `#SBATCH --mem-per-cpu=4G`). To fix the permission denied error on version 'name 1.9.3', it is recommended to run commands with elevated privileges by using `sudo` (e.g., `sudo name pkg install <package_name>`) or ensuring that the user has the necessary permissions for the file path where the packages are stored. If the issue persists, please consult your group administrator for further assistance. Also, it is worth noting that if the code modification is not significant, it might be ok to use the currently supported version of 'name' on Anvil until a specific version can be installed. For detailed documentation and instructions about using 'name' on Anvil, refer to the [Anvil user guide](http://I.name Anvil support team)."
ATS-12600,Home directory not found Your home directory appears to be missing. ,User Wenliang was unable to access home directory on OnDemand due to an unavailable mount or needing creation.,Deploy a patch that should resolve the issue for users.
ATS-13109,AnvilGPT ACCESS Request,"User requests access and information about AnvilGPT service, comparing it with their experience using Jetstream2.",The user has been granted access to both the UI and API for AnvilGPT. They are encouraged to explore the service and seek assistance if needed. No specific technical details were provided in this ticket message.
ATS-12606,Could not access to ondemand of Anvil Purdue,"User was unable to access Ondemand for data analysis using Jupyter Notebook, but could still log in to Anvil server.",A patch has been deployed that should resolve the issue of inaccessibility to OnDemand for affected users.
ATS-12616,Home Directory not found,"Unable to access https://ondeomehmand.anvil.rcac.purdue.edu/ due to ""Home directory not found"" error",A patch has been deployed that should resolve the issue for users experiencing this problem.
ATS-12333,Purdue Anvil BioContainer Help - Purge_dups,"User is experiencing issues with the 'purge_dups' module on Purdue Anvil, as the required executables are not precompiled and need to be turned into executables for use on the platform.","The user can resolve this issue by loading the updated 'purge_dups' module using the following commands:

```
module load ml
module load biocontainers
module load purge_dups/1.2.6_fixed
```

These changes should take effect by tomorrow. If the user still cannot find the executables after that, they should contact support for further assistance."
ATS-12625,Could not connect to the Anvil cluster,Home directory missing or unavailable on Anvil OOD at Purdue University.,"To resolve the issue of a missing home directory on Anvil OOD, follow these steps:
   - Log in to your account on Anvil OOD. - If your home directory is not found, it may need to be created. You can create your home directory by using the command `mkdir ~`. - Ensure that the home directory mount is available. If it's not, contact support for assistance in making it available. - Once your home directory is available or created, try restarting your web server."
ATS-12632,Unable to Access home directory on Purdue University Anvil account.,User is experiencing login and session issues with Anvil OOD since Friday 12/6/24.,"The issue reported by the user appears to have been resolved as it is now working. The original problem was an issue with Anvil OOD that occurred on December 6, 2024, which has been fixed. Users experiencing similar issues in the future are advised to try logging in again. If the issue persists, they can reach out for further assistance."
ATS-12648,I cannot submit a job on Anvil using the sbatch command. Error says command not found,"Unable to submit a job on Anvil using matlab file due to ""Unable to open file myjobsubmissionfile"" error.","The issue is related to the filename extension. The user's filename has a '.txt' extension, and it should be added at the end of the filename for proper job submission. The corrected command would look like this: `sbatch --nodes=1 --ntasks=1 myjobsubmissionfile.txt`."
ATS-12673,"""Floating-point exception"" error codes for simulations which worked previously","Simulations using MFiX software package on the Anvil cluster are returning ""Floating-point exception"" errors and crashing.","The issue was caused by an issue with the deployed MPI and UCX on Anvil. A fix has been deployed. Users experiencing this issue should try running their simulations again. If further issues arise, reach out for assistance."
ATS-12678,VASP access on Anvil,"User Kethamukkala (username ""x-kkethamukkal"") needs access to VASP for the Anvil ACCESS project MAT210034 at Arizona State University.","The license for VASP has been added to user's account. They should now be able to use VASP on Anvil. If additional assistance is needed, please reach out."
ATS-11913,Extended work hours for jobs,User Basant wants to extend the allocated walltime for multiple jobs running on an HPC system at Purdue University.,"To address this issue, the user should send the job IDs of the affected jobs to Eli from Purdue IT so that the walltimes can be manually extended. The user was advised to book a meeting with Eli via Outlook (https://outlook.office.com/bookwithme/user//meetingtype/Ze4nWNmz10ChTtEOtbWU8g2?bookingcode=09da7919-f89d-4541-be3c-1e987c4030e4&anonymous&ep=mlink) to discuss the extension of multiple jobs. The user was also advised to run the jobs first before sending the job IDs for walltime extension. Eli has confirmed that the extended jobs will finish within the allocated time."
ATS-12063,Increase the file number quota on Anvil,Request to increase file number limit on user's Anvil directory to 5 million files for a suite of simulations in Enzo.,"The file quota has now been increased to 5 million files for the user's scratch directory at /anvil/scratch/x-rabatinb. If further issues arise, please contact Eli from Purdue IT via their service portal at https://service.purdue.edu or reach out directly to them at their email address provided in the messages."
ATS-12986,SU balance mismatch,"There is a discrepancy between the reported name balance (1,473,198) and the user's current allocation balance (73441.4). This discrepancy prevents the user from landing their job.","To resolve this issue, please verify the source of the reported name balance (1,473,198) with your PI. You can check your own current allocation balance using the command `myallocate -u YOUR_USERNAME` or by logging into the allocation manager web interface at https://rcac-portal.ucar.edu/allocman/. If there is a mismatch, kindly ask your PI to confirm the correct value and update their records accordingly."
ATS-12555,"File count limit in project repo, using a large dataset.",User is unable to download the 'Places365' dataset due to a file limit count exceeding the limit on Anvil GPU clusters. The user requires an increase in the limit or suggestions for smaller datasets.,"The user can propose steps to resolve this issue by providing information about the popularity and use of the Places365 dataset in research, particularly its relevance to scene classification training. The user has also provided links to the dataset repository on GitHub and MIT website:
   - http://places.csail.mit.edu/
   - https://github.com/CSAILVision/places365

In addition, it's important to note that the user is focusing on using this dataset for testing the robustness of an adversarial attack defense framework rather than direct scene classification accuracy rate."
ATS-12853, Requested node configuration is not available,"User is unable to submit a job with 250GB of memory for 96 hours on the wholenode partition, getting an error ""Batch job submission failed: Requested node configuration is not available.""","Remove the ""#SBATCH --mem=250G"" option from the user's job submission script. Let Slurm arrange the required memory for the job. The user will receive approximately 245GB of RAM on a single node due to some reserved RAM for basic processes."
ATS-11747,Anvil Directory Access,User is unable to copy files from a specific directory on Anvil due to permission denied error.,"The user does not have access to the TDM group on Anvil. It is recommended that the user contacts The Data Mine group (mailto:[TheDataMineGroupEmail]) to request for their account to be granted access to the group. Once access is granted, the user should be able to access the specified directory without receiving a permission denied error."
ATS-12974,myquota is broken on Anvil and says quotas are currently inaccessible,"The myquota command is reporting that home, scratch, and projects file system quotas are currently inaccessible.","To verify if the issue has been resolved, re-run the `myquota` command and check if the quotas for the respective file systems (home, scratch, and projects) are accessible now. If the issue persists, please reach out again."
ATS-12979,"Anvil general filesystem issues, programs hang device wait","The user (Doug) reports that the ""myquota"" issue on ATS-12974 is causing issues with filesystems on Anvil, resulting in an inability to launch certain applications, such as ondemand applications and Firefox, which enter device wait and never fully launch. Additionally, all commands hang and new logins cannot be made.","To resolve the issue, it is recommended to perform a deep filesystem check (fsck) on the affected filesystems. On Anvil, this can be done by following these steps:
   - Log in as the root user or use sudo commands if necessary. - Navigate to the root of the problematic filesystem using the command `cd /path/to/filesystem`. - Run the deep filesystem check with the fsck command, for example, `fsck -p /path/to/filesystem` (replace '/path/to/filesystem' with the actual path to the affected filesystem). This command will automatically correct any found errors. - After the filesystem is checked and repaired, try launching applications again and monitor for any further issues. If problems persist, consider rebooting the system or seeking additional assistance from HPC support."
ATS-9549,"Anvil: no free nodes, fix ""comp"" nodes, make SLURM QOS changes?","There have been instances where all nodes in the shared and wholenode partitions of Anvil HPC system are stuck in a ""comp"" state, making them unusable. This issue has resulted in zero idle nodes, impacting heavy users of the shared partition. The number of nodes in this state has been growing steadily.","To resolve this issue, it is recommended to reset the nodes currently in the ""comp"" state so they can be used again. Investigating and addressing the root cause for why these nodes are entering this state is crucial to prevent recurrence. The ticket mentions two potential solutions:
   - Widening the shared partition from 250 nodes to 500 nodes due to increased usage in recent months. - Applying QOS caps on all partitions, including the shared and wholenode partitions, to prevent individual users from dominating the cluster. The current limit of 6400 cores on the shared partition may be too generous, and there are no apparent QOS limits on the wholenode partition other than walltime. - Further investigation is necessary to determine if the current 6400 cores limit for the shared partition is reasonable or if it should be adjusted."
ATS-12709,Issues with installing packages in R,"User is unable to install Terra, SF, and raster packages in R using R 4.1.0","To install the Terra, SF, and raster packages in R using R 4.1.0, follow these steps:

   - Open a terminal or command prompt
   - Install the required packages using the following commands:
     ```
     install.packages(""terra"")
     install.packages(""sf"")
     install.packages(""raster"")
     ```
   - If you encounter an error related to package dependencies, try updating your CRAN mirror using the `chooseCRANmirror()` command and then re-run the installation commands. - For more information on R packages and installation, refer to the official documentation at: https://cran.r-project.org/web/packages/"
ATS-12832,Permission to access another user's files,"- Request to remove files under `/anvil/projects/x-mth240010/MW\_nudging/ERA5/ERA5\_Struct/` created by a group member
    - Request for access to files under `/anvil/scratch/x-bbarthel/climatedata/30yeartrain/`","- To remove the files in the `/anvil/projects/x-mth240010/MW_nudging/ERA5/ERA5_Struct/` directory, you should use the command `rm <filename>` or `rm -r <directoryname>` with appropriate permissions. The permission issue encountered by Dr. Barthel can be resolved by contacting the owner of the files for necessary permissions. - To access the files in the `/anvil/scratch/x-bbarthel/climatedata/30yeartrain/` directory, you should have been granted the necessary permissions if you have the permission from PI (Prof. Sapsis). If not, please contact the owner of the files or the Anvil support team for assistance."
ATS-12903,VASP Module Not Found on Anvil CPU System,"User could not find VASP module installed on the Anvil system, required it for their research, and requested its installation.","The Anvil support staff granted access to both vasp5 and vasp6 modules for the user. The user should verify that they can now access these modules. If the user still cannot access these modules, they are encouraged to respond to this ticket with the issue details. A user guide about Anvil is available at https://www.rcac.purdue.edu/knowledge/anvil for further information on using Anvil resources."
ATS-12798,AnvilGPT Access Request,User requests ANVILGPT access allocation number and intends to use both UI and API for research queries and mathematical reasoning tests.,"To continue using ANVILGPT, an access allocation number is now mandatory. However, it's strongly recommended to transition to PurdueGENAI Studio instead, which provides similar capabilities and is specifically designed for Purdue users. Access the platform using your Purdue credentials at this link: https://genai.rcac.purdue.edu/"
ATS-13042,Miss,"The user does not have a Bypass code for DUO authentication on their Access ID, and they are unable to log in.","The user needs to enroll in DUO with a mobile device or computer, install the DUO App, and configure authentication to use DUO Push. They can find the steps for enrollment at this link: [https://operations.access-ci.org/identity/manage-mfa](https://operations.access-ci.org/identity/manage-mfa). It was noted that there is no enrollment in ACCESS DUO found for 'lpetrus' as of 2025-01-15."
ATS-13214,Need access to VASP on Anvil,User requires access to VASP on Anvil HPC system and needs assistance with adding a license.,"The user should contact RCAC (rcac@osu.edu) for issues related to Anvil and VASP. To obtain access, the user is advised to send an email to RCAC with the specific request. The user has been informed that their license will be added by a team member tomorrow. If further help is required, the user should let the team know."
ATS-16702,Access to $PROJECT on Anvil CPU,User is unable to access the `$PROJECT` directory on Anvil CPU due to a missing permission issue.,"Run the following command to navigate to the project directory:

    ```
    cd /anvil/projects/x-phy250136
    ```

   This issue was caused by an incorrect project group association that has now been resolved. You should be able to access the directory without any issues. If you still encounter problems, please reach out again for further assistance."
ATS-13222,Where to submit the progress report to get the remaining SUs from explore project?,"User is running simulations using SUs on Anvil from the Explore project, has used up half of their allocation, and needs to request additional SUs for the second half.","The user can submit a Supplement for the second half of their ACCESS Credits for the Explore Allocation (EES240132). They should provide a Progress Report that describes how the PI's current/previous allocation was used and summarizes the findings or results. - To do this, follow these steps:
  1. Log in to allocations.access-ci.org. 2. You'll see your project information, or a list of your projects if you have multiple. 3. Click on the ""Credits + Resources"" tab. 4. Click ""Request More Credits."" 5. A ""Manage Your Project"" box will then appear. 6. Click ""Request a Supplement."" 7. Provide the reason you need additional credits. 8. Select ""ACCESS Credits"" as the available resource. 9. Upload your progress report. 10. Submit the form. 11. You will receive an email notification confirming your successful request. Once a decision has been made, you will receive a separate notification. - For detailed instructions, visit: https://allocations.access-ci.org/how-to#request-more-credits
- If the user has any questions in the future, they can submit a ticket at: https://support.access-ci.org/help-ticket"
ATS-13227,Invoking samtools module in a perl script - Purdue Anvil,"User is unable to invoke the samtools module in their Perl script on Purdue Anvil, causing the script to fail.","To resolve this issue, update the Perl command with the path to the singularity-run samtools binary. In the bash script (arima_mapping_3A.sh), add the following lines after loading modules and source ~/.bashrc:

```bash
SAMTOOLS=""/usr/bin/singularity run /apps/biocontainers/images/staphb_samtools:1.9.sif samtools""
perl $COMBINER $FILT\_DIR/${SRA}\_R1.bam $FILT\_DIR/${SRA}\_R2.bam ""$SAMTOOLS"" $MAPQ\_FILTER
```

Please note that this solution assumes the path to the singularity-run samtools binary is ""/usr/bin/singularity run /apps/biocontainers/images/staphb\_samtools:1.9.sif samtools"". Adjust the command accordingly if the path is different. Additionally, refer to the following user guide for further information about using samtools on Purdue Anvil: https://www.rcac.purdue.edu/knowledge/biocontainers/samtools

If you encounter any other issues or have questions, please don't hesitate to reach out."
ATS-13379,SU Balance Discrepancy on Purdue Anvil Cluster,The user's exchange credit allocation balance on the Purdue Anvil CPU is not being reflected correctly on the cluster.,"To resolve this issue, first, ensure that the updated allocation has been received by the system. If it hasn't, resend the allocation AMIE package to Halcyon for processing (command or steps not specified). After verifying that the allocation has been sent, check the cluster balance again. You can view the current allocation by logging in to the cluster and running the command `ssh username@cluster_address` followed by the command `balance account name`. The account name will be replaced with the appropriate account name (e.g., che240218). If the issue persists, reach out to the support team for further assistance."
ATS-5049,Discrepancy between SU balance on ACCESS vs Anvil,Discrepancy between mybalance report and ACCESS website balance for allocation OTH220004,"The issue is due to a bug in the usage reporting process (ATS-5527). It has been confirmed that the name usage reported by the local command `mybalance` should be correct. Users are advised to use this command for accurate balance information. For more details, please refer to the linked communication: [ATS-5527](https://access-ci.atlassian.net/browse/ATS-5527)"
ATS-6992,CAMx model not running ,"User compiled CAMx model but encountered segmentation fault errors during runtime. The run script is located at /anvil/projects/x-atm130003/kiarash/camx/camxv7.2/bench\_inp/runfiles/CAMx\_v7.20.36.12.20160610-11.MPICH3.job\_v2, and the compiled code is at /anvil/projects/x-atm130003/kiarash/camx/camxv7.2/built/CAMx.v7.20.openMPI.NCF4.ifort. The log for the run can be found at /anvil/projects/x-atm130003/kiarash/camx/camxv7.2/bench\_inp/runfiles/slurm-4654227.out.","The exact resolution for this issue is not provided in the ticket message. However, it's escalated to our scientists for further investigation and they will contact the user with a solution when available. In the meantime, users may find helpful resources on the following links related to segmentation fault errors and CAMx compilation process:
   - [CAMx Documentation](http://www.camx.com/resources-documentation)
   - [IFORT Compiler Documentation](https://software.intel.com/content/www/us/en/develop/documentation.html)
   - [OpenMPI Documentation](https://www.open-mpi.org/documentation/)
   - [Libc Documentation](https://man7.org/linux/man-pages/man3/malloc.3.html)"
ATS-12996,How to install R packages,"User is unable to install specific R packages (scatterpie, library(maps), library(mapdata), and library(rworldmap)) in a specified directory and encounters an error message ""Error in library(scatterpie, lib.loc = ""/home/x-lhennelly/Rpackages"") there is no package called 'scatterpie'"".","The user needs to first load the R 4.4.1 version using the command `module load r/4.4.1`. After loading the correct R version, the user can then install the required packages using the following commands:

```
install.packages(""scatterpie"", lib = ""/home/x-lhennelly/Rpackages"")
library(scatterpie)

install.packages(""maps"")
library(maps)

install.packages(""mapdata"")
library(mapdata)

install.packages(""rworldmap"")
library(rworldmap)
```

It is essential to note that the specified directory must exist before running the install.packages command, and the order of installation and loading the libraries may vary depending on the specific package dependencies."
ATS-7607,WARNING: There was an error initializing an OpenFabrics device.,The user is experiencing slow run times due to a WARNING related to OpenFabrics device initialization and UCX performance degradation or data corruption.,"To resolve this issue, the user should add the flag `--mca opal_common_ucx_opal_mem_hooks 1` to their mpirun/oshrun command line when submitting a job using ""srun -n $SLURM_NTASKS exe"". The specific job ID mentioned is 4864168."
ATS-13070,Anvil Black Hole Node,"Job was stuck on CG status and unable to be cancelled after failure, with the issue being associated with a particular node (a343). The node is suspected of being a ""name hole"" node requiring attention.","To terminate the stuck job on the specified node (a343), use the following command:

```bash
scontrol cancel <job_id>
```
Replace `<job_id>` with the actual ID of your job. If the issue persists, consider checking if the node is experiencing high resource usage or issues that need immediate attention from system administrators. It may be necessary to investigate the root cause of why the node is stuck in order to prevent similar occurrences in the future."
ATS-13338,myquota on Anvil does not work properly,The user is experiencing an issue where the {{myquota}} command does not display the relevant information properly in the 'tests' directory on Anvil HPC system.,"To troubleshoot the issue, it is recommended to check if there are any potential issues with files or permissions within the 'tests' directory causing the myquota command to malfunction. Additionally, running the command outside of the 'tests' directory can help determine if the problem lies within that specific directory:

   ```
   myquota home (or any other valid directory)
   ```

   Here is an example of the expected output format for the command:

   ```
   Type Location Size Limit Use Files Limit Use ==============================================================================
   home x-kkeshavarz 221.6MB 25.0GB 0.87% - - -
   scratch anvil 0KB 100.0TB 0% 0k 1,000k 0.00%
   projects x-cis240640 0KB 5.0TB 0% 0k 1,048k 0.00%
   projects x-ees240058 4.9TB 5.0TB 99% 0k 1,048k 0.04%
   projects x-ees240082 16.6TB 160.0TB 10% 276k 1,048k 26%
   ```

   If the issue persists after checking other directories and investigating any possible issues with files or permissions within the 'tests' directory, please reopen this ticket for further assistance."
ATS-13456,"Request access to VASP, license for verification provided by my advisor Emmanouil Kioupakis","User needs access to VASP5 and VASP6 software on the Anvil HPC cluster, and has provided an email address for license verification.",The user's email `<mailto:>` was added to the VASP5 and VASP6 groups on the Anvil HPC cluster. Access will be available within a few hours. The user is advised to check the user guide for VASP calculations on Anvil at [this link](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp).
ATS-13637,Apply for Resouces on Purdue Anvil,Request to add Anvil resource to project EES210015 for running *anvi'o* tool for microbiome research,"To add the Anvil resource to the specified project, follow these steps:

   - Log in to allocations.access-ci.org using your credentials
   - Click on the ""Credits + Resources"" tab
   - Request multiple resources within one exchange by clicking ""Add a resource to your exchange."" - Select the Anvil resource from the list of available resources that appears
   - Enter the required amount of units (e.g., hours or days) for the requested resource
   - Provide a brief justification for requesting the resource, such as the intention to run *anvi'o* tool for microbiome research
   - Click ""Submit for Approval""
   - Confirm the amounts being requested are correct and click ""Submit""
   - You will receive an email notification confirming your successful request. Once a decision has been made, you will receive a separate notification. For more information about Exchange Requests, please refer to: https://allocations.access-ci.org/how-to#exchange-credits

If you have any questions along the way or in the future, please submit a ticket at https://support.access-ci.org/help-ticket"
ATS-6987,Open Fabrics Error when running NEK5000,User is encountering an error initializing OpenFabrics devices in jobs running on HPC Anvil. The issue appears consistently across all jobs for a specific project. No job history or error details were found using slurm commands.,"Investigate the issue further by confirming if the same set of modules (Intel, OpenMPI, and cmake) are loaded during both compilation and job execution. If not, the user should ensure that these modules are loaded consistently for both stages to avoid discrepancies leading to the error messages. The user can try recompiling their application from a fresh copy after loading the necessary modules, then run it again to see if the issue persists."
ATS-11864,Job submission errors on Anvil,Job is not continuing on Anvil HPC and is stuck in the RUNNING state. The user is experiencing errors when submitting jobs with a timeout error message.,"The issue seems to be related to job submission and execution on the Anvil HPC system. To resolve this, you can try the following steps:

- First, ensure that there are no pending or stuck jobs on the node that is causing network congestion or resource exhaustion. You can check for active jobs using the `squeue` command. If necessary, kill any idle jobs with the `kill` command. - Next, try resubmitting the job using the `sbatch` command. Before doing so, make sure that the job script (command) is correct and properly formatted. Also, check if there are any dependencies or requirements for the job that need to be addressed. For example, you may need to load specific modules or set environment variables in your job script. - If the problem persists, it might be due to network issues between the login node and the compute nodes. Check if there is a connectivity issue by pinging the compute node from the login node using the `ping` command. If necessary, consult the system administrators for further assistance. Here's an example of how to resubmit the job:

```bash
sbatch my_job_script.sh
```

Replace `my_job_script.sh` with the path or name of your job script file. Make sure that you have the necessary permissions to submit jobs and that your job script is located in an appropriate directory on the Anvil HPC system. For more information, consult the Anvil HPC documentation: https://docs.rc.utexas.edu/anvil/"
ATS-13178,Access to Anvil (Purdue),"User needs help setting up an account on Purdue's RCAC (Research Computing and Cyberinfrastructure) for using transferred Anvil credits for scaling tests. The user may have an existing username ""x-pxdaniel"" but has not used it before.","To set up an account on RCAC, Purdue, follow the steps below:

- Visit the RCAC User Portal (https://rcac.purdue.edu/user-portal)
- Click on the ""Create a new account"" button if you do not have an account already. - If you believe your username is ""x-pxdaniel"", you may use that, but it's recommended to first check if that account exists by attempting to log in at the RCAC login page (https://login.rcac.purdue.edu). - If you have forgotten your password or need assistance, click on the ""Forgot Password"" link during registration and follow the instructions provided to reset it. - Once logged in, ensure that you have access to your Anvil credits for scaling tests by completing any necessary account setup procedures within the RCAC User Portal."
ATS-13245,Help with installing a program through apptainer  on Anvil,"The user is encountering an issue while installing a program called Aspect using Apptainer, and the installation seems to be having trouble finding a specific file.","Pull the Aspect Docker image as a Singularity/apptainer image by executing the following commands in a terminal:

```bash
git clone https://github.com/geodynamics/aspect.git
cd aspect
singularity pull docker://geodynamics/aspect
```

After pulling the image, create a build directory and navigate to it:

```bash
mkdir build
cd build
```

Execute the following commands within the build directory:

```bash
singularity exec -e ../aspect_latest.sif cmake ..
singularity exec -e ../../aspect_latest.sif make
```

Now you should be able to compile and install Aspect without any problems. When working with Aspect, use the ""singularity exec -e ../aspect_latest.sif"" command instead of ""docker run -it"". This is necessary because Apptainer/Singularity must be used on clusters where Docker cannot be run due to admin permissions."
ATS-13772,Request to Add VASP License to ANVIL Cluster,Visiting Scholar at Purdue University needs VASP license added to ANVIL clusters,"The support team has successfully added the VASP license (license number 23-0006) to user 'x-ksamanta1' on the ANVIL clusters. It may take some time for the license to become effective. The user is advised to try again later if needed, and reach out for further assistance if required."
ATS-13547,“AnvilGPT Access Request”,User requests access to multiple inference systems and needs assistance in changing their RP from IU to Purdue for ACCESS allocation TRA220030.,"To resolve the user's issue, follow these steps:
   a. Confirm access to AnvilGPT team for the requested inference services. b. Change the RP from IU to Purdue for ACCESS allocation TRA220030:
      i. Log in to the appropriate account management system (e.g., Globus, XSEDE, etc.). ii. Navigate to the allocation management page. iii. Find and edit the user's allocation information (TRA220030). iv. Update the Resource Provider (RP) from IU to Purdue. c. Communicate the updated status and access details to the user as soon as they become available."
ATS-13777,Simulation runs are failing with common error,"User encountered an error while running a parallelized simulation on Anvil HPC system with code located in /home/x-jsullivan1/WORK2/arepo. The error was related to the system architecture and occurred in the directory /anvil/scratch/x-jsullivan1/CosmoArkABHRuns/Run\_02\_05\_25\_1. The user had previously successfully compiled and run the code (in October of last year) that is now failing, suggesting the issue was not with the configuration or parameter files.","The issue appeared to be resolved as the user recompiled and re-ran their code today, and it now seems to be running smoothly. It is unclear if this was related to maintenance or something with the machine. The user did not provide specific details on their workflow for reproducing the error. If the user encounters further issues or requires more assistance, they should reach out again."
ATS-9437,Installation Request for NVIDIA Peer Memory (peermem) and GDRCopy Packages on Purdue Anvil,User requires installation of NVIDIA Peer Memory (peermem) and GDRCopy packages on Purdue Anvil system for their research work.,"The engineering team has determined that peermem and GDRcopy can go into service on Anvil g nodes during upcoming maintenance. Anvil h nodes currently have both installed already, and they will be immediately available when those nodes go into service."
ATS-13431, Issue with a job I submitted to Anvil,"Job submitted to Anvil fails consistently with the error ""couldn't find connection."" despite resubmission.","To investigate and potentially resolve the issue, it may be beneficial to access the Gilbreth script mentioned in the ticket. The specific location of this script was not provided in the message, but it is recommended that you locate it for further inspection."
ATS-13465,User removed from resource yet still running jobs against allocation,ACCESS project allocation (cis230083-gpu) is being unintentionally consumed by user Chapparapu despite him having been removed from the project and allocated a different account (cis240662).,"The issue was resolved by fixing a backend problem that allowed user Chapparapu to continue consuming the allocation's SUs after being removed. The system has been updated, and Chapparapu has been successfully removed from the cis230083-gpu allocation. A refund of 201 SUs consumed by this user post removal has also been processed. It is recommended to monitor the system for any further issues and take necessary actions if concerns arise."
ATS-13487,Gromacs version on Anvil,User requests installation of a newer version of Gromacs than the current one (version 2021.2) on Anvil HPC system.,"The most recent available Gromacs version is 2024, which can be tried as an alternative to the older version currently installed on Anvil. It is suggested that the user tests this version to determine if it meets their requirements. If a newer version is expected in February, users will be notified accordingly."
ATS-13696,Unable to SSH into Purdue Anvil RCAC Cluster,"Student was unable to SSH into the Anvil cluster despite following instructions for generating SSH keys correctly and having an ""authorized\_keys"" file in the correct location.",The student should create an SSH key using ssh-keygen on their local computer and then copy the content of the generated key-name.pub file to the ~/.ssh/authorized\_keys file on the Anvil cluster.
ATS-13716,Disk space full,User is unable to copy files due to insufficient space in home directory and wants to know how to resolve the issue or request for an increase in disk size.,"The user can try removing some data from their home directory by deleting unnecessary files or moving them to the scratch or project folder. Specifically, they should remove their ~/.cache directory which is taking around 5GB and their ~/.conda directory which is taking around 9GB. If they need their conda environments, they can move them somewhere else and try activating the environment from the new path. The user can also check hidden directories in their home directory using `ls -name` or `ncdu` command to identify large files for removal. It's important to note that increasing the disk size of home and scratch directories is typically not an option."
ATS-14763,Interactive desktop usage in Anvil-PURDUE cluster,The user is unable to access the Interactive Desktop on Anvil cluster.,"To use the Interactive Desktop on Anvil cluster, you may need to first establish an SSH connection to the node using a terminal application such as PuTTY or Terminal (for macOS and Linux users). Once connected, use the module command followed by the name of the environment you wish to activate. For example:

```bash
module load <environment_name>
```

After activating the desired environment, you can start the Interactive Desktop using a specific command that depends on your cluster configuration. Please consult the documentation provided by your HPC administrators or contact them for guidance regarding the exact command to use in your case. If you encounter issues while connecting or starting the Interactive Desktop, ensure you are using the correct SSH credentials (username and password) and verify that your client is configured properly. Additionally, check for any network connectivity issues between your local machine and the Anvil cluster."
ATS-13436,Installing MOPAC and ORCA on ANVIL,User needs assistance in installing MOPAC and ORCA software packages on the ANVIL High Performance Computing (HPC) system.,"To install MOPAC and ORCA on ANVIL HPC system, follow these steps. First, log in to your ANVIL account using the command `ssh username@anvil.rc.uk`. After logging in, load the necessary modules with the commands: `module load anaconda3/2019.10` and `module load mpi/openmpi/4.0.5`. Now, activate your Anaconda environment with the command `source activate`. To install MOPAC, run `conda install -c conda-forge mopac` and for ORCA, use `conda install -c conda-forge orca`. Once installed, you can access the software from your system's PATH. For more information on using ANVIL, please refer to the [ANVIL User Guide](https://www.rc.uk.net/documentation/anvil)."
ATS-13628,I need access to log into  Purdue Anvil CPU	but I don't have my SSH key,User needs SSH key to log into Purdue Anvil CPU with username x-vrothenb,"To log into Purdue Anvil CPU using SSH, you need to generate a new SSH key or add an existing one to your account. Here's how to do it:

   1. First, ensure that you have no existing keys by deleting any ~/.ssh/id_rsa and ~/.ssh/id_rsa.pub files. 2. Run the following command to generate a new SSH key: `ssh-keygen -t rsa -b 4096 -C ""your-email@purdue.edu""`. Replace ""your-email@purdue.edu"" with your email address associated with your Purdue account. 3. After generating the key, locate the newly created ~/.ssh/id_rsa.pub file. This is your public key. 4. Add the public key to your Anvil account by logging into the Anvil User Management Interface (https://anvil.rcac.purdue.edu/user-management/). Click on ""Add SSH Key"" and paste the content of the ~/.ssh/id_rsa.pub file there. 5. Now, you should be able to log into Anvil CPU using SSH without needing a password. Run the command `ssh -l x-vrothenb anvil.rcac.purdue.edu`."
ATS-14794,Project folder expansion,User Nebojša Bogdanović requests an increase in project folder allocation from 4.9GB to 60TB and SSD space for performance improvement in Relion and cryoSPARC.,"The support team has increased the user's project folder allocation to 60TB, as requested. To check the new quota, users can run the 'myquota x-nbogdanovi' command. Additionally, the user should monitor their account balance for ACCESS credits if they plan to exchange them for Anvil GPU usage. Approval of the exchange is out of the team's control but can be checked with the 'mybalance x-nbogdanovi' command. Users are encouraged to reach out if they have further questions or need assistance."
ATS-13826,ANVIL - Request to build new module for VASP 6.4.3,"Request for building a new module for VASP 6.4.3 due to the lack of recent updates in the current version on Anvil (6.3.0). The tarball is provided in the user's home directory at ""/home/x-jcappola/vasp.6.4.3.tgz"".","To create a new module for VASP 6.4.3, follow these steps:

   a. Log in to the HPC system as your account (e.g., `ssh user@anvil.rcac.mydomain`). b. Navigate to the shared modules directory (e.g., `cd /opt/modulefiles/apps`). c. Download the VASP 6.4.3 source code from the given location using the command: `wget <source_code_URL>`. d. Extract the downloaded tarball using the command: `tar -xvf vasp.6.4.3.tgz`. e. Create a new modulefile for VASP 6.4.3 by copying an existing one (e.g., `cp vasp.6.3.0 vasp.6.4.3`). f. Modify the copied modulefile with the appropriate path to the source code directory and other necessary configurations. g. Submit the newly created modulefile to the modulesystem (e.g., using `moduleproc add <modulefile>` or the appropriate command for your system). h. Once processed, load the new VASP 6.4.3 module using the command: `module load vasp/6.4.3`."
ATS-13635,Unable to write files to anvil,PhD student under the NAIRR program is unable to create or save files in their home directory due to intermittent NFS server connectivity issues with zfs.anvil.rcac.purdue.edu.,"Investigate the NFS server connectivity problems by reviewing system logs using `dmesg` command for repeated entries indicating the server is not responding (e.g., ""nfs: server zfs.anvil.rcac.purdue.edu not responding, still trying""). Address any network issues that may be causing the NFS server to become unresponsive. To ensure successful write operations to the home directory, try restarting the NFS server or contact your system administrator for assistance. If possible, temporarily switch to another home directory or use a local filesystem for writing data during this resolution process. Additionally, keep monitoring the server status and log entries for any improvements."
ATS-13666,Question regarding MPS on Purdue Anvil GPUs,User wants to know if the 'nvidia-cuda-mps-control' command is supported on Purdue Anvil's V100 and H100 GPU nodes for running molecular dynamics simulations with AMBER.,"The user can attempt to enable the MPS daemon themselves by using the 'nvidia-cuda-mps-control' command, which appears to be available on the GPU nodes at Purdue Anvil."
ATS-14029,Temporary increase in number of files in project space for SOC250007,Request for increase in file number limit in a project space for data transfer.,"To resolve the issue, the user's request has been forwarded to the storage team. The user was informed that they should receive an answer by tomorrow morning. In case of any other questions, the user is advised to reach out again."
ATS-14078,File upload to Anvil Workspace Document fails (error 403) ,User was unable to upload documents to AnvilGPT,The issue has been fixed by the support team and the user can now upload files without any problems. No additional assistance is needed.
ATS-14221,Job Submission/Initialization Keeps Failing,"The user is experiencing issues with job submissions and allocation resources under x-dmr180108 and x-eve210010, where the user can only access resources in x-eve210010 despite what their account shows on the allocations portal.","The issue was due to a system outage on Anvil over the weekend, which affected job submissions. The user was advised to log back in and re-try their job submission. This resolved the problem. No specific technical details were provided in the message."
ATS-14223,No access to /anvil/projects/x-ees240082 folder,Unable to access /anvil/projects/x-ees240082 folder,"The user was unable to access the specified folder due to an unknown issue. The suggested resolution was for the user to log in again and retry accessing the folder. No further details or commands were provided, but if the problem persists, the user should contact RC Support for further assistance."
ATS-14238,Cannot see my project directory on Anvil,User is unable to access active projects on Anvil due to an unscheduled outage over the weekend.,"The user was informed that Anvil had an unscheduled outage which may have caused the problem and asked for confirmation if they are still unable to see all their active projects. After confirmation, it was confirmed that everything is back to normal on Anvil. If the user encounters any more issues, they were advised to let the support team know so that the issues can be remedied."
ATS-14366,Unable to access projects directory,"User unable to access Projects Directory on Anvil portal due to a ""Permission denied"" error.","Run the following commands in the terminal:

    - `cd /anvil/projects/x-chm24075`
    - `chmod -R u+rwx x-chm24075`

This will change the permissions recursively for the user on the specified directory, allowing access."
ATS-11469,JDFTx compilation,"The user is unable to compile JDFTx on Purdue Anvil due to header errors related to the source code, specifically with `ManagedMemory.h`.","To resolve this issue, it is recommended that the user contacts the JDFTx code developer for assistance with the header errors. In the meantime, the user can attempt to add the missing include statement (`#include <cmath>`) at line 35 in `BlasExtra.h` file located at `/anvil/scratch/nshan/apps/jdftx/jdftx-1.7.0/jdftx/core/`. The corrected line should read:

```c++
#include <cmath>
```"
ATS-13805,Re: Help with tesseract ocr installation,User Uttam needs to install Tesseract command-line software on Anvil system for an OCR project.,"- First, the support team verified that the user was working on the Anvil system. - Then, they provided the installation command `sudo dnf install tesseract` to the user. - However, upon running the command, the user encountered an issue with Tesseract not found (`bash: tesseract: command not found`). The support team resolved the issue by creating a local folder for software installation and activating a condo environment with `tesseract -v` command. - To make sure that Tesseract was installed, they suggested the user to check the version using the command `tesseract -v`. If everything works well, the user should see the Tesseract version output. - Later, they informed Uttam that they had created a module for easier usage with the command `module load tesseract/5.5.0`. Additionally, they also created a Tesseract environment named `tesseract_env`, which is now available as a Jupyter kernel in Open OnDemand."
ATS-13956,AnvilGPT Access Request,Request for Access to AnvilGPT with Allocation Number TRA120044 and Access Limited to the UI,"To grant access to AnvilGPT with allocation number TRA120044 and limited to the UI, follow these steps:

    a. Login to the HPC system

    b. Load the necessary module for AnvilGPT (e.g., `module load anvilgpt`)

    c. Run the following command to set your allocation ID: `anvilgpt_allocation_set TRA120044`

    d. Launch the AnvilGPT UI with the appropriate command (e.g., `anvilgpt_ui`)

    Please note that you may need to replace the module load command and UI launch command with the correct ones for your specific HPC system. If you require assistance with this, please consult the system documentation or reach out to the HPC support team."
ATS-14011,job running limit,User is encountering a CUDA out of memory error while running a PyTorch job on Anvil.,"The error message suggests that the GPU allocated for the job has run out of memory. To resolve this issue, the user can try to optimize their code to reduce memory usage or consider using a larger GPU allocation with more available memory. In this specific case, the user's current allocation (`soc230021-gpu`) has expired. The support team suggests switching to `soc250017-gpu`, which has 1000.0 GPU SUs. To do so, users can modify their submission script as follows:

```bash
#!/bin/bash -l
#SBATCH --account=<your_new_account>
#SBATCH --partition=gpu
...
```

Regarding the memory error, consider these potential solutions:

- Optimize your code to reduce memory usage. This may involve using more efficient data structures, reducing the batch size, or implementing gradient accumulation. - Check for any unnecessary imports or global variables that could be occupying memory. - If you are using large tensors, try to break them down into smaller chunks and process them in smaller batches. - Make sure to free up memory when possible by calling `tensor.zero_()` or `del tensor` on variables no longer needed. Additionally, consider increasing the GPU memory limit by setting `max_split_size_mb` in your PyTorch script:

```python
import torch
torch.cuda.empty_cache()  # Clear current CUDA tensors from memory
torch.backends.cudnn.benchmark = True  # Enable batch normalization and pooling optimization
torch.backends.cudnn.deterministic = True  # Ensure reproducibility for CUDNN functions
torch.cuda.manual_seed(42)  # Seed for random number generation in PyTorch
torch.random.manual_seed(42)  # Seed for random number generation in torch.nn.Random* classes

# Set max split size to avoid fragmentation
torch.cuda.set_allocator_selector(torch.cuda.Allocator.SYSTEM_ALGORITHM, max_split_size=1024)  # Set max split size to 1GB (adjust as needed)
```

Refer to the [PyTorch Memory Management documentation](https://pytorch.org/docs/stable/notes/cuda.html#memory-management) for more information on memory management and setting allocation parameters."
ATS-14159,Request to increase ANVIL projects storage space - cis220051,Request for an increase in storage allocation for /anvil/projects/cis220051 from 20TB to 30TB.,"The Anvil support team has updated the storage with an increase for the specified directory. The new size limit for the project directory x-cis220051 is now 30TB. Users can check their storage usage by navigating to the home or project directories using the command ""cd"" and verifying the size limit using the command ""du -sh""."
ATS-14191,Request to get priority for job running,"The user, cts190021, needs priority for batch jobs to run due to an imminent program review and delayed progress.","Unfortunately, at the current moment, there are no available nodes in the \\*wholenode\\* queue to allocate for additional resources. The user is advised to check back later as availability may change."
ATS-14219,Cannot access Purdue Anvil project directory: x-bio240060 and x-bio240291,User (x-hli16) cannot access project directories bio240060 and bio240291 on Purdue Anvil due to permission denied error.,"To resolve this issue, you need to verify and modify the permissions for the affected project directories (/anvil/projects/x-bio240060/ and /anvil/projects/x-bio240291/). As a system administrator or project owner, execute the following command on the Anvil cluster to change the owner of the directories:

```bash
chown -R x-hli16:anvil /anvil/projects/x-bio240060/
chown -R x-hli16:anvil /anvil/projects/x-bio240291/
```

After executing the above commands, the user should be able to access their project directories without encountering the permission denied error. For more information on file permissions and ownership, refer to the [Anvil User Guide](https://docs.rc.purdue.edu/anvil-user-guide/#file-permissions). If the issue persists, please reach out again for further assistance."
ATS-14235,Node fail error for jobs,"The user is experiencing repeated failures when trying to run batch jobs on the Anvil cluster, with the error 'NODE\_FAIL' being reported and no output/error file generated in the scratch directory.","The issue experienced by the user is related to a recent unscheduled outage of the Anvil cluster, which caused the 'NODE\_FAIL' error. As the outage has been remedied, the user should now be able to run batch jobs successfully."
ATS-14237,Job Re-queue'ing and NODE_FAIL,"Slurm job is getting re-queued and failing with NODE_FAIL on partition ""wide"" for accounts x-jyamasaki and x-sdai, causing disruption in preparing simulation results for a conference presentation and program review. The issue started at 19:40 Pacific Time.","The issue is due to an unscheduled outage of Anvil that occurred over the weekend. It has been resolved as of now. If you are still facing problems, please contact the engineering team for further assistance."
ATS-14440,Access denied when using VASP on Anvil,Lmod error with VASP module and mpirun unable to find specified executable file,"- The issue reported is that the Lmod software has detected a license error for the VASP module, and that users need to be confirmed by the VASP team before access can be granted. - Additionally, the mpirun command was unable to find the specified executable file (vasp\_std). - To resolve this issue:
  - Ensure that the user has been approved for use of the VASP module under the appropriate license. - Double-check the spelling and correct syntax of the mpirun command, particularly with regards to any parameters or options specified. - Confirm that the vasp\_std executable file is located in the expected directory (/opt/spack/cpu/openmpi/4.1.6-745pfv4/gcc/11.2.0/vasp/6.3.0) and is accessible by the user running the mpirun command. - If necessary, update the module load command to ensure it correctly specifies the vasp/6.3.0 module and loads any required dependencies (e.g., openmpi/4.1.6, gcc/11.2.0)."
ATS-14241,"Unable to cancelled stalled jobs, jobs shows running in onDemand and showing allocation usage","Two Slurm batch jobs running on OnDemand were stalled and unable to be canceled using scancel or through OnDemand, with numerous errors in the error files.","The Anvil support team will issue refunds for the SUs consumed by these affected jobs (9621453, 9621537 for x-sdai account and 9623221 for x-jyamasaki account). The refunded SUs should take effect in a few minutes. However, there are ongoing issues with the 'mybalance' command, but job submission is not affected at this time."
ATS-14245,VASP license issue ,User Gokhan Sensoy is unable to access the VASP code on the cluster due to a Lmod license error.,"The issue appears to have been resolved due to an unscheduled outage at Anvil that has now been remedied. If user Gokhan Sensoy is still experiencing issues with accessing VASP, they should confirm their credentials and license information (full name: Gokhan Sensoy, affiliation: Recep Tayyip Erdogan University, user name: mgsensoy, vasp license number: LICENSE 5-1749, email: [mailto:](mailto:)) with the VASP team to ensure they are registered under that license."
ATS-14452,Access to VASP on Anvil,User needs access to VASP 6.0 on Anvil under Prof. name's VASP license.,"The user was advised to register an ACCESS account and request Prof. name to add them to an active allocation. After doing so, they should have access to VASP on Anvil. The user confirmed they had an access account but had not asked Prof. name to add them yet. Later, the user was added to the vasp5 and vasp6 groups on Anvil, and their membership will be ready within a few hours. The user can find information about VASP calculations on Anvil in the following links:
   - [Anvil: Run Examples - Apps - VASP](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp)
   - [Anvil: User Guide for VASP Calculations](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link)"
ATS-14596,Need java on ANVIL,User cannot run a program on ANVIL that requires java as it appears not to be installed and the JAVA_HOME variable is not set in the environment.,"To resolve this issue, load the conda module and create a virtual environment to install Java. This can be achieved using Conda from the {{conda-forge}} community channel. Here's how you can do it:
   - Load the conda module: `module load conda`
   - Create a new virtual environment (replace ""myenv"" with your preferred name): `conda create --name myenv java openjdk`
   - Activate the created environment: `source activate myenv`
   - Verify that Java is now installed and accessible: `java -version`

For more information about using Conda, visit [the official documentation](https://docs.anaconda.com/anaconda/user-guide/tasks/manage-environments/)."
ATS-12456,AnvilGPT Access Request,User wants to use AnvilGPT on both UI and API for their PhD research project and also plans to utilize LLama3 for prompt engineering.,"To use AnvilGPT on both UI and API, the user needs to ensure that it is properly installed and configured according to its documentation (<https://docs.anvil-project.org/en/latest/>). For using LLama3 for prompt engineering in their research project, they should follow the installation guide provided by LLama3's official repository (<https://github.com/huggingface/llama>). If the user encounters any issues during the setup or usage process, they are encouraged to reach out to RCAC support for assistance."
ATS-12791,ABAQUS license on anvil,Unable to run Abaqus jobs on Anvil due to a licensing error despite having access through ECN (Purdue Grad Student).,"Wait for a response from the ECN regarding the licensing issue. In the meantime, ensure that the installation of Abaqus is correct and functioning without issues for your account. If the problem persists after receiving the response from ECN, try reinstalling or resetting the license for your Abaqus installation on Anvil."
ATS-13874,unable to see the project,"The user (x-mgsensoy) is unable to see project MAT250002 in Purdue Anvil CPU when connecting, indicating potential access issues.","It appears that the user's access for project MAT250002 was not fully processed when initially added a month ago. To resolve this issue, the user should repush their addition. After doing so, the user should regain access and be able to see the project in Purdue Anvil CPU."
ATS-13923,Installing Psi4 Quantum Chemistry package,"User Harindranath is experiencing issues while installing the Psi4 Quantum Chemistry package on their Anvil account, specifically during the installation process using both the source method as well as Conda.","To resolve this issue, follow the steps below:
   - If you are having trouble installing PSI4 from source, refer to the guide provided by Psi4 (<https://psicode.org/psi4manual/master/index.html>). - For Conda installation, check out the user guide for Anvil's conda packages available at Purdue RCAC (<https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/python/packages>)."
ATS-14072,File Permission Change Request,Change file permissions in /anvil/projects/tdm/corporate/pu-athletics-tick/2023/Holloway to allow all users read and write access due to a team member departure.,"To change the permissions for all files within the specified directory, navigate to it using the command `cd /anvil/projects/tdm/corporate/pu-athletics-tick/2023/Holloway`. Execute the following command to give read and write permissions to all users recursively:

```bash
chmod -R u+rw,g+rw . ```

This command will update the permissions for the current directory (.) so that the owner (u) is given read (r) and write (w) access, as well as all group members (g) also having read and write access. The recursive (-R) option ensures that this change is applied to all files and subdirectories within the specified directory."
ATS-14077,AnvilGPT Access Request,Request for access to AnvilGPT for UI and API usage by RCAC employee,"Your request for access to AnvilGPT has been approved. You may now utilize both the user interface (UI) and API for coding purposes. For any questions or further assistance, please do not hesitate to contact us. [No specific technical details were provided in this message]"
ATS-14133,Purdue Anvil BioContainer Help - request newer version of a nextflow module/biocontainer,User requires a newer version of the Nextflow module on Purdue Anvil to run the blobtools2 pipeline as the currently available versions do not meet the minimum requirements.,"To install the latest version of Nextflow in your home directory, follow these steps:
   ```
   module load openjdk
   cd ~
   curl -s https://get.nextflow.io | bash
   mkdir -p $HOME/.local/bin/
   mv nextflow $HOME/.local/bin/
   nextflow -version
   ```
   This will place Nextflow in your local `$HOME/.local/bin/` directory, allowing you to manage updates independently."
ATS-14273,No access to project directory,"User is unable to access files on the Anvil HPC system due to a ""Permission denied"" error when using the ondemand module for project x-mch240064. The issue persists despite previous attempts to resolve it and a recent Anvil dashboard maintenance.","To resolve this issue, please follow these steps:
   - Log into your Anvil HPC account. - Try accessing the project directory again using the ondemand module:
     ```
     module load ondemand
     cd /anvil/projects/x-mch240064
     ```
   If you still encounter the ""Permission denied"" error, it's possible that your permissions for this project have not been correctly set. In this case, please contact the Anvil HPC administrators to request the necessary permissions. They can typically adjust permissions within 24 hours. For more information about how to reach the Anvil support team, consult the [Anvil Support documentation](https://www.anvil-hpc.org/support)."
ATS-14292,Storage issue,"The user's HPC storage limit was exceeded during the installation of an ollama model, preventing them from accessing any apps on Anvil.","To resolve this issue, the user needs to free up some space in their HPC storage. They can do this by deleting unnecessary files or temporarily moving files to another location. However, specific steps may vary depending on the file system and tools used. For more information about managing storage on Purdue's HPC system, please refer to the documentation available at: https://service.purdue.edu"
ATS-14293,Job run in ANVIL,"Multiple HPC jobs (IDs: 9622424, 9622377, 9622422, 9622386, 9622379, etc.) failed to run and were requeued last Thursday, February 21, 2025.","The issue was resolved by an unspecified action taken by the support team at Purdue IT. It is now confirmed that the jobs are running without any errors. If similar issues occur in the future, it may be beneficial to resubmit the jobs. However, it is not specified whether the underlying problem has been addressed or not. For more information, please refer to the official website of Purdue IT: [https://service.purdue.edu](https://service.purdue.edu)"
ATS-13517,Unable to install any version of nektar++ software in anvil,Unable to compile Nektar software version 5.7.0 on the HPC system,"To resolve this issue, follow these steps:

   - Load the necessary modules required for compiling Nektar. This includes Intel, CMake, Intel MKL, FFTW, Boost and enable MPI (Message Passing Interface) and FFTW (Fastest Fourier Transform in the West) during the compilation process:

     ```
     module load intel cmake intel-mkl fftw boost
     export I_MPI_DEBUG=2
     ```

   - Once the necessary modules are loaded, navigate to the Nektar software directory and attempt to compile it using CMake. For example, if you have downloaded the software into a directory called `nektar-v5.7.0`, execute these commands:

     ```
     cd nektar-v5.7.0
     mkdir build && cd build
     cmake -DCMAKE_BUILD_TYPE=Release ..
     make -j8
     ```

   - If the compilation still fails, check for any error messages that indicate specific issues with the compilers or dependencies. For instance, you may need to reload the required modules or update certain software components. It is also recommended to refer to the Nektar documentation (<https://www.nektar.info/getting-started/repository/>) for detailed information on building and installing the software."
ATS-14442,"Please can you extend my time on running job ID: 9665892. This is a genome assembly run, I have requested the maximum time on the queue but I am running out of time at this stage. Please would you be able to extend it ",The user (Dominique) needs an extension of time on job ID: 9665892 as the genome assembly run is running out of time.,"Edit the Flye command in your Slurm script and add the `--resume` option to resume the job from where it left off. Unfortunately, since the job has ended, a walltime extension cannot be provided for this run. However, for future runs, please notify the support team here and they will extend the walltime accordingly. The user should resubmit the edited job script without notifying the support team unless there is an issue with the submission."
ATS-14516,Incorrect usage for for Purdue Anvil CPU,"The user has noticed an unusually high usage of SU's on their Purdue Anvil account due to a job (Job\_id=8022348) that ran for an extended period and consumed over 3M SUs. This has caused the user's allocation EAR160027 to run out, preventing them from running jobs on Anvil.","To resolve this issue, the HPC administrator should investigate the job with the Job\_id=8022348 and verify if it ran for an unintended duration or consumed excessive resources. If necessary, the administrator may need to terminate or adjust the job settings to ensure it is running efficiently. Additionally, the administrator might consider extending the user's allocation EAR160027 to provide the required computational time to complete their work for this month."
ATS-14524,AnvilGPT Access Request,User bkeene and mfakhan seek access to both UI and API of allocation CIS240473 for comparison purposes with AnvilGPT against other solutions.,"Provide access credentials for both the User Interface (UI) and Application Programming Interface (API) for allocation CIS240473 to users bkeene and mfakhan. Inform them that they can start using these resources, and advise them to reach out if they have any questions."
ATS-14788,need to extend time limit on job for 9883785 x-olsonman,User needs to extend the time limit for a job that has already started running in an HPC cluster.,"To extend the time limit for a job with ID 9883785, use the following command:

```bash
scontrol update jobid=9883785 TimeLimit=+48:00:00
```

This command will extend the job's time limit by 48 hours (2 days)."
ATS-8630,Network connection to tool session pods on nanohub is slow,"The network connection between nanohub.org and Anvil pods is slow for tool sessions, causing delays up to 5 minutes or more. The performance has improved over the past few days due to a gradual rollout of tool sessions, but it's unclear if the issue is related to the network or the exechost being overwhelmed.","To optimize the network for faster user performance, consider the following steps:
   - Monitor CPU usage on the exechost and adjust resource allocation as necessary to prevent overloading. - Gradually roll out tool sessions to manage user load and avoid overwhelming the system. This can be done by distributing tool session creation among groups of 10 to 15 students. - Investigate potential network bottlenecks. If needed, consult with networking experts or refer to relevant documentation available at http://nanohub.org for guidance on troubleshooting network performance issues."
ATS-9003,Prometheus monitors don't show data,"The user is experiencing periodic blanking and a ""server error: 503"" on memory usage and CPU dashboards for the nanohub deployment in Anvil, which makes monitoring difficult.","Increase the memory allocated to one of the Prometheus components by 2x to prevent OOM kills. This should help reduce the occurrence of blanking dashboards and the ""server error: 503"" during monitoring."
ATS-9687,Notification of upcoming PVC expansion in Anvil,"The user is experiencing errors with the NodeExpandVolume for PVC ""pvc-fb06da00-c68c-497f-803b-a268aa4e9d2f"" when expanding the volume on nanohub-home. The error message indicates that the CSI plugin ""kubernetes.io/csi/rook-ceph.cephfs.csi.ceph.com"" doesn't support node expansion, but the issue does not seem to impact performance significantly.","To resolve this issue, the user should restart all pods that are using this problematic PVC. This seems to be a known bug in the current version of Rook being used. After restarting the pods, the volume should properly resize and the NodeExpandVolume errors should stop appearing."
ATS-11901,I cannot submit my script as sbatch ,The user is experiencing a QOS error when submitting a GPU job due to an incorrect partition specification in the submission script.,"To resolve this issue, specify the partition as ""-p gpu"" in the submission script. For more information, refer to the following page: https://www.rcac.purdue.edu/knowledge/anvil/run/examples/slurm/gpu. Here's an example of the correct submission script line for the partition:

```bash
#SBATCH -p gpu
```"
ATS-12097,Transfering Fortran software to Anvil ,"User is unable to compile and run a Fortran-based software on Anvil due to issues with the required libraries and modules, specifically the version of intel compilers.","To resolve the issue, the user should try using one of the available versions of the intel compilers on Anvil: * intel/19.0.5.281 * intel/19.1.3.304 * intel/2024.1. Modify the compiler bash file located at ""/home/x-armkian/boundarylayer\_DNS/v013/compile.sh"" to adjust for the new version. If necessary, seek assistance from Anvil Application Team or visit Anvil Support Hour for further guidance."
ATS-12714,Software install request,User reports that GAMESS is not installed on ANVIL cluster and requests its installation.,"To install GAMESS on ANVIL, the user was asked to follow these steps:
   - Log into the ANVIL cluster using ssh (not provided in the message)
   - Navigate to the scratch folder `sinteractive -N1 -n128 -t 8:00:00` and create a directory for GAMESS if not already present
   - Download the GAMESS source code from the specified location (not provided in the message) using `tar xvf gamess-current.tar.gz`
   - Navigate into the downloaded directory `cd gamess/`
   - Unload any existing module related to compilers, MPI, and MKL using `ml --force purge ml gcc/11.2.0 openmpi/4.1.6 intel-mkl/2020.4.304`
   - Load the required modules for the build process: gfortran, mpi, and openmpi (not provided in the message)
   - Run the configuration script `./config`, entering the target machine name as 'linux64', GAMESS directory, build directory, and version number
   - Provide MKL pathname and MPI library location (specified in the message), and choose options for building GAMESS with OpenMP thread support and other optional features. - Run `make ddi` to compile GAMESS, followed by `make -j128` to speed up the build process using multiple cores."
ATS-13277,Quota on Anvil project,"The user's HPC project is using more disk space than expected due to block size allocation inefficiency, and the increased quota is not solving the problem.","To resolve the issue of excessive disk usage, bundle small files into tarballs (compressed archives) to eliminate per-file block overhead. This could save terabytes of space immediately. Additionally, the user can find small files using the command: `find . -type f -size -1k -exec ls -lh {} \; | sort -k5h`. To remove users' files after they leave the group/project, the PI of the allocation needs to grant write permission. The storage team will have to address the quotas being out of sync as a long-term solution, but in the meantime, they have doubled the project folder quota to 10TB as a workaround. If the disk quota reaches 100% again, the user should reach out to the support team for further assistance."
ATS-13616,Creating Project/Namespace on Anvil composable.,"Request to create an Anvil project for the approved CIS250069 project with required specifications of 64 CPU, 256 GB memory, and 4 TB storage. The user lacks permission to do so.","To resolve this issue, create a new Anvil composable project for the CIS250069 project with the specified resources (64 CPUs, 256 GB memory, and 4 TB of storage). Grant the appropriate permissions to the user by updating the Anvil project access settings. The user should then be able to manage their project accordingly."
ATS-14007,Anvil faulty node,"User experienced ""Uncorrectable ECC error"" when training on node g-008 and suspects hardware failure.","Investigate node g-008 for possible hardware failure. If the issue persists, consider requesting a replacement or repair of the node to resolve the ""Uncorrectable ECC error""."
ATS-14031,Follow-up on Ticket ATS-11740 - Job Priority Issue for MTH210005,"The user, Liyao, has been experiencing persistent low job priority for GPU jobs submitted under project MTH210005 since last October. This issue has significantly hindered their ability to run GPU jobs and heavier workloads. The user suspects that the queueing system may not be correctly enforcing the priority policy.","Engineers at RCAC are discussing a change in the job priority calculation method to better prioritize jobs. The new method will balance wait time, fair share, and job size equally when determining a job's priority. The user has been informed that changes have been made, and they should see improvements in their job priority."
ATS-14062,Regarding importing larger language model in anvil,"A graduate student at Purdue is unsure if the Anvil HPC cluster can handle large-parameter models (e.g., Llama 3.1 405b and Deepseek r1 670b) for fine-tuning, and wants to know if it's possible to finetune these models on the Anvil cluster itself instead of uploading them from another source.","The student should be able to request a large model to be uploaded to AnvilGPT at <https://anvilgpt.rcac.purdue.edu/auth/>. However, any large models (such as Deepseek-671b) need to be reviewed by the Lead Data Researcher, name. If the student is able to work with moderate-sized 70b models provided on Anvil, there would be no issue. For finetuning a Llama 3.3 70B model on the Anvil cluster itself, the support team will get back to the student once they have more information about what's available on AnvilGPT and the specific model details. It's important to note that Purdue RCAC prevents users from storing HIPAA data on non-encrypted or common access storage solutions such as Data Depot. For more info, see <https://www.purdue.edu/legalcounsel/HIPAA/>."
ATS-14184,install FLAIR,User is trying to install FLAIR (https://github.com/BrooksLabUCSC/flair) on Anvil following the documentation provided at https://flair.readthedocs.io/en/latest/requirements.html,"Follow the steps outlined in the Flair documentation (<https://flair.readthedocs.io/en/latest/requirements.html>) to install it independently. If you encounter any errors during installation, reach out for further assistance."
ATS-14270,No permission access to a directory,User cannot access the directory \\_/anvil/projects/x-cis220051/dashboard and requests either restored permissions or a copy of its contents to their home directory.,"Restore user's access to the directory \\_/anvil/projects/x-cis220051/dashboard by modifying permissions, or provide instructions on how to copy the contents from that directory to the user's home directory (using commands like `cp -r <source> <destination>`). If necessary, include details for accessing and using the Purdue IT Service portal at https://service.purdue.edu/ for further assistance."
ATS-14272,trouble accessing project directory,"User cannot access the new project directory in Anvil CPU while the old one is displayed when navigating through the account interface, but both projects can be seen using `myquota` or `myallocations` commands.","To access the new project directory in Anvil, use the `module load <module_name>` command to load the desired module for the new project. After loading the module, you should be able to navigate to the correct project directory using the file path or a command like `cd <project_directory>`. Additionally, you can check if the correct environment variables are being set by running `echo $PROJECT` and ensure that it returns the new project's name. If necessary, update your environment variables accordingly. For more information on Anvil, please refer to the Purdue IT documentation at [this link](https://service.purdue.edu/)."
ATS-14279,about Anvil machine,"The user is experiencing issues with Anvil, specifically with their balance not being corrected and missing jobs on the dashboard since last Friday. The user is unsure if the problem lies with Anvil or their account.","To investigate the issue, first, check your account balance and job status on the Anvil dashboard. If the problem persists, contact Purdue IT for further assistance. For general inquiries and support, you can refer to the [Purdue IT Service Portal](https://service.purdue.edu/). If you need immediate assistance, re-open this ticket within the next 7 days if required."
ATS-14337,Unreasonably high usage for Purdue Anvil CPU,"High usage of Purdue Anvil CPU resources by account, leading to computational time exhaustion and loss of allocation. This issue is suspected to be related to a system outage that occurred last Friday.","The HPC team is investigating the cause of the high resource usage on the account. If the issue is found to be due to node failures, the SUs will be refunded. The user has been informed and kept updated regarding the progress of the investigation. The team has also refunded the SUs to the user's allocation in question. Users are encouraged to reach out for any additional questions or concerns."
ATS-14503,Storage Issue,"First-time Anvil user is unable to access Scratch Anvil and Projects X-bio250049 storage, and their quota is insufficient for required tasks.","To access the Scrchat Anvil and Projects X-bio250049 storage, navigate to your home directory by using the following command: `cd ~`. To view the directories for Scratch Anvil and Projects X-bio250049, use the `ls` command. If the user's quota needs to be increased, they can submit a ticket to RCAC Support at https://service.purdue.edu. It may take up to a couple of business days for a response."
ATS-14509,Issues with Job I submitted,Job submitted in Anvil HPC system is taking more than 48 hours to run and has not produced any results.,"Check job status in Anvil HPC system. If the job has completed but no output or error messages have been reported, investigate potential issues with the job script or resource allocation. If necessary, re-submit the job after correcting any identified issues. If the job is still running or has not started yet, check if there are any resource conflicts or queue backlogs that may be causing delays. If needed, consult Anvil documentation for guidelines on troubleshooting job submission and execution issues: https://docs.hpc.example.com/anvil-documentation/job-submission.html"
ATS-15425,Jobs submission issue,The user's job submission seems to be experiencing a delay or failure due to incorrect resource allocation and qos specification in the srun command.,"The user should modify their srun command to include their account (`-A your_account`) and specify the partition correctly, as shown below:

    ```
    $ sinteractive -A rcac -p shared --mem 160G -N1 -c32 -t 05:00
    ```

    Additionally, it appears that there was a misunderstanding about the requested walltime. The user should ensure they are using the correct time format (hours:minutes:seconds) and adjust the requested time accordingly. In this case, the user requested 10 hours:

    ```
    $ srun -p shared --mem 160G -c 32 -t 0-10:00:00 --pty bash
    ```

    If the problem persists after making these changes, it might be a good idea to check the system's job queue or consult with the system administrators for further assistance."
ATS-14697,Request for Increased Job Runtime & Installation of Yambo 5.3.0 on Anvil,"- Request for increasing the maximum job time on Anvil HPC system
   - Request for installation of Yambo 5.3.0 on Anvil HPC system","- To accommodate longer runtime requirements (several weeks) due to extensive DFT-based calculations, implement checkpointing into the program periodically writing files that your program is able to restart from, picking up where the last one left off. This way, even if something unexpected happens, you're able to restart from a midway point instead of losing weeks of work. - For installing Yambo 5.3.0, users have write access to their areas on Anvil HPC system and are capable of downloading and installing it themselves. If assistance is needed in doing that, it can be provided upon request. The latest version of Yambo 5.3.0 can be found at https://www.yambo-code.eu/download/: <https://nam04.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.yambo-code.eu%2Fdownload%2F&data=05%7C02%7Crcac-help%40purdue.edu%7Cb0fd1e86d7b34f58fa4b08dd5db3ed95%7C4130bd397c53419cb1e58758d6d63f21%7C0%7C0%7C638769750077056069%7CUnknown%7CTWFpbGZsb3d8eyJFbXB0eU1hcGkiOnRydWUsIlYiOiIwLjAuMDAwMCIsIlAiOiJXaW4zMiIsIkFOIjoiTWFpbCIsIldUIjoyfQ%3D%3D%7C60000%7C%7C%7C&sdata=e6k1XoV%2BHmac9O%2BZpBBLSjx8pMIXBkx3e%2FJlIogEXQ0%3D&reserved=0"
ATS-14701,Open Demand for Purdue Anvil is not opening after loggin in - give 403 Forbidden error,User is unable to access OpenDemand portal on Purdue Anvil supercomputer due to a 403 Forbidden error.,"Try logging into the OpenDemand portal again. If the user still encounters the 403 forbidden error, the issue should have been resolved by now and it may be safe to try again."
ATS-14722,Job submission limited to 2,User needs to run more than 2 jobs simultaneously on the RCAC system's Anvil account with highmem and shared nodes for project EES240045.,"To run more than 2 jobs simultaneously on the RCAC system's Anvil account, you can utilize the Slurm batch system. Here are some steps to submit additional jobs:
    - Prepare your job scripts (.sbatch file) and ensure they are located in your home directory or a shared project directory. - Submit the jobs using the 'sbatch' command followed by the script name. For example, `sbatch my_script.sbatch`. - Check the status of your jobs with the 'squeue' command. - If you require more resources, you can adjust your job requirements in the .sbatch file, such as increasing the number of cores or nodes, and then resubmit the job using the 'sbatch' command again. Additional Resources:
- Slurm documentation: <https://slurm.schedmd.com/documentation.html>
- RCAC User Guide: <https://rcac.purdue.edu/userguide/>"
ATS-14781,Unable to access VASP on Anvil,Postdoc at University of Delaware is unable to run VASP jobs on Anvil HPC at Purdue through NSF Access credits due to missing VASP access.,"To resolve the issue, the user should provide their email address associated with their VASP license. The support team will then validate the license and add the user to the appropriate groups on Anvil (`vasp5` and `vasp6`) for accessing VASP. This process may take a few hours. In the meantime, the user can refer to the user guide for VASP calculations on Anvil at this link: [Anvil User Guide for VASP Calculations](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp)"
ATS-14890,Access to VASP on the Anvil cluster,Request for access to VASP on the Anvil cluster,The user has been granted access to VASP on the Anvil cluster. They have been added to the vasp5 group and their membership will be ready within a few hours. The user is advised to check the RCAC Purdue University user guide for VASP calculations on Anvil at https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp. Another useful resource can be found at https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link.
ATS-14906,Jobs pending for long time,Job submission (9887973 and 9887974) with a long wait time in pending status for 5 days before being canceled and resubmitted with a shorter running time. User is seeking clarification on whether the long wait time was due to priority or other errors.,"The wait time for a pending job depends on the amount of resources you request from the scheduler. When you reduced the requested time, the job was allocated more quickly."
ATS-15015,We started a renewed allocations and the queue waiting time is unusually long,"User experienced unusually high queue waiting time on Anvil HPC cluster when submitting GPU jobs with Discover allocation, despite having sufficient credits and no changes in account names or scripts.","The user may be encountering longer queue times due to increased demand for resources associated with the Discover allocation compared to the Explore allocation. It is recommended to check the current state of the cluster and adjust job submission strategies as needed. For instance, modifying the job priority, adjusting resource requests (e.g., number of cores or GPUs), or submitting jobs during off-peak hours may help reduce waiting times. Additionally, monitoring the system's resource usage and available slots can provide insights into when it is best to submit jobs for optimal execution times."
ATS-15035,Increase total run time limit,"User's MD simulations on Anvil's GPU take around 4 days per run, but the Slurm job submission script allows only a maximum of 48 hours. This results in the user waiting for an extended period before their job runs. They request an increased walltime limit to reduce this waiting time.","Unfortunately, we cannot extend the walltime for jobs on Anvil as the GPUs are shared among all users. The limit is set to ensure that each user has a chance to run their jobs with GPUs on Anvil. Users may need to optimize their simulations or adjust their workload accordingly to minimize waiting times."
ATS-15379,software,User encountered issue with software installation on HPC cluster.,"The user should follow these steps to install the required software on the HPC cluster:

   a. First, log into the HPC cluster using ssh. b. Navigate to the home directory (~) using the command `cd ~`. c. Load the appropriate module for the software by typing `module load [software_module_name]`, replacing ""[software_module_name]"" with the actual name of the software module. If you're unsure about the correct module name, consult the HPC documentation or contact the system administrators. d. After loading the module, initiate the installation process by executing the relevant command for your operating system and software package. For example, if using a Linux distribution and installing the GNU Compiler Collection (GCC), you can use the command `sudo yum install gcc`. Again, replace ""gcc"" with the appropriate software name when applicable. e. Verify that the installation was successful by checking the version of the installed software. For example: `gcc --version` or any other suitable command for the specific software you're using."
ATS-14961,Queue times on Anvil,User is experiencing longer than usual wait times for their jobs on Anvil at Purdue with single-CPU node requests that have not started in the last two weeks.,"The issue was due to a blockage caused by the Slurm's ""Fair Share"" system, where certain requests were allocated based on some rules but caused some users to experience long wait times. The team has made changes to resolve this issue, however, there is currently still a large reservation of 512 nodes today. The user should check if the issue persists tomorrow and will be notified if further action is required."
ATS-15277,Job Requests Pending Approval for Extended Periods,Delay in processing job requests on Anvil through Jupyter Hub.,"To resolve this issue, please provide your previous ticket ID and JobID to the support team for further investigation. Once the support team has analyzed the issue, they will respond with a solution."
ATS-15316,Purdue Anvil: Require guidance using RAM efficiently,"The user is unable to run the ""Screen the genome"" step of FCS-GX genome decontamination efficiently on Purdue Anvil due to insufficient RAM.","To resolve this issue, it is recommended to use the highmem partition on Purdue Anvil, which offers nodes with ~1 TiB RAM. The user can submit their job using a SLURM script similar to the following:

```bash
#!/bin/bash
#SBATCH --job-name=FCS_GX
#SBATCH --partition=highmem
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=48  # Adjust as needed based on the number of CPU cores available on your node
#SBATCH --mem=512000  # In Megabytes, adjust as necessary to suit your exact requirements

module load singularity
singularity exec --nv fcs-gx.sif fcs-gx <arguments>
```"
ATS-15380,software installation,"User inquired about making the Globus CLI, SDK, and REAST APIs available without installation in user home or project space.","In accordance with Purdue RCAC's software installation policy (<https://www.rcac.purdue.edu/knowledge/anvil/policies/software_installation_request_policy?all=true>), Globus CLI, SDK, and REAST APIs are considered self-installable software in a user's home directory or project space rather than software that the support team makes available to all users. If assistance is required for installation, the user is encouraged to ask questions about the process."
ATS-15542,Unable To Find Purdue Anvil Login,"User unable to login to Open OnDemand on Anvil due to error message ""can't find user for x-hhale"".","Log back in to Open OnDemand at https://ondemand.anvil.rcac.purdue.edu/ using your ACCESS username and password. If you encounter the error again, it is recommended to try logging in again as there was an issue with the backend for populating user data onto Anvil which has now been resolved."
ATS-15644,project folder permission denied,User Wenliang is unable to access the project folder.,"The issue has been resolved by Anvil team's engineer. Users are advised to try accessing the project folder again. If further assistance is required, please contact us. For more information about related news, you can refer to this link: https://www.rcac.purdue.edu/index.php/news/7098"
ATS-15654,Cannot run a usual code due to a sudden missing of a library,"The Slepc library (version 3.19.1) is missing when running a code in the specified directory, causing an error during shared libraries loading.","To resolve the issue, ensure that the system has access to the repository containing the Slepc library at `/anvil/projects/x-phy130027/libraries/slepc\_3.19.1/gcc\_11.2`. Verify if the permissions over the cluster have been correctly restored, as there was a reported problem earlier. If the issue persists, it may be necessary to rebuild or install the Slepc library on the system. For more information about building and installing Slepc, refer to the official documentation at: https://www.mcs.anl.gov/research/projects/slepctutorial/documentation/install-guide.php"
ATS-15655,Permission Denied for my projects,"User cannot log into the Anvil Cluster using ssh or the OnDemand website and receives a ""permission denied"" error. Additionally, the user needs to install the bpp program for phylogenomics work.","To resolve the permission issue, the user should first log into the Anvil Cluster via SSH using the command `ssh username@anvil-login.rcac.purdue.edu`. Once logged in, run the command `module restore default` to ensure the default modules are loaded. Next, navigate to the project directory with the command `cd /anvil/projects/x-bio240265/`. If you still encounter permission issues, use the `chmod` command to change the permissions of your files and directories as needed (e.g., `chmod 755 filename` or `chmod 755 directoryname`). To install the bpp program, follow the instructions provided in the GitHub repository:
- Clone the repository using the command `git clone https://github.com/bpp/bpp.git`. - Navigate to the cloned repository with the command `cd bpp`. - Build and install bpp by running the commands `cmake .`, `make -j8` (replace 8 with the number of CPU cores available on your machine), and then `make install`. If you encounter any errors during this process, consult the documentation provided in the repository or reach out to the bpp developers for assistance. For more information about using the Anvil Cluster and troubleshooting common issues, visit the RCAC news article at <https://www.rcac.purdue.edu/index.php/news/7098>."
ATS-15657,Can't acess project folder,User `x-aklein2` cannot access the group project folder `/x-mcb130189`.,"Run the command `module load rhpc`, then try to access the group project folder again (e.g., using `cd /x-mcb130189`). If you still encounter issues, please refer to these resources for additional help: [Link 1](https://www.rcac.purdue.edu/index.php/news/7098) and [Link 2](https://www.rcac.purdue.edu/index.php/news/7098)."
ATS-15658,anvil project storage not available,User x-mlesniewski is unable to access data located at /anvil/projects/x-che170062 from their shortcut in /home/x-mlesniewski due to permission errors.,The issue has been resolved by one of our engineers. Users experiencing the same problem can try accessing their data again.
ATS-15663,Loss of access to projects directory,User lost access to the /anvil/projects/x-phy990002/x-aravishankar directory for simulations on Anvil.,"The engineer has worked on the issue and the user is advised to try accessing the directory again. If further assistance is required, please let us know. For more information about this issue, refer to this news article: <https://www.rcac.purdue.edu/index.php/news/7098>"
ATS-11796,AnvilGPT Access Request,"Software Engineer at Cancer Center, FL, US is seeking access to both UI and API of AnvilGPT for integration into their tool for Galaxy Bioinformatics platform to offer free large language model (LLM) access to data scientists across thousands of universities and hospitals.","To provide access to AnvilGPT's UI and API for the specified user, the account allocation number should be provided by the team managing AnvilGPT. Once the allocation number is obtained, the user can utilize the tool as intended within their project on Galaxy Bioinformatics platform. The modality of use (API, UI, or both) will depend on the specific requirements of the user's project. For more information about AnvilGPT, please visit https://anvil.app/ (UI) and <AnvilGPT API documentation URL if available> (API). If you have any further questions or need assistance, feel free to re-open this ticket within the next 7 days."
ATS-12290,VASP license permission,User with ACCESS ID: wenhaosun requires permissions to submit VASP jobs on Anvil due to having a valid VASP license.,"To resolve this issue, the user should have their PI add them into a valid VASP license first. Once added, the user's valid vase license can be verified on the VASP community portal, which will then allow Anvil to update the user's account with permissions for VASP job submissions."
ATS-12815,"Process keeps getting ""Killed"" on debug nodes for Purdue Anvil","User is unable to allocate sufficient memory for experiments on Anvil debug nodes, resulting in ""Killed"" system message despite not hitting apparent resource limits as shown by ulimit output.","To further investigate this issue and possibly resolve the memory allocation limitation, it would be helpful to have the job ID for tracing the resource usage during execution. If the user is unable to provide the job ID, alternative methods for investigating memory usage on Anvil debug nodes can include:
   - Examining the job submission script or environment settings for any explicit memory limits. - Using tools such as `top` or `htop` to monitor real-time system resource usage during the experiment's execution. - Checking the system logs (e.g., /var/log/messages, /var/log/syslog) for related error messages. - If necessary, consult the documentation on Anvil's memory allocation settings and troubleshooting guidelines ([Anvil Memory Allocation Documentation](https://example.com/anvil-memory-allocation))."
ATS-13584,SMB passthrough not working with QEMU?,"The SMB passthrough with QEMU is not working for the Windows 11 application on OOD, preventing access to the Anvil Home directory. This issue has been experienced before (see ATS-6916).","To reproduce and troubleshoot the issue, follow these steps:
   - Launch the ""Windows 11 Professional"" VM on https://ondemand.anvil.rcac.purdue.edu:
   - Enter the password ""rcacuser23""
   - Double click on the Anvil Home directory shortcut
   - The error can be observed if access to the home or scratch directory shortcuts is not working as expected. - Please note that issue ATS-6916 might provide some useful information regarding this problem. - Once the team has fixed the problem, please try again and let them know if you need more help."
ATS-14810,Job starting but not running,"The user is experiencing issues with running simulations on Anvil HPC, specifically with the Slurm job submission not executing beyond initial steps or terminating due to cancellation or timeouts.","To resolve this issue, it is recommended to check if the job has been cancelled or exceeded its specified wall time limit. If the job has ended due to these reasons, ensure that you have adjusted the runtime parameters in your Slurm script accordingly to prevent premature termination of your simulations. For instance, you can modify your Slurm script by updating the `--time` and/or `--mem` options:

```bash
#!/bin/bash
#SBATCH --time=3-00:00:00  # Set runtime (hours:minutes:seconds)
#SBATCH --mem=16000       # Set memory allocation per node (Megabytes)

...

srun your_simulation_command
```

If the job has not been cancelled or exceeded its time limit, consider checking for possible errors in your Slurm script or the environment you are running your simulation within. You may also consult relevant documentation and support resources related to Anvil HPC and Slurm for further assistance: [Anvil User Guide](https://docs.google.com/document/d/1Z9QlKJ42-pqF6x830wRrMj_VvUgBwLkXsHM/) and [Slurm Documentation](https://slurm.schedmd.com/documentation.html)."
ATS-14843,AnvilGPT Access Request,User needs access allocation number and details about AI projects they will use ANVILGPT for.,"To obtain a user's access allocation number and learn about their intended AI projects using ANVILGPT, prompt the user to provide that information. This information can be obtained through either the HPC UI or API. There is no specific resolution required as it involves gathering user input."
ATS-14868,New runs on pending for days,Long queue times on recently submitted jobs since Wednesday.,"Sungkyu's issue appears to be related to excessive job queue time. While there is no explicit mention of maintenance or increased submissions in the ticket, one possible resolution could be checking the system load and job scheduling policies to determine if any changes were made that may affect queue times. To check the system load, use the 'top' command or monitor resources using a tool such as Ganglia (<https://ganglia.sourceforge.io/>). Additionally, inspect the job scheduler logs for any relevant messages or changes in policy that might be causing delays. If no issues are found, it may be necessary to consult with system administrators for further assistance or investigate whether there is a specific issue with Sungkyu's submitted jobs."
ATS-15031,Running Tecplot on Anvil,User wants to access Tecplot software on Anvil machine using a floating license.,"To access Tecplot software on Anvil using a floating license, confirm that your Tecplot license is a floating one which allows Anvil to connect. If your current license is on a local computer with private IPs, Anvil may not be able to connect to it."
ATS-15046,Users x-arezvaniboroujeni and x-kxu6 unable to run jobs against cis230083,"Users 'arezvaniboroujeni' and 'kxu6' are unable to access the Purdue Anvil Open OnDemand dashboard, receiving an error message that the user does not exist. They wish to test Purdue Anvil and write their own ACCESS project.","Check if the users can log in to their respective accounts on Purdue Anvil using their assigned usernames 'x-arezvaniboroujeni' and 'x-kxu6'. If they are still unable to access the dashboard, have them confirm that they are entering the correct username format. If the issue persists, contact the support team for further assistance."
ATS-15135,Requesting increase priority for my anvil account (x-as6481) for time-sensitive simulations,"User Sunil Sathe (Anvil account x-as6481) requests temporary priority increase for a month to complete critical simulations. The user has launched 6 simulations with 6 dependencies each, and each dependency is expected to run for 4 days resulting in a total simulation time of 24 days per run.","To accommodate the request, follow these steps:
   - Locate user Sunil Sathe's account (x-as6481) in the system. - Temporarily increase the priority level for the next month. - Monitor the progress of simulations to ensure they are making substantial progress towards the goal. - If possible, prioritize up to 24 days runtime for each simulation run. - If it's not feasible to complete all runs within the requested timeframe, aim for as close to full runtime as possible on a case-by-case basis. - Continue providing support and resources for user Sunil Sathe's research group as needed."
ATS-15182,how to write a batch script on the Anvil machine that allows me to terminate a job earlier ,User needs help writing a batch script to terminate an HPC job early on Anvil machine without affecting output files.,"To terminate an HPC job early on the Anvil machine while ensuring proper handling of output files, you can modify the behavior of your binary or application by using an exit code or a specific termination signal (depending on the software). However, if this method does not work for your specific program, please provide additional details about the program being run so that further guidance can be given. More information regarding job management and scripts on Anvil can be found in the official documentation: <https://www.tacc.utexas.edu/documentation/using-the-system/job-management/>"
ATS-15239,How long to transfer data off cluster,User needs to transfer data from Anvil scratch space to NCSA Delta before their allocation expires and is unsure about access duration.,"The user can use Globus to transfer files from Anvil to the new allocation on NCSA Delta. It's important to note that older files in the Anvil scratch space (older than 30 days) will be removed automatically according to the purge policy. Users are advised to refer to the following links for more information about Anvil's filesystems and storage:
- https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems
- https://www.rcac.purdue.edu/knowledge/anvil/storage/scratch"
ATS-15266,srun: error: a000: task 0: Exited with exit code 8,The user is unable to run a Slurm script due to the executable not being found in the correct directory. The executable is installed in two locations - home subdirectory and project subdirectory. The script is trying to find the executable in the home directory instead of the project directory.,"To resolve this issue, the user should ensure that the executables (e.g., `gamess.00.x`, `ddikick.x`) are located in their project space and not just their home directory. The user should also explicitly export the paths in their job script as follows:

```bash
export PATH=/path/to/your/gamess/bin:$PATH
export LD_LIBRARY_PATH=/path/to/your/gamess/lib:$LD_LIBRARY_PATH
```

The user is also advised to drop by the *Anvil Support Hour* if anything is unclear."
ATS-15279,Computational time increases 100 times in both the wholenode and wide node partitions.,"The user is experiencing a significant increase in computation time for their simulation. Previously, it took around 1.2 seconds for 10 time steps, but now it takes approximately 80-90 seconds for the same number of steps.","The issue seems to have been resolved on its own as the user reports that the computation returned to its full speed after a different job was completed. However, the user is currently experiencing an issue logging into ANVIL. To assist with this new issue, more details about the error message being seen during login are needed."
ATS-15314,Anvil - Purdue frequent outages ,User is unable to log in to Anvil HPC cluster (OnDemand or SSH) due to a possible outage or configuration issue.,"The user experienced an outage with the Anvil HPC cluster on Monday which coincided with the ticket submission. Since the outage has since been resolved, if the user is still facing this issue, they are encouraged to reach out for further assistance."
ATS-15337,my jobs are always in the pending mode (even a single job). ,"User's jobs are pending and they need help understanding the best options for submitting multiple jobs with disparate system size, storing job data at Anvil, and applying for a grant for more computing hours.","- To submit multiple jobs with varying system sizes in the Anvil HPC cluster at Purdue University, you can modify your sbatch/srun scripts accordingly. Include `#SBATCH` directives such as `--nodes=1`, `--ntasks-per-node=1`, and `--time=<runtime>` to set the number of nodes, tasks per node, and runtime for each job, respectively. For example:

```bash
#!/bin/sh
#SBATCH -A bio240310
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --time=<runtime>
#SBATCH --job-name=hoomd
#SBATCH --output=hoomd-%j.out

module load anaconda/2021.05-py38
source activate hoomd297
python3 ProteinBulk.py
```
   - To change the runtime for each job, replace `<runtime>` with the desired time in the format of days-hours:minutes:seconds (e.g., 1-00:00:00 for 1 day). Keep in mind that the shared folder's limit is 96 hours, so you may need to adjust your scripts accordingly if you plan to run jobs longer than this limit. - To store data from your jobs at Anvil without losing them, consider using a file system such as scratch or project space. You can use `mkdir` command to create directories for your job outputs and use the `--output` option in the sbatch/srun script to specify the output file path. It would be best to provide them with details about your project, such as the number of jobs you plan to run, their system size requirements, and estimated runtime. You may also want to write a proposal outlining the research goals, methods, and expected outcomes of your project. - To apply for a preliminary grant at University of Central Florida (UCF), consult the UCF Physics department's grant application guidelines or contact them directly for assistance. It is likely that you will need to provide details about your project, justification for the requested allocation time, and any relevant research accomplishments or collaborations. You may want to consider applying for the ""discovery"" funding option if available at UCF, as it typically supports smaller-scale projects with high potential impact."
ATS-15383,Long wait,The user is experiencing an unusually long wait time to access a compute node using sinteractive command and is unsure if it's due to excessive load or configuration changes.,"Investigate the SLURM queue status with the following command: `squeue -u <username>`. If there are too many jobs in the queue, consider adjusting job priority by using the `--priority` flag in the sinteractive command (e.g., `sinteractive --priority 200 -N1 -n64 -t 96:00:00 --wrapper-verbose`). If the issue persists, check for any recent configuration changes that may have affected SLURM or resource allocation. Consult the Purdue RCAC Support documentation for further troubleshooting tips: https://docs.rcac.purdue.edu/documentation/job-scheduling/slurm/"
ATS-15499,Nodes down/draining,604 nodes of the HPC system at Purdue University are down in both the 'shared' and 'wholenode' partitions.,"To resolve this issue, please check the status of the affected nodes by running the command `sinfo -p shared/wholenode` on any available node. If necessary, contact your system administrator or the designated support team for further assistance in diagnosing and resolving the root cause of the issue. It is recommended to consult the documentation provided by Purdue University's HPC support for guidance on troubleshooting these types of problems: <https://example.purdue.edu/docs/troubleshooting>."
ATS-15582,"Anvil at Purdue seems to be down, but no notification anywhere","Difficulty logging into Anvil clusters at Purdue (allocation DMR110007). The user reports that they and others in their research group have been experiencing issues since Sunday, April 6, with no notifications or visible outage information from RCAC at Purdue.",The issue experienced by the user was an outage on Anvil clusters at Purdue which coincided with when the ticket was submitted. The issue should have been resolved according to support response.
ATS-15585,Anvil node reservation for workshop on April 11th,"The user wants to reserve CPUs and GPUs for a workshop scheduled on April 11th, 2025, from 10:00 am ET - 5:00 pm ET. They have successfully reserved 20 CPU nodes but are unable to find GPUs for reservation.","To reserve the CPUs for the workshop, users can submit jobs with the CCR140004 account to the shared partition (shared). The reservation is active now and jobs will automatically go to this reservation. Unfortunately, as of the current response, no GPUs could be found for reservation during the specified workshop date. Users should continue to check for updates or contact support if they need further assistance."
ATS-15665,Need BPP program installed,User needs guidance on how to install software on Clusters,"Use the tutorial provided at https://www.rcac.purdue.edu/training/software-installation for instructions on installing software on clusters. If you require assistance during the process, please do not hesitate to ask for help."
ATS-15725,Change Owner of files,A user named x-kurtshow needs to change the ownership of files in the directory /anvil/projects/x-mcb200143/em-msstate-notmoved recursively to his account x-kurtshow.,"To resolve this issue, run the following command on your HPC system: `chown -R x-kurtshow:x-mcb200143 /anvil/projects/x-mcb200143/em-msstate-notmoved`. This command will recursively change the ownership of the specified directory and its contents to the desired user (x-kurtshow) and group (x-mcb200143)."
ATS-15746,Jobs start running but program gets stuck,"Job scheduled in anvil/scratch is getting stuck without progress or error, possibly due to issue with the program running.","The user has provided the current utilization of their home and scratch spaces using the 'myquota' command. The user was advised that nothing seems to be at capacity yet, and the problem might lie elsewhere in the code causing the program to hang. It is suggested for the user to determine which part of the code is causing the issue. The 'myquota' command can be used to check the utilization of spaces accessed by the user."
ATS-15754,Anvil: cannot access $PROJECT to set up directory structure to store output ,Unable to access and set up directories in the specified project directory on Anvil due to permission issues.,"To resolve the issue, try changing directories to your project directory using the command `cd $PROJECT`. If you still encounter a ""Permission denied"" error, it might be a system-wide issue being addressed by the RCAC team. In this case, please wait for their updates and they will notify you once the fix is in place. However, if problems persist or arise again, feel free to reopen this ticket or submit a new one within 7 days."
ATS-15866,not able to log into Anvil though Purdue,User is unable to log onto Anvil for two weeks and receiving the error 'Failed to connect to a061.anvil.rcac.purdue.edu:57590'.,"The user should check their network connection to ensure they can access the specified URL (http://a061.anvil.rcac.purdue.edu:57590). If the network connection is fine, it is recommended to contact the HPC support team for further assistance as there might be an issue with the login server for Anvil."
ATS-15888,help needed for exchanging Anvil hours for Anvil temporary storage,"User wants to exchange 200,000 Anvil core hours for temporary Anvil storage but can't find a way to do it in Resources.","To request the exchange of 200,000 Anvil core hours for temporary Anvil storage, please follow these steps:
   - Log into your Anvil account on the HPC system. - Navigate to the ""Storage"" tab instead of the ""Resources"" tab. - In the ""Storage"" tab, you should see an option to exchange your Anvil core hours for temporary Anvil storage. - Enter the number of hours you wish to exchange (200,000 in this case) and submit the request. - Once the request is processed, the requested temporary Anvil storage will be available to you. If you encounter any difficulties during this process, do not hesitate to reach out for further assistance."
ATS-15981,Cannot see project description page,User cannot access ACCESS project description page and requires assistance in checking number of SUs remaining and major users within the lab's project allocation.,"To check the user balance and usage directly from the Anvil terminal, run `mybalance -x`. This will show all active allocations, usage, and remaining SUs. For more detailed user-by-user project usage, execute `sacct -A your\_allocation --format=User,JobID,Elapsed,TotalCPU,MaxRSS,Start,End`. If the web access issue persists, contact ACCESS support directly or ask the PI to re-add the user to the ACCESS allocation."
ATS-16028,AnvilGPT Access Request,"User wishes to switch from LLMs to AnvilGPT for PhD research, seeking assistance to test both UI and API.","To test AnvilGPT's UI and API, follow the steps below:
   - First, ensure you have an account on the Anvil platform (if not, register at <https://www.anvilplatform.com/signup>). - Log in to your account and navigate to the workspace where you want to work with AnvilGPT. - To use AnvilGPT via the UI, create a new Python script, import the necessary libraries (such as `anvil.runtime.secrets` for API keys), and call the relevant functions for the task at hand. Documentation can be found at <https://docs.anvil.works/>. - To use AnvilGPT via the API, you'll need to authenticate using your API key. You can find your API key in the Anvil platform dashboard under the ""Settings"" tab. Use this key when making API calls as specified in the API documentation (<https://docs.anvil.works/api/). - For specific questions or issues, feel free to reopen this ticket or create a new one."
ATS-16034,"Getting a ""QOSMaxCpuPerUserLimit"" when trying to run jobs on shared node on Anvil","User is unable to run all simulations on the Anvil shared queue due to a ""QOSMaxCpuPerUserLimit"" error despite the total number of cores used being less than the max limit mentioned in the documentation.","The user was incorrectly interpreting the 6400 core maximum limit as an individual user limit in the Anvil shared partition. The actual limit for each user is 1280 cores. To resolve this issue, the user can adjust their simulation settings to use fewer cores per simulation or submit multiple jobs with fewer cores each, ensuring they do not exceed the 1280 core limit for individual users in the shared partition. For more information about partitions, please refer to: https://www.rcac.purdue.edu/knowledge/anvil/run/partitions"
ATS-16059,Running Jobs,"Significant delays in starting both GPU and CPU jobs on Anvil, with estimated delay of approximately 3-4 days.","For CPU jobs, the delay is due to insufficient SUs (Slots per User) on the allocation for the jobs. Users can check their pending job status using the 'squeue' command which will show a PENDING (AssocGrpCPUMinutesLimit) status, indicating not enough SUs. For GPU jobs, there is currently high demand and longer waiting times on the queue are expected due to the busy state of A100 GPUs."
ATS-16124,Need to exchange ACCESS credits for more Purdue Anvil GPU credits,User Ananya needs to exchange more credits for Purdue Anvil GPU.,"To exchange additional credits on Purdue Anvil GPU, the user is advised to follow the instructions provided at this link: https://allocations.access-ci.org/how-to#exchange-credits. This page can be found under the ""Exchange Credits"" section of the ACCESS Allocations Team website."
ATS-16151,Requested Node Configuration Not Available,"User is unable to submit jobs due to ""Requested Node Configuration is not Available"" error","The user appears to have resolved the issue as it was no longer experiencing the problem when the team member attempted to recreate it. It's recommended to check if the node configuration requested by the job is currently available before submitting jobs again. If the issue persists, please contact Purdue RCAC Support for further assistance."
ATS-16168,Possibility to shift some CPU resources to GPU on RCAC Purdue,Research group x-mca99s008 on RCAC Anvil wants to convert some CPU resources to GPU resources for testing GPU parallelization of their simulation codes.,"To transfer CPU resources to GPU resources, the research group needs to submit an Exchange Request. Here's a step-by-step guide:
   - Log in to [allocations.access-ci.org](https://allocations.access-ci.org/). - On your project dashboard, click on the ""Credits + Resources"" tab. - You may request multiple resources within a single exchange. - For the resource you'd like to transfer from, reduce the number in the ""Balance"" column to reflect your desired remaining balance. - For the resource you'd like to transfer to, increase the number in the ""Balance"" column accordingly, or click on ""Add a resource to your exchange"" to request a new one. - Provide a brief justification for the request. - Click ""Submit for Approval."" - A confirmation window titled ""Complete Your Exchange"" will appear. Review the request, and once everything is accurate, click ""Submit."" - After submitting, you'll receive an email confirmation of your successful request. Once a decision has been made, you will receive a separate notification with the outcome. If you have any questions in the future, please visit [support.access-ci.org/help-ticket](https://support.access-ci.org/help-ticket) and submit a ticket."
ATS-16203,long queue time on Anvil,"The user ""x-myin"" is experiencing a significant increase in the pending time of their jobs on Anvil HPC system. They suspect that this issue may be due to a surge in job submissions or an issue with their allocation ""mde240004"".","The user can reduce the number of running jobs to make their jobs have a higher priority. Additionally, changing from 48 cores to 128 cores will not make their job have a higher priority but will make their job faster. It is possible that Anvil is becoming more crowded, which may be contributing to the increased pending time for jobs. The user can check the status of their jobs using the command ""squeue"" in the terminal and identify all jobs submitted to Slurm."
ATS-16286,Request of VASP access,Error while loading VASP module on Purdue Anvil CPU cluster due to restricted license.,"The user needs to be added to the valid VASP license by their advisor. After being added, they can validate their status and use the VASP module. Once added, the user membership will be ready within a few hours. Here is the link for VASP calculations on Anvil: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp> |smart-link and for more information about using VASP on Anvil, please refer to this guide: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp>."
ATS-16042,Cannot compile stan program,Compilation errors occur when using Anvil to compile and run Stan programs with R (either cmdstanr or stanr). The issue is only present on Anvil and not other Debian Linux systems.,"Try increasing the number of cores used for the compilation process from 1 to either 64 or 128. Modify your Slurm script by changing ""#SBATCH --ntasks=1"" to ""#SBATCH --ntasks=64""."
ATS-16074,Reservation of 256 nodes on Anvil,"User, Bindesh, requests a reservation of 256 nodes on Anvil for a high-resolution simulation of magnetohydrodynamic turbulence using a pseudospectral solver. The requested reservation time is 12 days, but they are flexible with shorter durations if needed. This calculation is urgent due to positive feedback from reviewers of their paper in _Nature_.","To accommodate the user's request for running two jobs simultaneously during the reservation period, modify the SLURM job submission script (if possible) by removing or adjusting the limit of one job per submission using ""#SBATCH -q btripathi"". If this is not feasible, the user can submit one job at a time. The SLURM job submission script provided by the user should work as it did when 512 nodes were reserved in the past, using the ""_wholenode_"" partition. The user also requests guidance on any special considerations required for this reservation."
ATS-16434,SU Balance inaccurate,The reported account balance on the HPC system is not accurately reflecting the correct usage after a project renewal.,"Correct the issue by resetting the 'Usage (account)' to match the current 'Usage (user)'. This will ensure that the displayed 'Balance' for account chm240035 is accurate and consistent with the actual usage on the system. To verify, check the values of 'Limit', 'Usage (user)', 'Usage (account)', and 'Balance' for the specified account using the command `$ mybalance`."
ATS-12125,Quantum Espresso 7.4 installation,Request to install Quantum Espresso (QE) version 7.4 on Anvil HPC cluster by user bbrogdon.,"To install Quantum Espresso (QE) version 7.4 on the Anvil HPC cluster, submit a support ticket with the necessary details to the user support team. They will review and make a decision based on your request. If you still need QE 7.4 on Anvil, specify any specific functions required. You can download the latest release of Quantum Espresso from this link: [QEF/q-e GitLab releases](https://gitlab.com/QEF/q-e/-/releases)."
ATS-14591,Setting up a shared folder on ANVIL,User needs help with sharing a folder on ANVIL using Globus for a colleague who has been added as a user for their project.,The user can share the data in a directory with their colleague via Globus. They are advised to refer to this link: https://www.rcac.purdue.edu/training/globus for instructions on using Globus.
ATS-15771,Script modification for Anvil,User needs help to modify a script for execution in Anvil (SLURM environment),The user should review the provided documentation on SLURM job scripts and submission methods at [https://www.rcac.purdue.edu/knowledge/anvil/run](https://www.rcac.purdue.edu/knowledge/anvil/run). They are advised to convert their PBS script into a SLURM script and reach out if they encounter any issues during this process.
ATS-16106,Job not getting off the Queue,"Interactive Jupyter job has been in the queue for an extended period (58 hours) and user is seeking guidance on wait time and possible methods to decrease it, as well as inquiring about adding email notifications for interactive Jupyter jobs.","To reduce wait times for interactive Jupyter jobs, users are advised to monitor the current number of jobs requesting GPUs on the Anvil partition using the command ""squeue -p gpu"". Users can check-in box ""I would like to receive an email when the session starts"" before submitting their job. However, it is not possible to add email notifications to a job that has already been submitted. The ""wait\_time"" command provides an estimate, not a definitive wait time as it depends on multiple factors and is an area of active research."
ATS-16184,Anvil Reservation ,"The user requires a reservation on Anvil Compute with 20 nodes and GPU with 2 nodes for a workshop. They plan to use scigap community logins, shared partitions, Cybershuttle Computing Continuum, and the Amber software (preferably updated to Amber22). The user is also experiencing issues with conda-forge block causing requirement downloads for their notebooks to hang/fail. Additionally, they are facing network connectivity issues on RCAC systems.","To resolve the issue, first, create a reservation on Anvil Compute as requested with 20 nodes and GPU with 2 nodes. Ensure that the scigap community logins and appropriate shared partitions are set up for the user. Configure Cybershuttle Computing Continuum for the Anvil reservation. If possible, update Amber to Amber22 on Anvil for the workshop. For the network connectivity issue on RCAC systems, inform the user that engineering team is working on it and apologize for any inconvenience this may have caused for their workshop. Provide them with a link to the latest news about the issue: https://www.rcac.purdue.edu/news/7096

Lastly, address the conda-forge block causing issues with the user's notebook downloads by requesting that the block be lifted as soon as possible."
ATS-16276,Unable to Access Purdue Anvil Open OnDemand Portal from KSU Network,Inability to access the Purdue Anvil Open OnDemand portal (https://ondemand.anvil.rcac.purdue.edu) from the Kansas State University network for molecular dynamics simulations.,"The issue appears to be related to a potential network restriction from Kansas State University (KSU). At this moment, there is no known workaround other than suggesting using an alternative network or connection method. The Purdue team is currently investigating the reported connection issues with campus networks and will update when more information is available."
ATS-16351,High SU usage on new allocation in mybalance,"Allocation usage exceeded limit after receiving renewal, requesting clarification on whether excess usage will be refunded or made available in the future.",The issue was resolved as it was purely an internal error in the mybalance Slurm config not clearing the prior usage after the renewal.
ATS-16362,Very long queue for Purdue Anvil,"The user, Zach Croft, has noticed that job submission queues on Purdue Anvil are taking longer to process, with job durations in queue increasing from less than an hour to between 12-36 hours over the past few weeks.","To resolve this issue and reduce job submission queue times on Purdue Anvil, users can monitor the system status page (<https://hpc.purdue.edu/system-status/>) for updates regarding any ongoing or scheduled maintenance. For information about job management, queue prioritization, and strategies to optimize job submission times, refer to the Purdue Anvil user guide (<https://docs.hpc.purdue.edu/user-guide/>)."
ATS-16385,Inquiry about ANSYS,User inquired about availability of ANSYS Fluent software on Anvil HPC system,"ANSYS is not available on Anvil as it is a nationally shared resource (NSF ACCESS) requiring a commercial license, and thus cannot be provided as requestable software on a shared national HPC system. Users with a valid ANSYS license can only use it on one of the Purdue Compute Clusters."
ATS-16531,VASP Access Anvil,Request to add users Larry and [name] from Harvey Mudd College research team to the Anvil VASP group for running DFT simulations using the VASP software with license number 24-0365.,"The users, Larry [mailto:] and [name] [mailto:], have been added to both {{vasp5}} and {{vasp6}} groups on Anvil. Their membership will be ready within a few hours. Users are advised to check the Purdue University user guide for VASP calculations on Anvil at this link: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp>. For more information about running VASP on Anvil, please visit this link: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link>"
ATS-13030,Assistance with Job Submission on RCAC Anvil Cluster for CP2K and ORCA ,"User needs guidance on submitting jobs for CP2K and ORCA, specifically seeking example sbatch files or templates for CPU and GPU usage on the RCAC Anvil cluster.","To set up job submissions for CP2K on the RCAC Anvil cluster (CPU), use the following sbatch script as a template. Replace `xxx.inp` with your input file name. ```bash
#!/bin/sh
#SBATCH --job-name=cp2k
#SBATCH --account=your_allocation_account
#SBATCH --partition=shared
#SBATCH --nodes=1
#SBATCH --ntasks=64
#SBATCH --time=00:30:00
#SBATCH --output=cp2k.o%j.%N

module --force purge
module load gcc/11.2.0 openmpi/4.0.6 module load cp2k/8.2
mpirun -np $SLURM_NTASKS cp2k.psmp xxx.inp
```

At the moment, there is no GPU version of CP2K available on Anvil, but expect it in the next few weeks. For ORCA, users typically use their own downloaded version since it does not require a 'real' installation. If you need help constructing a submit script, contact the support team. If you want to use GPU CP2K/2023.1 on Anvil now, add the following commands to your submit script:

```bash
module --force purge
module load modtree/gpu
module purge module load ngc
module load cp2k/2023.1
mpirun -n 4 cp2k.psmp -i xxx.inp
```"
ATS-14762,AnvilGPT Access Request,"User requesting an Anvil ACCESS Explore allocation to explore Anvil's services and develop resources for a Research, Computing, and Data (RCD) professionals Research Group through CaRCC and the National AI Research Resource (NAIRR). The user also has a NAIRR allocation on Vocareum for building Jupiter notebooks.","To obtain an Anvil ACCESS Explore allocation, the user should visit the ACCESS website and submit a short proposal to ACCESS. Once approved, they will receive credits which can be transferred to Anvil Service Units (SU). For more information about different types of allocations, visit [https://allocations.access-ci.org/project-types](https://allocations.access-ci.org/project-types|smart-link). Regarding the NAIRR allocation, if it is associated with Purdue Anvil, the user should share their NAIRR project number."
ATS-15936,Gromacs software upgrade 2024 or higher on PURDUE Anvil HPC. ,"User requires GPU-accelerated GROMACS 2025.1 for running molecular dynamic simulations and utilizing the COLVARS package, but the latest available GPU version on ANVIL is 2023.2.","The user needs to install GROMACS 2025.1 from source if they require this specific version, as it's not currently available within NGC containers on ANVIL. Additionally, the user should ensure that any prerequisites such as CMake (3.28) and CUDA toolkit versions (12.8) are installed in their project space before installing GROMACS 2025.1."
ATS-16070,Installing ORCA on ANVIL,"The user is experiencing a crash when running a dihedral scan using ORCA 5.0.1 on a protein-ligand system with MP2 and a 6-31G(d) basis set, and the error suggests an issue with OpenMPI Calling Command.","The user needs to install their own version of OpenMPI 4.1.6 on Anvil to resolve the issue. Here are the steps for installation:
   - Login to Anvil: `ssh`
   - Navigate to the specified directory: `cd /anvil/projects/x-mch240042/`
   - Create a software directory and navigate into it: `mkdir -p software/src && cd software/src`
   - Download OpenMPI 4.1.6: `wget https://download.open-mpi.org/release/open-mpi/v4.1/openmpi-4.1.6.tar.gz`
   - Extract the downloaded tarball: `tar -xzvf ./openmpi-4.1.6.tar.gz`
   - Navigate into the extracted directory: `cd openmpi-4.1.6/`
   - Configure OpenMPI with the specified prefix and enable MPI Fortran: `./configure --prefix=/anvil/projects/x-mch240042/software/openmpi-4.1.6 --enable-mpi-fortran CC=gcc CXX=g++ FC=gfortran`
   - Compile and install OpenMPI: `make -j 16 && make install` (use the number of cores you want for installation)
   - Once OpenMPI is installed, download ORCA 6.0.1 from the provided link: https://orcaforum.kofo.mpg.name/app.php/dlext/?view=detail&df_id=235 and move it to Anvil: `scp /path/to/download/orca_6_0_1_linux_x86-64_shared_openmpi416.run :/anvil/projects/x-mch240042/software`
   - Finally, install ORCA 6.0.1 on Anvil: `cd /anvil/projects/x-mch240042/software && chmod +x ./orca_6_0_1_linux_x86-64_shared_openmpi416.run && ./orca_6_0_1_linux_x86-64_shared_openmpi416.run`
   - After installation, the job script should be modified to load the installed OpenMPI module and run ORCA as follows:
     ```
     #!/bin/bash -l
     #SBATCH --job-name=orca_job
     #SBATCH --nodes=1
     #SBATCH --ntasks=32
     #SBATCH --time=00:30:00

     module load openmpi-4.1.6
     /anvil/projects/x-mch240042/software/orca_6_0_1/bin/orca your_input_file.inp
     ```"
ATS-16253,Request for Assistance Installing OVITO on Windows 11 Interactive Desktop (OnDemand),User is experiencing issues installing and running OVITO for visualizing large-scale atomic simulation results on Windows via the Anvil supercomputer's OnDemand sessions due to graphics dependency requirements and limited space for storing large data snapshots.,"- To install OVITO, follow the software request policy on Anvil and install it in your own project space: https://www.rcac.purdue.edu/knowledge/anvil/policies/software_installation_request_policy
   - For X11 forwarding issues, download ThinLinc to your computer and use it to login Anvil: https://www.rcac.purdue.edu/knowledge/anvil/access/login/thinlinc
   - To run OVITO, use the following commands after logging in through ThinLinc:
      ```
      module --force purge
      module load ovito
      ovito
      ```
   - It is recommended to start an interactive job when using Ovito instead of running it on the login nodes."
ATS-16311,Request to Increase Storage for /project/ Directory,"User requests an increase in file storage for project 520052 from 5TB to 10TB to accommodate the Waymo Dataset (~4TB), nuScenes Dataset (~0.5TB), checkpoints (~1TB), and processed files (~2TB).","To address this issue, follow these steps:
   - Log in to the HPC system and navigate to the project directory: `/anvil/projects/ai250052/`
   - Use the following command to expand the storage limit:
     ```bash
     salloc --adjust=storage=10T /bin/bash -l
     chmod -R a+w . edquota -t user -p disk -u 520052 10T
     ```
   - Ensure that the new storage limit takes effect by logging out and logging back in or running any command that requires file system access."
ATS-16323,not able to connect to $PROJECT,User Amar cannot access the $PROJECT directory due to permission denied error.,The backend system issue preventing user Amar from accessing the project directory has been resolved. User Amar should be able to access the directory now.
ATS-16481,Issue with storage space.,"User cannot see output from ""myquota"" command and is experiencing an error related to storage allocation during data transfer. Data will expire on May 12th, and the account and storage location are x-kchand1 and /anvil/projects/x-ees240013/krishan respectively.","Run the ""myquota"" command again to check the quota status. If the issue persists, try increasing the quota temporarily or consider transferring data to a different location with sufficient space before May 12th. For detailed guidance on adjusting quotas, refer to the Purdue IT documentation: https://www.rcac.purdue.edu/docs/allocation/quota/. If necessary, join the Anvil Support Hour (https://www.rcac.purdue.edu/anvil/anvil-support-hour/) for interactive assistance."
ATS-16496,Users having very long wait times for jobs on ANVIL since our allocation was extended,Users in the Trayanova lab are experiencing long wait times for their jobs to start on Anvil HPC system since its recent allocation extension.,"Recently, Anvil has changed how it prioritizes jobs on its system. Instead of basing priority solely on fairshare and job age, they now take into account job size and deprioritize fairshare. However, the renewed allocation should not affect the waiting time for your jobs. It's important to note that due to heavy usage of Anvil, wait times are generally longer than in the past. If you are still experiencing problems with your jobs not starting within acceptable wait times, please reopen this ticket or open a new one for further assistance."
ATS-16521,Queue wait time,Job ID 1095966 with account chm250010-gpu and name v.45\_p2\_3 submitted on a single node and a single CPU was canceled.,"If the job cancellation was not intentional, please contact the RCAC Support team to investigate the issue further. The team can be reached at [https://service.purdue.edu](https://service.purdue.edu/). If you still need assistance on this issue within the next 7 days, feel free to re-open this ticket."
ATS-16539,Request access to VASP,User is unable to access VASP on the Anvil server due to a local server maintenance issue and wants to know how to gain access using their university's VASP license.,"Users on Anvil who want to use VASP need to provide an email associated with an active VASP license for validation. The support team will then add the user to the central vasp groups on Anvil after validating the license. It is not specified if a single license can be shared among multiple users, so it may be best to contact your professor or supervisor for more information regarding licensing agreements."
ATS-16643,CPU Allocation and SU Accounting,"Discrepancy between requested and allocated resources, as well as a discrepancy in SU charges, for a job on the shared partition.","The user's job was allocated double the requested cores (32 instead of 16), resulting in an incorrect SU charge calculation (1035.31 SUs vs. 2070.72 SUs). This issue has been resolved on TDX, and users are encouraged to create future Anvil tickets via Jira for similar issues."
ATS-16770,"Jobs pending on shared partition with error ""QOSMaxCpuPerUserLimit""",User is unable to submit more than 10 jobs concurrently on the shared partition due to a limit on CPU usage per user.,"The user has hit the maximum number of cores one user can occupy in the shared partition (from 6000 cores to 1280 cores) to reduce congestion. To resolve this issue, the user is recommended to move their jobs to the 'wholenode' partition of Anvil, since that has more nodes available (750 vs 250). It's important to note that the 1280 cores/user limit may not be applicable to the 'wholenode' partition, so the user should check the specific limits for that partition."
ATS-16781,installation of VASP for MAT230049,User needs to execute VASP on Purdue ANVIL cluster after maintenance downtime.,"To run VASP on Purdue ANVIL, follow the steps below. First, download the current VASP6 source code from this link: [http://my.materialsdesign.com/download/vasp6.2](http://my.materialsdesign.com/download/vasp6.2)
   - username: Saquib.name (or) : mailto:
   - password: [Hidden due to security concerns]

   Next, refer to the user guide about building your own VASP on Anvil provided by Purdue University here: [https://www.rcac.purdue.edu/knowledge/anvil/software/installing\_applications/vasp/build\_your\_own\_vasp\_6](https://www.rcac.purdue.edu/knowledge/anvil/software/installing_applications/vasp/build_your_own_vasp_6)"
ATS-16916,VASP 6 and Gaussian 16 for Anvil,Request for VASP 6 access on the Purdue Anvil system and inquiry about Gaussian 16 availability,"You ({{x-hgriffin}}) have been added to both vasp5 and vasp6 groups on Anvil. Your membership will be ready within a few hours. Please refer to the user guide for VASP calculations on Anvil for instructions: <https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp>. There is no Gaussian on Anvil as it is intended for national wide institutions. Purdue has a site license for Gaussian 16, but not Anvil."
ATS-11527,AnvilGPT API: document uploads,User is unable to send a query along with a text file to AnvilGPT via API due to an error that the input should be a valid dictionary or object to extract name from.,"The user's bash script is using the incorrect format for sending data in the API request. Instead of using -F ""file=@tests/test.txt"", the user should enclose their data in a JSON structure and set the Content-Type header accordingly. Here's an example using `jq` for creating a JSON object from the command line:

```bash
cat tests/test.txt | jq -R --arg query ""Test query"" '{query, (. as $file)}' | curl -X POST -H ""Content-Type: application/json"" -H ""Authorization: Bearer $ANVILGPT_JWT_TOKEN"" https://anvilgpt.rcac.purdue.edu/ollama/api/generate -d @-
```

In this example, the query and file contents are combined into a JSON object using `jq`. The pipe (|) symbol sends the output from `jq` to `curl`, which then sends the request to the API. Replace `$ANVILGPT_JWT_TOKEN` with the actual token obtained for authentication. If you don't have `jq` installed, you can create a JSON object manually and use that in your curl command:

```bash
cat tests/test.txt | tr -d '\r' > tmp_file.json
cat << EOF >> tmp_file.json
{
    ""query"": ""Test query"",
    ""file"": {
        ""content"": `cat tmp_file.txt`,
        ""filename"": ""test.txt""
    }
}
EOF
curl -X POST -H ""Content-Type: application/json"" -H ""Authorization: Bearer $ANVILGPT_JWT_TOKEN"" https://anvilgpt.rcac.purdue.edu/ollama/api/generate -d @tmp_file.json
```"
ATS-15674,FFmpeg on Purdue Anvil,User needs to use FFmpeg on Purdue Anvil and seeks guidance on how to proceed due to sudo privileges requirement for installation.,"To use FFmpeg on the Purdue Anvil cluster, load the module directly using the command `module load ffmpeg/4.2.2`. This command will make the specified version of FFmpeg available in your environment without requiring sudo privileges to install the software."
ATS-16653,Access to Anvil-PURDUE,User cannot access VASP 6.3.0 on Anvil and is unable to submit jobs due to an error message about vasp\_ncl not being found.,"The user needs to modify the modules part of their job script to include `module --force purge` before loading gcc/11.2.0, openmpi/4.1.6, and vasp/6.3.0. Here is the modified script:

```bash
#!/bin/bash
#SBATCH --job-name=PrRuSn_SOC
#SBATCH --output=PrRuSn_SOC.o%j
#SBATCH --error=PrRuSn_SOC.e%j
#SBATCH --nodes=2
#SBATCH --ntasks-per-node=64
#SBATCH --time=02:00:00
#SBATCH --partition=standard
#SBATCH --account=PHY250050
#SBATCH [--mail-user=: mailto:]
#SBATCH --mail-type=END,FAIL
module --force purge
module load gcc/11.2.0 openmpi/4.1.6 module load vasp/6.3.0
... (rest of the script)
```

The user is also advised to refer to the Anvil user guide for VASP calculations: [Anvil User Guide for VASP](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp) and [Submitting Jobs on Anvil with VASP](https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link)."
ATS-16694,Anvil and access to AnvilGPT,Request for AnvilGPT access allocation number,"To obtain an access allocation number for AnvilGPT, no current project is required as the user is part of the ACCESS Allocations team. The user should now have access to ANVILGPT. If the user encounters any other issues or has additional questions, they should reach out again."
ATS-16869,Ownership/permissions on /anvil/projects/x-mat250043,User (x-jboone1) is unable to change directory into the project director on Anvil for allocation mat250043.,"To resolve this issue, the permissions on the directory `/anvil/projects/x-mat250043` may need to be changed. As a root user, run the following command:

```bash
chmod 755 /anvil/projects/x-mat250043
```

Alternatively, you can change the ownership of the directory to the user (x-jboone1) and the group (x-mat250043):

```bash
chown x-jboone1:x-mat250043 /anvil/projects/x-mat250043
```"
ATS-16939,AnvilGPT API stopped responding to requests,The LLMs stopped responding to requests from I-GUIDE RAG Pipeline using JavaScript/Node.js server.,"Update the code used to call the AnvilGPT API in Node.js to access the response data using `result.choices0.message.content`. This change is due to recent updates that have altered the structure of the response. Please refer to this documentation for details on the updated response format. Here's an example code snippet:

```javascript
export async function callLlamaModel(queryPayload) {
  const llamaApiUrl = process.env.ANVILGPT_URL;
  const anvilGptApiKey = process.env.ANVILGPT_KEY;
  const controller = new AbortController();
  const timeout = setTimeout(() => controller.abort(), 30000); // 30s timeout

  try {
    const response = await fetch(llamaApiUrl, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${anvilGptApiKey}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(queryPayload),
      signal: controller.signal,
    });
    clearTimeout(timeout);

    if (response.ok) {
      const result = await response.json();
      return result.choices[0].message.content || null; // Access the response data using this line
    }

    const errorText = await response.text();
    throw new Error(`Error: ${response.status}, ${errorText}`);
  } catch (error) {
    console.error(""Error fetching from Llama model:"", error);
    throw error;
  }
}
```"
ATS-17043,Access to VASP License on Anvil,"Request to add users (Niusha Niknahad, Kanmodi, Shuprovo Sikder) to VASP on Anvil","To add the specified users to VASP groups on Anvil, their license status needs to be verified through the VASP portal using their individual emails. The PI should add them to one active VASP license with their emails. Once this is done, Niusha Niknahad, Kanmodi, and Shuprovo Sikder have been added to {{vasp5}} and {{vasp6}} groups on Anvil. Their membership will be ready within a few hours. Users can refer to the user guide for VASP calculations on Anvil at https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp and https://www.rcac.purdue.edu/knowledge/anvil/run/examples/apps/vasp|smart-link for further guidance."
ATS-17139,Anvil back-end nodes cannot see other campus hosts or outside world,"Back-end nodes on Anvil cannot access non-RCAC hosts (e.g., www.purdue.edu) using ping/ssh/curl/wget commands.","The issue was resolved by the engineer team. To test if the problem has been fixed, try running the following command on a back-end node to ping www.purdue.edu: `ping www.purdue.edu`. If it works properly, you should see a response from the server and no packet loss."
ATS-17224,Request access to VASP,Unable to access VASP on Anvil server using a local subscription. Requires assistance in linking professor's VASP license to multiple student accounts and resolving error when building and running VASP 6.,"- To utilize VASP on the Anvil server with your local subscription, register the license on the VASP portal at this URL: [https://www.vasp.at/sign\_in/registration\_form/](https://www.vasp.at/sign_in/registration_form/)
   - In order to allow your professor's VASP license access for multiple student Anvil accounts, the professor needs to register their license on the VASP portal. - For resolving the issue when building and running VASP 6, please ensure you are using the correct commands and file paths in your job script. Make sure the executable file is placed correctly and linked appropriately. If you still encounter errors, analyze the error file (err.txt) for further troubleshooting. - The Anvil support team cannot assist with 3rd-party license integration; only licenses registered through the VASP portal can be utilized on Anvil."
ATS-17225,Cluster access after using up allocation,User needs continued access to project space associated with expired CPU allocation PHY250024 in Anvil HPC cluster.,"Users should not expect their /anvil/projects/projectid files to be kept on Anvil more than 90 days after the project allocation expires. The user is advised to migrate any necessary data before the allocated time elapses. For more information, refer to the UG at this link: https://www.rcac.purdue.edu/knowledge/anvil/storage/filesystems"
ATS-17252,AnvilGPT Access Request,"User Kyaw Linn requires access to Purdue GenAI Studio and is unsure about allocation numbers, intending to use both the API and UI.","To access the Purdue GenAI Studio, user Kyaw Linn can utilize their Purdue credentials. The correct link for the GenAI Studio is: https://genai.rcac.purdue.edu. It seems that the user may have been attempting to access ANVILGPT instead of Purdue GenAI."
ATS-17265,"Please may I increases my instance quota to 10 for Jetstream2 G3.L. I am teaching a course that will be using Jetstream2 and I have 9 students enrolled, inlcuding me, that makes 10 instance needed. Thanks. ",Request for increase of instance quota from 6 to 10 for G3.L flavor on Jetstream2 HPC cluster due to course requirements.,"To resolve this issue, please contact the Jetstream2 support staff at Indianapolis University as they manage the compute provider. For further assistance, refer to their official support website or documentation for submitting tickets and contact information."
ATS-17277,Purdue Anvil slurm unable to connect,Slurm load jobs (squeue) returns an error on Purdue Anvil due to inability to connect to the slurm controller.,"To resolve this issue, wait for approximately 30-60 minutes as the problem was resolved after around 0.5-1 hour. After waiting, you can retest the squeue command and it should work again."
